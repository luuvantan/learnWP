if (self.CavalryLogger) { CavalryLogger.start_js(["FyZEd"]); }

__d("useWorkPinMessageStatusChangeMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"WorkChatPinMessageStatusChangeData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={kind:"ScalarField",alias:null,name:"message_id",args:null,storageKey:null},d={kind:"InlineFragment",type:"UserMessage",selections:[{kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]}]},e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"useWorkPinMessageStatusChangeMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"work_chat_pin_message_status_change",storageKey:null,args:b,concreteType:"WorkChatPinMessageStatusChangeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:null,concreteType:"MessageThread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"pinned_messages",storageKey:null,args:null,concreteType:"PinnedMessageData",plural:!0,selections:[c,{kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d]}]}]}]}]},operation:{kind:"Operation",name:"useWorkPinMessageStatusChangeMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"work_chat_pin_message_status_change",storageKey:null,args:b,concreteType:"WorkChatPinMessageStatusChangeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"thread",storageKey:null,args:null,concreteType:"MessageThread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"pinned_messages",storageKey:null,args:null,concreteType:"PinnedMessageData",plural:!0,selections:[c,{kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},e,d]}]},e]}]}]},params:{operationKind:"mutation",name:"useWorkPinMessageStatusChangeMutation",id:"2731450410239769",text:null,metadata:{}}}}();e.exports=a}),null);
__d("WorkTeamworkChatWithGroupNullstateMessageQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"id",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"id"}],c={kind:"ScalarField",alias:null,name:"visibility",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"is_default_child_group",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"WorkTeamworkChatWithGroupNullstateMessageQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"group",storageKey:null,args:b,concreteType:"Group",plural:!1,selections:[c,d]}]},operation:{kind:"Operation",name:"WorkTeamworkChatWithGroupNullstateMessageQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"group",storageKey:null,args:b,concreteType:"Group",plural:!1,selections:[c,d,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]},params:{operationKind:"query",name:"WorkTeamworkChatWithGroupNullstateMessageQuery",id:"2706632359390152",text:null,metadata:{}}}}();e.exports=a}),null);
__d("MessengerForwardChatFlowSharedAttachmentsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerForwardChatFlowSharedAttachmentsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerForwardChatFlowSharedAttachmentsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerForwardChatFlowSharedAttachmentsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAttachmentID=function(a){this.$1.attachment_id=a;return this};c.setAttachmentType=function(a){this.$1.attachment_type=a;return this};c.setIsFromViewer=function(a){this.$1.is_from_viewer=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={attachment_id:!0,attachment_type:!0,is_from_viewer:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MessengerDeleteMessageDialogReact.bs",["fbt","bs_block","bs_curry","React","ReasonReact.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReasonReact.bs").reducerComponent("MessengerDeleteMessageDialogReact");function i(a){return g._("X\u00f3a tin nh\u1eafn")}var j=g._("B\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n x\u00f3a tin nh\u1eafn n\u00e0y kh\u00f4ng?");function k(a){return g._("X\u00f3a")}function l(a,c,d,e){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(c){var e,f;return(e=b("ReasonReact.bs")).element(void 0,void 0,(f=b("MessengerDialogReact.bs")).Dialog.make(void 0,void 0,a,void 0,c[1][0],void 0,void 0,void 0,void 0,void 0,[b("React").createElement(b("MessengerDialogHeaderReact.bs").make,{children:i(0)}),b("React").createElement(b("MessengerDialogBodyReact.bs").make,{children:j}),e.element(void 0,void 0,f.Footer.make(void 0,void 0,[e.element(void 0,void 0,f.CancelButton.make(d,[])),e.element(void 0,void 0,f.Button.make(void 0,k(0),void 0,"danger",function(a){return b("bs_curry")._1(c[3],0)},0,void 0,void 0,void 0,[]))]))]))},function(a){return[!0]},h[10],function(a,d){return b("bs_block").__(2,[[!1],function(a){return b("bs_curry")._1(c,0)}])},h[12]]}a=b("ReasonReact.bs").wrapReasonForJs(h,function(a){return l(a.onToggle,a.onDelete,a.onCancel,[])});f.component=h;f.renderDialogHeaderMsg=i;f.dialogBodyMsg=j;f.renderDialogButtonMsg=k;f.make=l;f.jsComponent=a}),null);
__d("MessengerDeleteMessageDialogReact.re",["bs_curry","MessengerDeleteMessageDialogReact.bs","ReasonReact.bs"],(function(a,b,c,d,e,f){a=b("ReasonReact.bs").wrapReasonForJs(b("MessengerDeleteMessageDialogReact.bs").component,function(a){return b("bs_curry")._4(b("MessengerDeleteMessageDialogReact.bs").make,a.onToggle,a.onDelete,a.onCancel,a.children)});f.component=a;f["default"]=a}),null);
__d("MessengerForwardAttachmentDialogReact.re",["bs_curry","MessengerForwardAttachmentDialogReact.bs","ReasonReact.bs"],(function(a,b,c,d,e,f){a=b("ReasonReact.bs").wrapReasonForJs(b("MessengerForwardAttachmentDialogReact.bs").component,function(a){return b("bs_curry")._7(b("MessengerForwardAttachmentDialogReact.bs").make,a.attachmentID,a.onClose,a.messageID==null?void 0:a.messageID,a.shown,a.title,a.shareType==null?void 0:a.shareType,a.children)});f.component=a;f["default"]=a}),null);
__d("MessengerMessage.re",["bs_curry","MessengerMessage.bs"],(function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._6(b("MessengerMessage.bs").makeFakeMessage,a.messageId,a.threadId,a.author,a.actionType,a.timestamp,c);return a};f.makeFakeMessage=a;c=b("MessengerMessage.bs").hasError;f.hasError=c}),null);
__d("MessengerProfileImageWrapperM4React.bs",["cx","cssVar","React","bs_belt_Option","bs_caml_option","TooltipData","joinClasses","getViewportDimensions","MessengerProfileImageM4React.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.borderColor,d=a.className,e=a.isActive,f=a.src,g=a.size;a=a.tooltipContent;var h;if(a!==void 0){a=a;if(a==="")h={};else{var i=b("getViewportDimensions")().width,j=parseInt("700px".replace("px",""),10);i=i<=j;j=i?"above":"left";h=Object.assign({},b("TooltipData").propsFor(a,j))}}else h={};i={src:f,size:g};c!==void 0&&(i.borderColor=b("bs_caml_option").valFromOption(c));d!==void 0&&(i.className=b("bs_caml_option").valFromOption(d));e!==void 0&&(i.isActive=b("bs_caml_option").valFromOption(e));a=b("React").jsx(b("MessengerProfileImageM4React.bs").make,i);return b("React").cloneElement(b("React").jsx("div",{children:b("React").jsx("div",{children:a,className:"_4ld- _7q1r"}),className:b("joinClasses")("_4ldz",b("bs_belt_Option").getWithDefault(d,"")),style:{height:""+(String(g)+"px"),width:""+(String(g)+"px")}}),h)}c=a;f.make=c}),null);
__d("WorkTeamworkComposerM4React.bs",["cx","fbt","cssVar","invariant","bs_curry","React","bs_js_dict","FBLogger","JSResource","MercuryIDs","stylex","bs_belt_Option","bs_caml_option","AsyncRequest","MercuryConfig","MessengerView","MessengerState.bs","bs_caml_exceptions","MessengerDialogs.bs","bs_js_null_undefined","MessengerPageUtils.bs","MessageRequestUtils","CometPressable.react","MessengerButtonReact.bs","MercuryReadOnlyReason","MessengerHotLikeUtils","MessengerParticipants.bs","getPageIDFromThreadID","MessengerSettingsStore","ReplyingToMessageReact.bs","ChatPhotoUploader.react","MessengerSendButtonReact.bs","WorkChatSmartReplies.react","MessengerBotMenuButtonReact.bs","MessengerComposerInput.react","MessengerHotLikeButton.react","MessengerReactIconSVGM4React.bs","CometLazyPopoverTrigger.react","MessengerThreadCannotReplyReason","MercuryIgnoredBlockedParticipants.bs","MessengerFileSizeErrorDialogReact.bs","MessengerProfileImageWrapperM4React.bs","XMessagingUnblockMessagesController","MessengerComposerPendingActionsM4React.bs","MessengerUnconnectedThreadInfoTextReact.bs"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k;d=b("bs_caml_exceptions").create("WorkTeamworkComposerM4React.TooManyIcons");(k||(k=b("stylex"))).inject(".eedctqi0{margin-right:5px}",1);k.inject(".obfykoqy{width:27px}",1);k.inject(".lx4mfs1p{height:27px}",1);k.inject(".saacjlin{padding-top:3px}",1);k.inject(".b71ma7mt{padding-left:4px}",1);k.inject(".rdsw9yci{margin-top:-1px}",1);var l={attachment:{marginRight:"eedctqi0",width:"obfykoqy",height:"lx4mfs1p",paddingTop:"saacjlin",paddingLeft:"b71ma7mt"},emoji:{marginTop:"rdsw9yci"}};function m(a,b){var c=a?1150:650;a=a?1e3:500;switch(b){case 0:b=c+1|0;return"(min-width: "+(String(b)+"px)");case 1:b=a+1|0;return"(min-width: "+(String(b)+("px) and (max-width: "+(String(c)+"px)")));case 2:return"(max-width: "+(String(a)+"px)")}}function a(a){return b("bs_caml_option").nullable_to_opt(a.current)}function n(a){return b("React").jsx("div",{children:b("React").jsx("div",{children:h._("Ng\u01b0\u1eddi n\u00e0y hi\u1ec7n kh\u00f4ng c\u00f3 m\u1eb7t."),className:"_2wy4"}),className:"_4rv3"})}e={make:n};function o(a,c,d,e){new(b("AsyncRequest"))(b("XMessagingUnblockMessagesController").getURIBuilder().getURI()).setMethod("POST").setData({fbid:b("bs_caml_option").nullable_to_opt(b("MercuryIDs").getUserIDFromThreadID(b("bs_js_null_undefined").fromOption(a)))}).send();if(c)return b("MessengerPageUtils.bs").changeBlockedStatus(!1,d,e);else return 0}function p(a){var c=a.threadId,d=a.isPageChat,e=a.participantID,f=a.viewer;a=b("React").jsx(b("MessengerButtonReact.bs").make,{onClick:function(a){return o(c,d,e,f)},label:h._("B\u1ecf ch\u1eb7n ngay"),type:1});return b("React").jsx("div",{children:b("React").jsx("div",{children:d?h._("B\u1ea1n \u0111\u00e3 ch\u1eb7n tin nh\u1eafn c\u1ee7a doanh nghi\u1ec7p n\u00e0y. {unblock_now_button}",[h._param("unblock_now_button",a)]):h._("B\u1ea1n \u0111\u00e3 ch\u1eb7n tin nh\u1eafn t\u1eeb ng\u01b0\u1eddi n\u00e0y. {unblock_now_button}",[h._param("unblock_now_button",a)]),className:"_2wy4"}),className:"_4rv3"})}g={handleUnblock:o,make:p};function c(a,c){__p&&__p();var d=a.canReply,e=a.disableAutofocus,f=a.fileUploader,g=a.hideActions,i=a.mentionsEnabled,k=a.onCancelReplyingToMessage,o=a.onCustomLikeSelect,q=a.onMessageSend,r=a.onPhotoUploadComplete,s=a.onPhotoUploadCancel,t=a.onPhotoUploadFail,u=a.onPhotoUploadSubmit,v=a.onResize,w=a.onStickerSelect,x=a.participants,y=a.recipients,z=a.replyingToMessage,A=a.sharePreview,B=a.showBotMenu,C=a.thread,D=a.threadId,E=a.view,F=a.viewer;a=a.workChatContentApps;c=c;var aa=f==null?void 0:b("bs_caml_option").some(f);i=i==null?void 0:b("bs_caml_option").some(i);var ba=x==null?void 0:b("bs_caml_option").some(x),G=y==null?void 0:b("bs_caml_option").some(y),ca=A==null?void 0:b("bs_caml_option").some(A),H=C==null?void 0:b("bs_caml_option").some(C),I=b("getPageIDFromThreadID")(D),da=I==null?void 0:b("bs_caml_option").some(I),J=D==null?void 0:b("bs_caml_option").some(D);E=E==null?void 0:b("bs_caml_option").some(E);var K=b("React").useRef(null),L=b("React").useRef(null),M=b("React").useRef(null),ea=b("React").useRef(null),N=K.current,fa=b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(L.current),function(a){return a}),ga=ea.current,ha=b("React").useRef(null),ia=ha.current;L=b("React").useState(function(){return""});var ja=L[1],ka=L[0];L=b("React").useState(function(){return!1});var la=L[1],ma=b("React").useState(function(){return!1}),na=b("React").useState(function(){return 0}),O=na[1],oa=b("React").useState(function(){return!1}),pa=oa[1],P=b("React").useState(function(){return{}}),qa=P[1];P=b("React").useState(function(){return{}});var ra=P[1],Q=M.current;b("React").useLayoutEffect(function(){var a=Q==null?0:Array.from(Q.children).reduce(function(a,b){return(a+b.clientWidth|0)+8|0},0);b("bs_curry")._1(qa,function(a){return{width:"0px"}});b("bs_curry")._1(ra,function(b){return{width:""+(String(a)+"px")}});return},[J,Q,G,qa,ra]);b("React").useEffect(function(){v==null||b("bs_curry")._1(v,0);return},[d,L[0],z,ca,aa,a,v]);P=v==null?void 0:b("bs_caml_option").some(v);var R=!b("MessengerSettingsStore").getSettings().info_sidebar_collapsed;b("React").useEffect(function(){__p&&__p();var a=m(R,2),c=window.matchMedia(a);a=m(R,1);var d=window.matchMedia(a);a=m(R,0);var e=window.matchMedia(a);b("bs_curry")._1(O,function(a){if(c.matches)return 2;else if(d.matches)return 1;else return 0});var f=function(a){if(a.matches)return b("bs_curry")._1(O,function(a){return 2});else return 0},g=function(a){if(a.matches)return b("bs_curry")._1(O,function(a){return 1});else return 0},h=function(a){if(a.matches)return b("bs_curry")._1(O,function(a){return 0});else return 0};c.addListener(f);d.addListener(g);e.addListener(h);return function(a){c.removeListener(f);d.removeListener(g);e.removeListener(h);return 0}},[R,O]);M=function(a){return b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(a.author),function(a){a=b("MessengerParticipants.bs").getNow(a);if(a==null)return;else return a.short_name})};G=E===b("MessengerView").DETAIL.COMPOSE;L=y==null?!1:y.count()>0&&G;y=da!==void 0;L=J!==void 0||L;A=A==null?!1:A.params!==null&&A.type!==null;var S=f==null?!1:f.uploadedFiles.size>0;f=f==null?!1:f.uploadingFiles.size>0;var T=a==null?!1:a.size>0;S=ka.length!==0||S||T||A;var U=function(a){if(N==null)return 0;else return N.exitCurrentMode()},V=function(a){if(N==null)return 0;else return N.focus()};T=function(a){V(0);if(N==null)return 0;else return N.insertEmoji(a)};A=function(a){__p&&__p();if(a.platformFBID===b("MercuryConfig").MessengerAppID){b("bs_curry")._1(w,a.resultID);return 0}else if(ia==null)return 0;else{var c=b("bs_js_dict").get(a.media,"preview");if(c!==void 0)c=b("bs_caml_option").valFromOption(c).url;else{var d=b("bs_js_dict").get(a.media,"thumbnail");c=d!==void 0?b("bs_caml_option").valFromOption(d).url:""}return ia.uploadURL({attribution_app_id:a.platformFBID,external_image_url:a.source.url,preview_url:c,source:a.source})}};var W=function(a){ga==null||ga.uploadFiles(a);return U(0)},sa=function(a){b("bs_curry")._1(ja,function(b){return a});if(a!==ka)return b("bs_curry")._1(la,function(a){return!1});else return 0},X=function(a){a=K.current;if(a==null)return 0;else return a.triggerSend()},ta=function(a){return 0};b("React").useImperativeHandle(c,function(){return{exitCurrentMode:U,focusInput:V,handleFileUpload:W,handleTextDropped:ta}},[U,V,W]);c=function(a,c){b("FBLogger")("messenger_upload_file").warn("Uploading file is too large");return b("MessengerDialogs.bs").showDialog(function(a){return b("React").jsx(b("MessengerFileSizeErrorDialogReact.bs").make,{error:c==null?2:b("MessengerFileSizeErrorDialogReact.bs").errorOfString(c.error)})})};var Y;if(z==null)Y=null;else{M=b("bs_belt_Option").getExn(M(z));Y=b("React").jsx(b("ReplyingToMessageReact.bs").make,{name:M,body:b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(z.body),""),attachments:b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(z.attachments),[]),onCancelReplyingToMessage:k,isChatTab:!1})}if(C==null||D==null||!b("MessageRequestUtils").shouldShowUnconnectedThreadInfoText(C))M=null;else{k=C.other_user_fbid;if(k==null)M=null;else{k=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(k));M=k==null?null:b("React").jsx(b("React").Suspense,{children:b("React").createElement(b("MessengerUnconnectedThreadInfoTextReact.bs").make,{name:k.name,onBlock:function(a){return b("MessengerComposerPendingActionsM4React.bs").handleIgnoreBlock(F,C,a)},onDelete:function(a){return b("MessengerComposerPendingActionsM4React.bs").handleDeleteDialogDeleteClick(F,C,D,a)},onToggle:function(a){return b("MessengerComposerPendingActionsM4React.bs").handleDeleteDialogToggleClick(C,D,a)},thread:C}),fallback:b("React").jsx("div",{})})}}var Z="#8A8D91";k="rgba(134, 142, 153, 0.75)";var $="#1C1E21";B=!(D==null)&&!(I==null)&&B?b("React").jsx("div",{children:b("React").jsx(b("MessengerBotMenuButtonReact.bs").make,{className:"_30yy",fill:Z,flyoutAlignment:1,getInput:function(a){return K.current},pageId:I,threadId:D}),className:"_7mkk"}):null;I=D==null?null:b("React").jsx(b("CometPressable.react"),{"aria-label":h._("\u0110\u00ednh k\u00e8m file"),overlayRadius:"50%",xstyle:l.attachment,children:b("React").createElement(b("ChatPhotoUploader.react"),{allowCrossPage:!0,className:"_7oan",customUI:!0,disabled:!1,fill:Z,imageClassName:"hidden_elem",imagesOnly:!1,focusInput:V,onAllUploadsComplete:r,onLastUploadFail:t,onLastUploadCancel:s,onSubmit:u,onUploadError:c,threadID:D,viewer:F,ref:function(a){ea.current=a;return 0}})},"attachment_button");c=g?null:b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("div",{children:b("React").createElement(b("ChatPhotoUploader.react"),{allowCrossPage:!0,disabled:!1,ref:function(a){ha.current=a;return 0},imagesOnly:!1,focusInput:V,onAllUploadsComplete:r,onLastUploadFail:t,onLastUploadCancel:s,onSubmit:u}),style:{display:"none"}},"gif_uploader"),b("React").jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("WorkChatUnifiedInputFlyout.react").__setRef("WorkTeamworkComposerM4React.bs"),disablePositionAutoflip:!0,popoverProps:{allowStickerAttachments:!0,allowGifAttachments:!0,onStickerSelect:w,onGifSelect:A,onEmojiSelect:T},align:"end",position:"above",children:function(a,c){return b("React").jsx(b("CometPressable.react"),{"aria-label":h._("Ch\u1ecdn file GIF, bi\u1ec3u t\u01b0\u1ee3ng c\u1ea3m x\u00fac ho\u1eb7c nh\u00e3n d\u00e1n"),"aria-hidden":!1,ref:a,testid:"composer_unified_chat_picker",onPress:function(a){return b("bs_curry")._1(c,0)},overlayRadius:"50%",xstyle:l.emoji,children:b("MessengerReactIconSVGM4React.bs").make(Z,27)})}})]},"gif_button");if(L&&S&&!f)g=b("React").jsx(b("MessengerSendButtonReact.bs").make,{className:(J!==void 0?"_30yy":"")+" _38lh _7kpi _8qrb",customColor:"white",onClick:X,useIcon:!0});else{r=b("MessengerHotLikeUtils").getCustomEmojiFromThread(H);t=r==null?void 0:b("bs_caml_option").some(r);s=!L;g=b("React").jsx(b("MessengerHotLikeButton.react"),{className:(s?"":"_30yy")+" _4rv9 _6ymq"+(t===void 0?" _7kpj":"")+(t!==void 0?" _7v3t":"")+" _8qrb _8wun",customColor:s?k:$,customLike:r,disabled:s,renderSize:24,sendSticker:function(a){b("bs_curry")._1(w,a);return 0},sendCustomLike:function(a,c,d){b("bs_curry")._3(o,a,c,d);return 0},threadID:J,thread:H})}u=b("React").jsx(b("WorkChatSmartReplies.react"),{threadID:J,onClick:q,onResize:P});if(C==null||E===b("MessengerView").DETAIL.COMPOSE)A=null;else{T=C.cannot_reply_reason;S=T==null?!1:T===b("MessengerThreadCannotReplyReason").BLOCKED;if(S){C.is_canonical||j(0,4973);ba!==void 0||j(0,4974);C.other_user_fbid!==null||j(0,4975);f=C.other_user_fbid;if(f==null)A=b("React").jsx(n,{});else if(x==null)A=b("React").jsx(n,{});else{X=x.get(b("MercuryIDs").getParticipantIDFromUserID(f));(X==null?void 0:b("bs_caml_option").some(X))!==void 0||j(0,4976);var ua=[!1];b("MessengerState.bs").compute(F,function(a){ua[0]=b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(F,a.blocked_ids,C);return 0});if(X==null)A=b("React").jsx(n,{});else{L=ua[0];A=L?b("React").jsx(p,{threadId:J,isPageChat:y,participantID:X.id,viewer:F}):b("React").jsx(n,{})}}}else A=b("React").jsx("div",{children:b("React").jsxs("div",{children:[B,b("React").jsx("div",{children:b("MercuryReadOnlyReason").getReason(C.has_email_participant),className:"_2wy4"})],className:"_5irm"}),className:"_4rv3"})}t=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(F));k=t==null?void 0:b("bs_caml_option").nullable_to_opt(t.image_src);$=k!==void 0?b("React").jsx(b("MessengerProfileImageWrapperM4React.bs").make,{className:"_8qre",src:k,size:32}):null;if(d){if(!(C==null)&&!(D==null)&&b("MessageRequestUtils").shouldShowComposerPendingActions(C)&&!oa[0])return b("React").jsx(b("MessengerComposerPendingActionsM4React.bs").make,{thread:C,threadId:D,viewer:F,onAccept:function(a){return b("bs_curry")._1(pa,function(a){return!0})}});r=z!==null;return b("React").jsxs("div",{children:[u,M,r?Y:null,b("React").jsxs("div",{children:[b("React").jsxs("div",{children:[$,b("React").jsx("div",{children:b("React").jsx(b("MessengerComposerInput.react"),{disableAutofocus:e,disableInput:!1,fileUploader:aa,workChatContentApps:a,handleOnlyImageUploads:!1,isComposing:G,mentionsEnabled:i,onBeforeInput:function(a,c){if(fa!==void 0){b("bs_caml_option").valFromOption(fa).hideFlyout();return null}else return null},onChange:sa,onFileUpload:W,onMessageSend:q,onResize:P,pageID:da,participants:ba,ref:K,smallerEqual640:!1,sharePreview:ca,showMenu:!1,thread:H,threadID:G?"new":J,viewer:F}),className:"_7kpk _8r7a"+(ma[0]&&na[0]===0?" _7u0c":""),onClick:function(a){return b("bs_curry")._1(la,function(a){return!1})}})],className:"_8qx5"}),b("React").jsxs("div",{children:[I,c,g],className:"_8qrd"})],className:"_5irm _7mkm _8qr9"})],"aria-label":h._("Tin nh\u1eafn m\u1edbi"),className:"_4rv3 _7og6",role:"region"})}else return A}i=b("React").forwardRef(c);f.TooManyIcons=d;f.styles=l;f.getBreakpointMediaQuery=m;f.deref=a;f.Blocked=e;f.BlockedOther=g;f.make=i}),null);
__d("WorkTeamworkComposerM4React.re",["WorkTeamworkComposerM4React.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("WorkTeamworkComposerM4React.bs").make;f.make=a}),null);
__d("MercuryActionTypeUtils",["MercuryActionType"],(function(a,b,c,d,e,f){"use strict";function a(a){return Object.keys(b("MercuryActionType")).filter(function(c){return b("MercuryActionType")[c]===a}).map(function(a){return b("MercuryActionType")[a]})[0]}c={actionFromString:a};e.exports=c}),null);
__d("MessengerForwardDialogUtils",["fbt","MessengerDialogs.re","MessengerForwardAttachmentDialogReact.re","MessengerForwardChatFlowSharedAttachmentsTypedLogger","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerForwardAttachmentDialogReact.re").component;function a(a,c,d){var e=g._("Chuy\u1ec3n ti\u1ebfp qua nhi\u1ec1u tin nh\u1eafn ri\u00eang"),f=a[0];a=c[0];if(f==null||a==null)return;f!=null&&a!=null&&new(b("MessengerForwardChatFlowSharedAttachmentsTypedLogger"))().setAttachmentID(f).setIsFromViewer(d).setAttachmentType(a).log();b("MessengerDialogs.re").showDialog(function(){return b("React").jsx(h,{messageID:null,attachmentID:f,onClose:i,shown:!0,title:e.toString(),shareType:null})})}function i(){b("MessengerDialogs.re").removeAllDialogs()}e.exports={showForwardDialog:a,hideForwardDialog:i}}),null);
__d("MessengerMessageUtils",["MercuryActionTypeUtils","MessengerMessage.re"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MessengerMessage.re").makeFakeMessage({messageId:a.message_id,threadId:a.thread_id,author:a.author,actionType:b("MercuryActionTypeUtils").actionFromString(a.action_type),timestamp:a.timestamp},a);return a}c={fromMercuryMessagePayload:a};e.exports=c}),null);
__d("WorkChatContentAppActions",["MessengerDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({LOAD_WORK_CONTENT_APP:null,LOADED_WORK_CONTENT_APP:null,REMOVE_WORK_CONTENT_APP:null,REMOVE_ALL_WORK_CONTENT_APPS:null});a={Types:g,loadWorkContentApp:function(a,c,d){b("MessengerDispatcher").dispatch({type:g.LOAD_WORK_CONTENT_APP,threadID:a,uri:c,showLoading:d})},loadedWorkContentApp:function(a,c,d){b("MessengerDispatcher").dispatch({type:g.LOADED_WORK_CONTENT_APP,threadID:a,uri:c,payload:d})},removeWorkContentApp:function(a,c){b("MessengerDispatcher").dispatch({type:g.REMOVE_WORK_CONTENT_APP,threadID:a,uri:c})},removeAllWorkContentApps:function(a){b("MessengerDispatcher").dispatch({type:g.REMOVE_ALL_WORK_CONTENT_APPS,threadID:a})}};e.exports=a}),null);
__d("WorkChatRedesignedRootCssClass",["cx","WorkChatRedesignedMessageListCheck.re"],(function(a,b,c,d,e,f,g){"use strict";e.exports=b("WorkChatRedesignedMessageListCheck.re").enabled?"_7w6w":""}),null);
__d("WorkChatReactionImage.react",["EmojiFormat.re","Image.react","MessengerReactionsUtil.re","MessengerTextWithEmoticons.react","React","ReactionIconFilepaths","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map();b("MessengerReactionsUtil.re").reactionsSortOrder.forEach(function(a){g.set(b("EmojiFormat.re").codeArrayToUnicode(a.emojis),a.name)});function h(a){switch(a){case"thumbsup":return b("ReactionIconFilepaths").paths.size48.like;case"love":return b("ReactionIconFilepaths").paths.size48.love;case"haha":return b("ReactionIconFilepaths").paths.size48.haha;case"wow":return b("ReactionIconFilepaths").paths.size48.wow;case"angry":return b("ReactionIconFilepaths").paths.size48.anger;case"sad":return b("ReactionIconFilepaths").paths.size48.sorry;case"thumbsdown":return null;default:return a}}function a(a){a=a.reaction;var c=g.get(a);c=c!=null?h(c):null;return c!=null?b("React").jsx(b("Image.react"),{className:"nvwtuikx",src:c}):b("React").jsx(b("MessengerTextWithEmoticons.react"),{customSize:!0,forceMessengerEmoji:!0,renderEmoticons:!0,renderEmoji:!0,text:a})}e.exports=a}),null);
__d("WorkChatExternalLinkCard.react",["fbt","FDSCard.react","Image.react","React","WIGLink.react","WIGTextPairing.react","WorkRemoveAttachmentButton.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i={relativeRoot:{position:"hal92y33",flexGrow:"ftjbd6cl"},root:{borderTopStartRadius:"mur504wd",borderTopEndRadius:"b1qd4do3",borderBottomEndRadius:"pq9m47mh",borderBottomStartRadius:"jxwba1dq",display:"mu99tzkh",flexDirection:"tv52aht6",justifyContent:"lhmcu1i6",overflowX:"n8oi09i1",paddingStart:"o2jgiixc",paddingEnd:"qp3v7ywo",flexGrow:"ftjbd6cl",height:"k1btm4wh"},row:{display:"mu99tzkh",flexDirection:"sulwup3a",flexGrow:"aeqptlwn",alignItems:"t36ehdhz"},pressableText:{":hover":{textDecoration:"b69vs25w"}},textContainer:{display:"mu99tzkh",flexGrow:"ftjbd6cl"},filename:{flexGrow:"ftjbd6cl",minWidth:"f0w9ysip",flexBasis:"trztskah",marginTop:"kyu6y8np",marginEnd:"t02tbp7u",marginBottom:"jgcuv4po",marginStart:"se2r61z1"},icon:{maxHeight:"e8hdrf6l",maxWidth:"shkv9vut",borderTopStartRadius:"qcplsvq8",borderTopEndRadius:"lbj7a7zq",borderBottomEndRadius:"qd9vfp32",borderBottomStartRadius:"ex16komz",overflowX:"ib0kwflm",overflowY:"qbbcxcfp"},iconContainer:{display:"mu99tzkh",justifyContent:"lhmcu1i6"}};function a(a){var c=a.icon,d=a.name,e=a.onRemove,f=a.source;a=a.url;return b("React").jsxs("div",{className:(h||(h=b("stylex")))(i.relativeRoot),children:[b("React").jsx(b("WorkRemoveAttachmentButton.react"),{onRemove:e}),b("React").jsx(b("FDSCard.react"),{children:b("React").jsx(b("WIGLink.react"),{href:a,target:"_blank",xstyle:[i.textContainer,i.pressableText],children:b("React").jsx("div",{className:h(i.root),children:b("React").jsxs("div",{className:h(i.row),children:[b("React").jsx("div",{className:h(i.iconContainer),children:b("React").jsx(b("Image.react"),{className:h(i.icon),src:c})}),b("React").jsx("div",{className:h(i.filename),children:b("React").jsx(b("WIGTextPairing.react"),{body:g._("{Source of the link}",[g._param("Source of the link",(e=f)!=null?e:a)]),bodyLineLimit:1,headline:d,headlineLineLimit:2,level:4})})]})})})})]})}e.exports=a}),null);
__d("WorkChatStagingImage.react",["FDSCard.react","React","WIGBackgroundImage.react","WorkRemoveAttachmentButton.react","stylex"],(function(a,b,c,d,e,f){"use strict";function a(a){var c,d=a.imageSrc;a=a.onRemove;return(c=b("React")).jsxs("div",{className:"ckm7z7zs ftjbd6cl hal92y33",children:[c.jsx(b("WorkRemoveAttachmentButton.react"),{onRemove:a}),c.jsx(b("FDSCard.react"),{children:c.jsx("div",{className:"qbbcxcfp ib0kwflm iufj8t4r r7hmqzz5 e0wrtr4f ee57xxro dw0lz54a k1btm4wh",children:c.jsx(b("WIGBackgroundImage.react"),{src:d})})})]})}e.exports=a}),null);
__d("WorkChatStagingFile.react",["fbt","React","WorkChatStagingImage.react","WorkGalahadContentFileAttachmentCardContainer.react","getWorkGalahadChatAttachmentIcon","stylex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.file.file,d=c==null?void 0:c.name,e=c==null?void 0:c.type;if(c==null)return null;return e!=null&&e.startsWith("image")?b("React").jsx("div",{className:"q8ag7aew dw0lz54a",children:b("React").jsx(b("WorkChatStagingImage.react"),{imageSrc:window.URL.createObjectURL(c),onRemove:a.onRemove})}):b("React").jsx("div",{className:"q8ag7aew qpv09psf ji95hbri",children:b("React").jsx(b("WorkGalahadContentFileAttachmentCardContainer.react"),{attachment:{name:(c=d)!=null?c:g._("Ch\u01b0a \u0111\u1eb7t t\u00ean"),type:"",icon:b("getWorkGalahadChatAttachmentIcon")(e),category:"FILE"},isFullSize:!0,isOnComposer:!0,surface:"CHAT_STAGING",onRemove:a.onRemove})})}e.exports=a}),null);
__d("WorkChatStagingLink.react",["ix","fbt","React","WorkChatExternalLinkCard.react","WorkGalahadAttachmentLoadingCard.react","WorkGalahadContentFileAttachmentCardContainer.react","asset","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.preview,d=c.isLoading;c=c.payload;if(d)return b("React").jsx("div",{className:"q8ag7aew qpv09psf ji95hbri",children:b("React").jsx(b("WorkGalahadAttachmentLoadingCard.react"),{showImage:!1,onRemove:a.onRemove})});if(c==null)return null;d=c.description;var e=c.imageURI,f=c.shareData,i=c.source;c=c.title;switch(f.share_type){case 69:return b("React").jsx("div",{className:"q8ag7aew qpv09psf ji95hbri",children:b("React").jsx(b("WorkGalahadContentFileAttachmentCardContainer.react"),{attachment:{name:c==null||c===""?h._("Ch\u01b0a \u0111\u1eb7t t\u00ean"):c,type:"",icon:(f=e)!=null?f:g("482097"),category:"FILE",source:i},isFullSize:!0,isOnComposer:!0,surface:"CHAT_STAGING",onRemove:a.onRemove})});default:return b("React").jsx("div",{className:"q8ag7aew qpv09psf ji95hbri",children:b("React").jsx(b("WorkChatExternalLinkCard.react"),{icon:(f=e)!=null?f:g("868945"),name:c==null||c.trim().length===0?d==null||d.trim().length===0?h._("External Link"):d:c,source:i,url:a.link,onRemove:a.onRemove})})}}e.exports=a}),null);
__d("WorkChatStagingFilesContainer.react",["ErrorBoundary.react","MessengerActions","React","WorkChatContentAppActions","WorkChatStagingFile.react","WorkChatStagingLink.react","immutable","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var c=a.files,d=a.threadID;a=a.workLinks;var e=a==null||a.isEmpty(),f=c==null||c.isEmpty();return e&&f?null:b("React").jsxs("div",{className:"bntkxc2q n8oi09i1 hhkt3fka fi1m242h syzpc4uy a486lvvn gzdapie8 oitujibm sulwup3a mu99tzkh",children:[c!=null?b("React").jsx(g,{files:c,threadID:d}):null,a!=null?b("React").jsx(h,{threadID:d,workLinks:a}):null]})}function g(a){var c=a.files,d=a.threadID;a=Array.from(c.keys()).sort();return b("React").jsx(b("React").Fragment,{children:a.map(function(a){return b("React").jsx(b("ErrorBoundary.react"),{children:b("React").jsx(b("WorkChatStagingFile.react"),{file:c.get(a),onRemove:function(){return b("MessengerActions").cancelFileUpload(d,a)}})},a)})})}function h(a){var c=a.threadID,d=a.workLinks;a=Array.from(d.keys());return b("React").jsx(b("React").Fragment,{children:a.map(function(a){return b("React").jsx(b("ErrorBoundary.react"),{children:b("React").jsx(b("WorkChatStagingLink.react"),{link:a,preview:d.get(a),onRemove:function(){return b("WorkChatContentAppActions").removeWorkContentApp(c,a)}})},a)})})}e.exports=a}),null);
__d("XShareScrapeAttachmentAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/message_share_attachment/fromURI/",{})}),null);
__d("scrapeWorkChatAppContent",["AsyncRequest","EmployeeLinkMatcher","URLMatcher","WorkChatContentAppActions","XShareScrapeAttachmentAsyncController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=72;function a(a,c){__p&&__p();if(a==null||c==null)return;c=c.trim().split(/\s+/);c=c.map(function(a){var c;return(c=(c=b("URLMatcher").match(a))!=null?c:b("EmployeeLinkMatcher").matchDiffNumber(a))!=null?c:b("EmployeeLinkMatcher").matchTaskNumber(a)}).filter(Boolean);new Set(c).forEach(function(c){__p&&__p();b("WorkChatContentAppActions").loadWorkContentApp(a,c,!0),new(b("AsyncRequest"))().setMethod("POST").setURI(b("XShareScrapeAttachmentAsyncController").getURIBuilder().getURI()).setData({image_height:g,image_width:g,uri:c}).setHandler(function(d){var e,f,g,h;e=d==null?void 0:(e=d.payload)==null?void 0:(e=e.media)==null?void 0:e.image;f=d==null?void 0:(f=d.payload)==null?void 0:f.source;g=d==null?void 0:(g=d.payload)==null?void 0:g.title;h=d==null?void 0:(h=d.payload)==null?void 0:h.share_data;d=d==null?void 0:(d=d.payload)==null?void 0:d.description;var i=h==null?void 0:h.share_type,j=h==null?void 0:h.share_params;i!=null&&j!=null?b("WorkChatContentAppActions").loadedWorkContentApp(a,c,{imageURI:e,source:f,title:g,shareData:h,description:d}):b("WorkChatContentAppActions").removeWorkContentApp(a,c)}).setErrorHandler(function(d){b("WorkChatContentAppActions").removeWorkContentApp(a,c)}).send()})}e.exports=a}),null);
__d("WorkTeamworkGroupChatHeaderFacepile.react",["React","WIGOverlappingFacepileUnstyled.react","actorHovercardContainer","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=32,h=4,i=4;function a(a){a=a.participants;a=a.filter(function(a){return Boolean(a.image_src)}).map(function(a,c){return{source:{uri:a.image_src||""},alt:a.name,containerComponent:b("actorHovercardContainer")(a.fbid)}});var c=Math.min(h,a.length);c=g*c-i*(c-1);return b("React").jsx("div",{className:"s9o98cno pku0t4q3",style:{width:c},children:b("React").jsx(b("WIGOverlappingFacepileUnstyled.react"),{size:g,items:a})})}e.exports=a}),null);
__d("WorkChatCopyLinkMessageItem.react",["Clipboard","MessengerMessageUtils","MessengerURIUtils.re","React","WorkGalahadDropdownMenuItem.react"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.message;return b("React").jsx(b("WorkGalahadDropdownMenuItem.react"),{id:"copy-link",label:"[FB-Only] Copy Link",onClick:function(){var a=b("MessengerURIUtils.re").getURIForMessage(b("MessengerMessageUtils").fromMercuryMessagePayload(c)).getQualifiedURIBase().toString();b("Clipboard").copy(a)},icons:"link"})}e.exports=a}),null);
__d("useWorkChatRemindMeMessageItem.react",["fbt","JSResource","React","WorkGalahadDropdownMenuItem.react","gkx","useWIGLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.message;a=b("useWIGLazyDialog")(b("JSResource")("WorkChatSetReminderDialog.react").__setRef("useWorkChatRemindMeMessageItem.react"));var d=a[0];return b("gkx")("945178")?b("React").jsx(b("WorkGalahadDropdownMenuItem.react"),{id:"remind",icons:"alarm_clock",label:g._("Nh\u1eafc t\u00f4i"),onClick:function(){d({message:c})}},"remind"):null}e.exports=a}),null);
__d("workChatForwardMessageItem",["fbt","MessengerDecoratorUtil","MessengerForwardDialogUtils","React","WorkGalahadDropdownMenuItem.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MessengerDecoratorUtil").allowForward,i=b("MessengerDecoratorUtil").getAttachments;function a(a){var c=a.message,d=a.messageProps;a=i(c);var e=a.ids,f=a.types;return h(c)?b("React").jsx(b("WorkGalahadDropdownMenuItem.react"),{id:"forward",label:g._("Chuy\u1ec3n ti\u1ebfp"),icons:"arrow_curved_right",onClick:function(){b("MessengerForwardDialogUtils").showForwardDialog(e,f,d.isFromViewer)}},"forward"):null}e.exports=a}),null);
__d("workChatRemoveMessageItem.react",["fbt","Bootloader","CurrentUser","MercuryMessageActions","MessengerDeleteMessageDialogReact.re","MessengerDialogs.re","MessengerState.re","React","WorkGalahadDropdownMenuItem.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerDeleteMessageDialogReact.re").component;function i(a,c){var d=b("MessengerState.re").getThreadMetaNow(b("CurrentUser").getID(),a.thread_id);if(d==null)return;b("Bootloader").loadModules(["RemoveMessageDialog"],function(b){b.showDialog(a,d.thread_unsendability_status,c,function(){})},"workChatRemoveMessageItem.react")}function j(a){a||b("MessengerDialogs.re").removeAllDialogs()}function k(a,c){if(b("gkx")("932794")){i(a,c);return}b("MessengerDialogs.re").showDialog(function(){return b("React").jsx(h,{onDelete:function(){b("MercuryMessageActions").get()["delete"](a.thread_id,[a.message_id])},onToggle:j,onCancel:function(){}})})}function a(a){var c=a.message,d=a.messageProps;return b("React").jsx(b("WorkGalahadDropdownMenuItem.react"),{id:"remove",label:g._("X\u00f3a, g\u1ee1 b\u1ecf"),onClick:function(){k(c,d.isFromViewer)},icons:"cross"},"remove")}e.exports=a}),null);
__d("workChatSaveMessageItem",["fbt","MercuryMessageActions","MessengerDecoratorUtil","React","WorkGalahadDropdownMenuItem.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerDecoratorUtil").allowSave;function i(a){return a.tags==null?!1:a.tags.includes("message:save")}function j(a){b("MercuryMessageActions").get().changeSaveStatus(a,!i(a))}function a(a){var c=a.message;a=i(c);var d=a?g._("B\u1ecf l\u01b0u"):g._("L\u01b0u");return h(c)?b("React").jsx(b("WorkGalahadDropdownMenuItem.react"),{id:"save",label:d,icons:a?"bookmark_cross":"bookmark",onClick:function(){j(c)}},"save"):null}e.exports=a}),null);
__d("WorkChatMessageMoreActions.react",["ix","fbt","requireCond","CurrentUser","MercuryIDs","MessengerState.re","React","WIGIcon.react","WIGPressable.react","WorkChatCopyLinkMessageItem.react","cr:1207777","compactArray","fbicon","gkx","useGalahadDropdownMenu__DEPRECATED","useWorkChatRemindMeMessageItem.react","workChatForwardMessageItem","workChatRemoveMessageItem.react","workChatSaveMessageItem"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.message,d=a.messageProps,e=a.setKeepActionsShown;a=b("gkx")("1179386")&&b("MercuryIDs").isValidThreadID(c.thread_id)?b("MessengerState.re").getThreadMetaNow(b("CurrentUser").getID(),c.thread_id):null;var f=b("MessengerState.re").getServerMessageID(b("CurrentUser").getID(),c.message_id);f=b("compactArray")([b("workChatForwardMessageItem")({message:c,messageProps:d}),b("workChatSaveMessageItem")({message:c}),b("gkx")("1179386")&&a!=null&&a.thread_fbid!=null&&f!=null&&b("cr:1207777")!=null?b("React").jsx(b("cr:1207777"),{message:c,serverMessageID:f,thread:a,threadFBID:a.thread_fbid},"pin_message"):null,b("useWorkChatRemindMeMessageItem.react")({message:c}),b("workChatRemoveMessageItem.react")({message:c,messageProps:d})]);b("CurrentUser").isEmployee()&&f.push(b("React").jsx(b("WorkChatCopyLinkMessageItem.react"),{message:c},"copy-link"));a=b("useGalahadDropdownMenu__DEPRECATED")({label:h._("H\u00e0nh \u0111\u1ed9ng kh\u00e1c v\u1edbi tin nh\u1eafn"),items:f,position:"above",alignment:"right",width:b("CurrentUser").isEmployee()?190:172,onHide:function(){e(!1)}});d=a[0];c=a[1];var i=c.onClick;f=c.ref;return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("WIGPressable.react"),{display:"inline",label:h._("Kh\u00e1c"),onPress:function(){i(),e(!0)},overlayDisabled:!0,ref:f,children:b("React").jsx(b("WIGIcon.react"),{color:"primary",icon:b("fbicon")._(g("484385"),12)})}),d]})}e.exports=a}),null);
__d("WorkChatReactToMessageAction.react",["ix","fbt","MessengerReactionsMenu.react","React","WIGCircleButton.react","fbicon","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("React").useRef,j=b("React").useState;function a(a){var c=a.message,d=a.setKeepActionsShown;a=j(!1);var e=a[0],f=a[1],k=i();a=e?b("React").jsx(b("MessengerReactionsMenu.react"),{entryPoint:"dot_menu",message:c,onHide:function(){f(!1),d(!1)},refProp:function(){return b("nullthrows")(k.current)}}):null;return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("WIGCircleButton.react"),{ref:k,icon:b("fbicon")._(g("509920"),12),label:h._("Th\u00eam c\u1ea3m x\u00fac"),onPress:function(){f(!0),d(!0)},size:24}),a]})}e.exports=a}),null);
__d("WorkChatReplyMessageAction.react",["ix","fbt","MessageReplyPermissions","React","WIGCircleButton.react","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c=a.message,d=a.messageProps;return b("MessageReplyPermissions").canReplyToMessage(c)?b("React").jsx(b("WIGCircleButton.react"),{icon:b("fbicon")._(g("608131"),12),label:h._("Tr\u1ea3 l\u1eddi tin nh\u1eafn"),onPress:function(){d.onReplyToMessage!=null&&d.onReplyToMessage(c)},size:24}):null}e.exports=a}),null);
__d("WorkChatMessageActions.react",["React","WorkChatMessageMoreActions.react","WorkChatReactToMessageAction.react","WorkChatReplyMessageAction.react","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useState;function a(a){var c=a.hovered,d=a.message;a=a.messageProps;var e=g(!1),f=e[0];e=e[1];return c!==!0&&!f?null:b("React").jsxs("div",{className:"q8s3lw0m ijq9shbx grojtupn i8ovu4tj sulwup3a mu99tzkh",children:[b("React").jsx("div",{className:"pra60zbb mhmrsd19 ez34a2ks jh2r1o7q",children:b("React").jsx(b("WorkChatReplyMessageAction.react"),{message:d,messageProps:a})}),b("React").jsx("div",{className:"pra60zbb mhmrsd19 ez34a2ks jh2r1o7q",children:b("React").jsx(b("WorkChatReactToMessageAction.react"),{message:d,setKeepActionsShown:e})}),b("React").jsx("div",{className:"pra60zbb mhmrsd19 ez34a2ks jh2r1o7q",children:b("React").jsx("div",{className:"t36ehdhz tv52aht6 cfk3jyev lenub8rc mu99tzkh",children:b("React").jsx(b("WorkChatMessageMoreActions.react"),{message:d,messageProps:a,setKeepActionsShown:e})})})]})}e.exports=a}),null);
__d("WorkChatPinnedMessageUtils",["CurrentUser","MessengerState.re"],(function(a,b,c,d,e,f){"use strict";function a(a,c){c=c==null?void 0:c.pinned_messages;var d=b("MessengerState.re").getServerMessageID(b("CurrentUser").getID(),a.message_id);return d==null?!1:c!=null?c.some(function(a){return a.message_id===d}):!1}c={isMessagePinned:a};e.exports=c}),null);
__d("WorkTeamworkMessage.react",["ix","cssVar","cx","requireCond","CurrentUser","EmojiLikeUtils","FlexLayout.react","ImmutableObject","MercuryAttachment","MercuryDisplayTimeFilterMessageRenderer","MercuryMessageError.react","MessengerAttachmentAttribution.react","MessengerAttachmentRenderer","MessengerBubble.react","MessengerBubbleBlock.react","MessengerCodePasteUtils","MessengerDecorator","cr:1144065","MessengerMessage.bs","MessengerMessageActionsWrapper.react","MessengerMessageSeenHeadsReact.bs","MessengerURIUtils.bs","MessengerVideoAutoplayStore","React","SubscriptionsHandler","WIGIcon.react","cr:1144066","WorkChatPinnedMessageUtils","cr:1106477","emptyFunction","fbicon","gkx","ifRequired","immutable","joinClasses","messengerRTLClasses","prop-types","shallowEqual"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MessengerMessageSeenHeadsReact.bs").jsComponent;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isVisible:!1,plainText:!1,shown:{}},d.$13=function(a){d.messageBody=a},d.$4=function(a,b){d.setState(function(c){return{shown:babelHelpers["extends"]({},c.shown,(c={},c[a]=b,c))}})},d.$10=function(){d.setState(function(a){return{plainText:!a.plainText}})},d.$9=function(){d.props.onSelect(d.props.message.message_id)},d.$11=function(){return b("MessengerCodePasteUtils").containsCodeBlock(d.props.message.body)||!!d.messageBody&&d.messageBody.hasFormatting()},c)||babelHelpers.assertThisInitialized(d)}c.calculateState=function(a){return{isVisible:b("MessengerVideoAutoplayStore").isVisible(a.message.thread_id,a.message.message_id)||b("ifRequired")("MessengerSphericalRendererStore",function(b){return b.isVisible(a.message.thread_id,a.message.message_id)},function(){return!1})}};var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this;this.setState(c.calculateState(this.props));var d=new(b("SubscriptionsHandler"))();d.addSubscriptions(b("MessengerVideoAutoplayStore").addListener(function(b){b=c.calculateState(a.props);b.isVisible!==a.state.isVisible&&a.setState({isVisible:b.isVisible})}));var e=b("ifRequired")("MessengerSphericalRendererStore",function(a){return a},function(){return null});e&&d.addSubscriptions(e.addListener(function(b){b=c.calculateState(a.props);b.isVisible!==a.state.isVisible&&a.setState({isVisible:b.isVisible})}));this.$1=d};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.shouldComponentUpdate=function(a,c){return a.isActive!==this.props.isActive||a.isFromViewer!==this.props.isFromViewer||a.isSelected!==this.props.isSelected||a.message!==this.props.message||a.messageTimestamp!==this.props.messageTimestamp||a.nextTimestamp!==this.props.nextTimestamp||a.showDeliveryState!==this.props.showDeliveryState||a.deliveryTimestamp!==this.props.deliveryTimestamp||!b("immutable").is(a.readReceipts,this.props.readReceipts)||!b("immutable").is(a.participants,this.props.participants)||a.customColor!==this.props.customColor||c.isVisible!==this.state.isVisible||!b("shallowEqual")(c.shown,this.state.shown)||a.onAttachmentLoad!==this.props.onAttachmentLoad||Object.keys(((c=a.message)==null?void 0:c.reactions)||{}).length!==Object.keys(((c=this.props.message)==null?void 0:c.reactions)||{}).length||((c=a.thread)==null?void 0:c.pinned_messages)!==((a=this.props.thread)==null?void 0:a.pinned_messages)};d.render=function(){__p&&__p();var a,c,d=this.props,e=d.isActive,f=d.isSelected,h=d.isFromViewer;d=d.message;var i=[],k=[],l=this.props.message,m=h||!1,n=this.props.scrollToRepliedMessage,o=this.props.thread;l&&!this.props.hideBeforeDecorator&&(b("MessengerDecorator").getBeforeDecorators().forEach(function(a){a.check(l)&&i.push(a.render(l,m,{scrollToRepliedMessage:n,gradientColors:o==null?void 0:o.gradient_colors,solidColor:o==null?void 0:o.solid_color}))}),b("MessengerDecorator").getInnerDecorators().forEach(function(a){a.check(l)&&k.push(a.getAdditionalClassNames())}));var p=this.$2(),q=this.$3(null,this.props.isSavedView===!0||p!=null),r=p!=null;a=this.props.readReceipts.count()>=2&&r&&((a=d.attachments[0])==null?void 0:a.attach_type)==="share";var s=b("WorkChatPinnedMessageUtils").isMessagePinned(d,o),t=!!this.props.isFirstInGroup,u=!t&&s?b("React").jsx("span",{className:"_8r-h",children:b("React").jsx(b("WIGIcon.react"),{color:"tertiary",icon:b("fbicon")._(g("511754"),12)})}):null;c=(c=this.props.thread)==null?void 0:c.name;var v=null;v=b("gkx")("1219041")&&c!=null&&c!=""?null:b("React").jsx(j,{className:"_4jzq"+(a?" _8d3y":""),isFromViewer:h,message:d,nextTimestamp:this.props.nextTimestamp,participants:this.props.participants,readReceipts:this.props.readReceipts});return b("React").jsxs(b("React").Fragment,{children:[b("React").jsxs(b("MessengerMessageActionsWrapper.react"),{className:b("joinClasses").apply(void 0,["clearfix _o46 _3erg"+(e?" _-5k":"")+" _29_7"+(r?" _q4a":"")+(s?" _8r-6":"")+(f?" _8wpq":"")+(t?" _8lma":""),b("messengerRTLClasses")(d.body)].concat(k)),message:d,onShowMenu:this.$4,isFromViewer:h,children:[t?this.props.profileComponent:null,u,i,q,p,this.$5(),v]}),b("cr:1106477")!=null&&d.m_suggestions!=null&&d.m_suggestions.length>0?b("React").jsx(b("cr:1106477"),{isFromViewer:m,message:d,suggestions:d.m_suggestions.map(function(a){return a.type}),expirationTime:d.m_suggestions[0].expiration_time}):null]})};d.$6=function(a){return a.every(function(a){return!a||!b("MessengerAttachmentRenderer").isRenderedShareAttachment(a)})};d.$7=function(){return this.props.message.attachments.length===1&&b("MercuryAttachment").hasAttribution(this.props.message.attachments[0])};d.$2=function(){__p&&__p();if(this.props.message!=null&&this.props.message.attachments!=null&&this.props.message.attachments.length>0){var a;a=((a=this.props.message)==null?void 0:(a=a.attachments[0])==null?void 0:(a=a.share)==null?void 0:a.style_list[0])==="wec_message"&&!((a=this.props.message)==null?void 0:(a=a.attachments[0])==null?void 0:(a=a.share)==null?void 0:(a=a.subattachments)==null?void 0:a.length);if(a)return null}if(this.props.message.is_filtered_content)return null;if(this.props.message.commerce_message_type==="ride_intent")return null;a=this.props.message;var c=this.$8(a),d=c[0];c=c[1];var e=b("MessengerAttachmentRenderer").getAttachmentsOutsideBubble(this.props.message,this.props.onAttachmentLoad,{customColor:this.props.customColor,isFromViewer:this.props.isFromViewer,isPageMessage:this.props.isPageMessage,isVisible:this.state.isVisible,onSelect:this.$9,onUnwrap:null,pageID:this.props.pageID},d,this.props.thread);if(!e||!e.length)return null;var f=this.$6(e),g=this.props.isPageMessage||this.props.isSavedView?null:b("cr:1144066")!=null?b("React").jsx(b("cr:1144066"),{message:a,hovered:this.state.shown[this.props.message.message_id],messageProps:{isFromViewer:this.props.isFromViewer===!0,onReplyToMessage:this.props.onReplyToMessage,handleToggleOriginal:this.$10,hasFormatting:this.$11,isShowingOriginal:this.state.plainText}}):b("cr:1144065")!=null&&b("React").jsx(b("cr:1144065"),{className:(f?"_1z_2":"")+(f?"":" _7w6x")+" _7w6y",message:a,isFromViewer:!!this.props.isFromViewer,hovered:this.state.shown[this.props.message.message_id],messageProps:babelHelpers["extends"]({},this.props,{handleToggleOriginal:this.$10,hasFormatting:this.$11,isShowingOriginal:this.state.plainText}),isSavedView:this.props.isSavedView});this.$7()&&(e=[b("React").jsxs("span",{children:[e[0],b("React").jsx(b("MessengerAttachmentAttribution.react"),{attachment:new(b("ImmutableObject"))(this.props.message.attachments[0])})]},"AttachmentWithAttribution")]);var h=e.some(function(a){return!!a&&b("MessengerAttachmentRenderer").isPhotosGroupAttachment(a)});e=f?b("React").jsxs("div",{className:b("joinClasses").apply(void 0,[h?"_2-x3":""].concat(c)),children:[e,d.length>1?b("React").jsx(b("FlexLayout.react"),{align:"center",className:"_7moe",children:d}):d,g]}):e.map(function(a){return a&&b("React").cloneElement(a)});h=b("MessengerAttachmentRenderer").isSharedVideoAttachmentMessage(this.props.message);c=b("React").jsxs("div",{className:"_15gf"+(h?" _3duc":""),children:[e,a.body||f?null:g]},"renderedAttachments");return this.$7()?b("React").jsx(b("MessengerBubbleBlock.react"),{children:c}):c};d.$8=function(a){var c=this,d=[],e=[],f=this.props.isFromViewer||!1;a&&this.props.isSavedView!==!0&&b("MessengerDecorator").getAfterDecorators().forEach(function(b){b.check(a,f)&&(d.push(b.render(a,f,c.props,c.state.shown[c.props.message.message_id])),e.push(b.getAdditionalClassNames()))});return[d,e]};d.$12=function(){return b("MessengerAttachmentRenderer").isP2PAttachment(this.props.message)};d.$3=function(a,c){var d=this.props.message,e=b("immutable").List(b("MessengerAttachmentRenderer").getAttachmentsInsideBubble(d,this.props.onAttachmentLoad)),f=d.ranges;d.profile_ranges&&d.profile_ranges.length&&(f=(f||[]).concat(d.profile_ranges.map(function(a){return babelHelpers["extends"]({},a,{url:b("MessengerURIUtils.bs").getURIForUserID(a.id)})})));var g=b("CurrentUser").isWorkUser()?!1:b("MessengerCodePasteUtils").containsCodeBlock(d.body)&&!this.state.plainText;if(d.is_filtered_content)return b("React").jsx("div",{className:"_3058 _wiu _52mr uiBoxYellow clearfix",children:b("MercuryDisplayTimeFilterMessageRenderer").renderFilteredContent(d)});var h=d.body&&!b("EmojiLikeUtils").isEmojiLike(d);return h||!e.isEmpty()?b("React").jsx(b("MessengerBubble.react"),{thread:this.props.thread,attachments:e,body:d.body,bodyRef:this.$13,className:g?(this.props.isFromViewer?"_3uhm":"")+(this.props.isFromViewer?"":" _3uhn")+(this.props.isSelected?" _3xsz":""):"_3058 _ui9"+(this.props.isSelected?" _3xsz":""),containsCode:g,customColor:this.props.isFromViewer?this.props.customColor:"",customLike:d.customLike,excludeAfterDecorators:c,isFromViewer:this.props.isFromViewer,isP2PAttachment:this.$12(),ranges:f,message:d,metaRanges:d.meta_ranges,plainText:this.state.plainText,threadCustomColor:this.props.threadCustomColor||"#0084ff",threadID:d.thread_id,participants:this.props.participants,wecFirstMessage:this.props.wecFirstMessage,isHovered:this.state.shown[d.message_id],onReplyToMessage:this.props.onReplyToMessage,handleToggleOriginal:this.$10,hasFormatting:this.$11,isShowingOriginal:this.state.plainText,isPageMessage:this.props.isPageMessage,isSavedView:this.props.isSavedView,repliedToMessage:this.props.message.replied_to_message,scrollToRepliedMessage:this.props.scrollToRepliedMessage,tooltip:a,is_forwarded:d.is_forwarded}):null};d.$5=function(){var a=this.props.message;return!b("MessengerMessage.bs").hasError(a)?null:b("React").jsx(b("MercuryMessageError.react"),{className:"_3058 _2ygi",message:a,authorFBID:this.props.authorFBID})};return c}(b("React").Component);a.propTypes={customColor:(c=b("prop-types")).string,deliveryTimestamp:c.number.isRequired,hideBeforeDecorator:c.bool,isActive:c.bool,isSelected:c.bool,isFromViewer:c.bool,isPageMessage:c.bool,message:c.object.isRequired,messageTimestamp:c.number,nextTimestamp:c.number.isRequired,onAttachmentLoad:c.func.isRequired,onDeselect:c.func.isRequired,onSelect:c.func.isRequired,onReplyToMessage:c.func,participants:c.instanceOf(b("immutable").Map).isRequired,readReceipts:c.instanceOf(b("immutable").OrderedMap).isRequired,showDeliveryState:c.bool,authorFBID:c.string,threadCustomColor:c.string,pageID:c.string,isSavedView:c.bool,scrollToRepliedMessage:c.func,thread:c.object,wecFirstMessage:c.bool};a.defaultProps={onAttachmentLoad:b("emptyFunction"),threadCustomColor:"#0084ff"};e.exports=a}),null);
__d("WorkTeamworkRemovedTombstoneMessage.react",["cx","MessengerDecorator","MessengerDotComAndInboxM4Check.bs","MessengerInnerDecorators.react","MessengerMessageActionsWrapper.react","MessengerMessageSeenHeadsReact.bs","React","RemovedMessageTombstoneContent","immutable","joinClasses","messengerRTLClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerMessageSeenHeadsReact.bs").jsComponent;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shown:{}},c.$2=function(a,b){c.setState(function(c){return{shown:babelHelpers["extends"]({},c.shown,(c={},c[a]=b,c))}})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.isActive,d=a.isFromViewer;a=a.message;var e=[],f=this.props.message;f&&b("MessengerDecorator").getInnerDecorators().forEach(function(a){a.check(f)&&e.push(a.getAdditionalClassNames())});var g=this.$1();return b("React").jsxs(b("MessengerMessageActionsWrapper.react"),{className:b("joinClasses").apply(void 0,["clearfix _o46 _3erg"+(c?" _-5k":"")+(d?" _3i_m":"")+(d?" _nd_":"")+(d?"":" _29_7")+"",b("messengerRTLClasses")(a.body)].concat(e)),message:a,onShowMenu:this.$2,children:[g,this.props.hideDeliveryState===!0?null:b("React").jsx(h,{className:"_4jzq",isFromViewer:d,message:a,nextTimestamp:this.props.nextTimestamp,participants:this.props.participants,readReceipts:this.props.readReceipts})]})};d.$1=function(){var a=this.props.message,c=b("RemovedMessageTombstoneContent").getRemovedMessageTombstoneContent(a,this.props.participants);return b("React").jsxs("div",{className:"_3058 _ui9"+(a.isSelected?" _3xsz":"")+" _7301 _hh7"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6ybn":"")+" _s1- _52mr _3oh-"+(this.props.isFirstInGroup===!0?" _8lma":""),children:[this.props.isFirstInGroup?this.props.profileComponent:null,this.props.hideBeforeDecorator===!0?null:b("React").jsx(b("MessengerInnerDecorators.react"),{className:"_1z_2",message:a,isFromViewer:!!this.props.isFromViewer,hovered:this.state.shown[a.message_id],messageProps:{},isSavedView:!1}),b("React").jsx("div",{className:"_aok _7w73","aria-label":c,children:b("React").jsx("span",{children:c})})]})};return c}(b("React").Component);e.exports=a}),null);
__d("WorkTeamworkMessageGroup.react",["ix","cx","fbt","Image.react","ImmutableObject","MercuryIDs","MercuryParticipantSilhouettes","MercuryTimestamp","MessengerParticipants.bs","MessengerProfileImageWrapperReact.bs","MessengerStickerUtils","MessengerTextWithEmoticons.react","React","ReactDOM","WIGActorHovercard.react","WIGIcon.react","WIGPressable.react","WorkChatPinnedMessageUtils","WorkGalahadChat","WorkTeamworkMessage.react","WorkTeamworkRemovedTombstoneMessage.react","WorkUserEmojiWithTooltip.react","fbicon","gkx","immutable","isMessengerMessageRemoved"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MessengerProfileImageWrapperReact.bs").jsComponent;b("immutable").List;b("immutable").OrderedMap;var k=new(b("ImmutableObject"))({image_src:b("MercuryParticipantSilhouettes").neutralSilhouette,is_messenger_user:!0,name:""});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.state={participants:{}},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1=this.$2()};d.shouldComponentUpdate=function(a,c){var d=a.thread,e=this.props.thread;d=Boolean(d&&e&&(d.solid_color!==e.solid_color||d.custom_nickname!==e.custom_nickname||d.pinned_messages!==e.pinned_messages));return this.props.activeMessageID!==a.activeMessageID||this.props.isFromViewer!==a.isFromViewer||this.props.deliveryTimestamp!==a.deliveryTimestamp||this.props.lastReadTimestamp!==a.lastReadTimestamp||this.props.onAttachmentLoad!==a.onAttachmentLoad||!b("immutable").is(this.props.messages,a.messages)||this.props.messages!==a.messages||!b("immutable").is(this.props.readReceipts,a.readReceipts)||this.state.participants!==c.participants||d};d.componentDidUpdate=function(){var a=this,b=l(this.props);!this.$1&&!b.every(function(b){return a.state.participants[b]})&&(this.$1=this.$2())};d.componentWillUnmount=function(){this.$1&&b("MessengerParticipants.bs").removeCallback(this.$1)};d.render=function(){return b("React").jsx("div",{children:b("React").jsx("div",{className:"_1t_p _7w76 clearfix"+(b("MessengerStickerUtils").isStickerMessageGroup(this.props.messages)?" _5tx1":"")+(this.$3()?" _35fy":""),children:b("React").jsx("div",{children:this.$4()})})})};d.$5=function(){var a=this.props.messages.first();return b("WorkChatPinnedMessageUtils").isMessagePinned(a,this.props.thread)};d.$6=function(){__p&&__p();var a,c=this.props.messages.last(),d=this.state.participants[c.author]||k,e=d.name,f=d.image_src,h=((a=d.work_foreign_entity_info)==null?void 0:a.type)==="FOREIGN";a=((a=this.props.thread)==null?void 0:a.custom_nickname)||{};var l=d.id!=null&&b("MercuryIDs").getUserIDFromParticipantID(d.id)||"";d=i._("{time}",[i._param("time",b("MercuryTimestamp").getPreciseTimestamp(c.timestamp))]);c=this.$5();c=c?b("React").jsx("span",{className:"_8r-g",children:b("React").jsx(b("WIGIcon.react"),{color:"tertiary",icon:b("fbicon")._(g("511754"),12)})}):null;return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("WIGActorHovercard.react"),{actorID:l,children:function(a){var c;return(c=b("React")).jsx("div",{ref:a,className:"_8lmp",children:c.jsx(b("WIGPressable.react"),{display:"inline",onPress:function(){b("WorkGalahadChat").openThread(l)},overlayDisabled:!0,children:c.jsx(j,{size:32,showBadge:h,isMultiCompany:h,children:c.jsx(b("Image.react"),{alt:e,src:f,height:32,width:32})})})})}}),b("React").jsxs("span",{className:"_8lmq",children:[b("React").jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:a[l]||e}),l.length>0&&b("gkx")("1222861")?b("React").jsx(b("WorkUserEmojiWithTooltip.react"),{userID:l,withSpace:!0}):null,b("React").jsx("span",{className:"_8lmr",children:d}),c]})]})};d.$4=function(){__p&&__p();var a=this,c=this.props.messages.size,d=[];this.props.messages.forEach(function(e,f,g){var h=e.message_id===a.props.activeMessageID,i=!1;a.props.selectedMessageId?i=e.message_id===a.props.selectedMessageId:i=e.isSelected;var j=b("MercuryIDs").getUserIDFromParticipantID(a.props.author),k=a.props.thread?a.props.thread.solid_color:"",l=a.props.onAttachmentLoad,m=e.timestamp;if(b("isMessengerMessageRemoved")(e)){d.push(b("React").jsx(b("WorkTeamworkRemovedTombstoneMessage.react"),{isActive:h,isFromViewer:a.props.isFromViewer,message:e,participants:b("immutable").Map(a.state.participants),nextTimestamp:a.$7(g,c,f),onSelect:a.props.onMessageSelect,onReplyToMessage:a.props.onReplyToMessage,readReceipts:a.props.readReceipts,ref:e.message_id,isFirstInGroup:f===0,profileComponent:a.$6()},e.message_id));return}d.push(b("React").jsx(b("WorkTeamworkMessage.react"),{thread:a.props.thread,customColor:k,deliveryTimestamp:a.props.deliveryTimestamp,isActive:h,isSelected:i,isFromViewer:a.props.isFromViewer,isPageMessage:a.props.isPageMessage,message:e,messageTimestamp:m,messageActionsWrapper:a.props.messageActionWrapper,onAttachmentLoad:l,participants:b("immutable").Map(a.state.participants),nextTimestamp:a.$7(g,c,f),onDeselect:a.props.onMessageDeselect,onSelect:a.props.onMessageSelect,onReplyToMessage:a.props.onReplyToMessage,readReceipts:a.props.readReceipts,showDeliveryState:e.timestamp>a.props.lastReadTimestamp||!!e.is_one_way_sent,ref:e.message_id,authorFBID:j==null?void 0:j,threadCustomColor:k,pageID:a.props.pageID,scrollToRepliedMessage:a.props.scrollToRepliedMessage,isCanonical:a.props.isCanonical,isFirstInGroup:f===0,profileComponent:a.$6()},e.message_id))});return d};d.getMessageElement=function(a){return b("ReactDOM").findDOMNode(this.refs[a])};d.$3=function(){var a=this.props,b=a.messages,c=a.nextTimestamp;a=a.readReceipts;var d=b.last().timestamp,e=0;a.forEach(function(a){if(a>=d&&a<c&&++e===2)return!1});return e===2};d.$7=function(a,b,c){return c<b-1?a.get(c+1).timestamp:this.props.nextTimestamp};d.$2=function(){__p&&__p();var a=this,c=l(this.props),d={},e=[];c.forEach(function(a){var c=b("MessengerParticipants.bs").getNow(a);d[a]=c;c||e.push(a)});this.setState({participants:d});return e.length>0?b("MessengerParticipants.bs").getMulti(e,function(b){a.$1=null,a.setState(function(c){var a=Object.assign({},c.participants);e.forEach(function(c){a[c]=b[c]});return{participants:a}})}):null};return c}(b("React").Component);function l(a){var b=[a.messages.first().author];a.readReceipts.forEach(function(a,c){return b.push(c)});return b}e.exports=a}),null);
__d("useWorkPinMessageStatusChangeMutation",["RelayHooks","createUseMutation","useWorkPinMessageStatusChangeMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayHooks").graphql;a=g!==void 0?g:g=b("useWorkPinMessageStatusChangeMutation.graphql");c=b("createUseMutation")(a);e.exports=c}),null);
__d("useWorkPinMessageAction",["fbt","CurrentUser","MercuryThreadActions","MessengerMessageUtils","MessengerState.re","promiseDone","useWIGGenericErrorDialog","useWorkPinMessageStatusChangeMutation","uuid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=1;function a(a,c,d){__p&&__p();var e=b("useWorkPinMessageStatusChangeMutation")(),f=b("useWIGGenericErrorDialog")(),i=f[0],j=b("MessengerState.re").getServerMessageID(b("CurrentUser").getID(),a.message_id);if(j==null)return null;var k=(f=c.pinned_messages)!=null?f:[],l=function(){b("promiseDone")(e({client_mutation_id:b("uuid")(),actor_id:b("CurrentUser").getID(),message_id:j,thread_fbid:d,pin_action:"PIN"}),function(d){b("MercuryThreadActions").getForFBID(b("CurrentUser").getID()).pinMessage(c.thread_id,{message_id:j,message:b("MessengerMessageUtils").fromMercuryMessagePayload(a),pinning_time:Date.now()})})};return function(){if(k.length>=h){i(g._("Vui l\u00f2ng g\u1ee1 tin nh\u1eafn \u0111\u00e3 ghim n\u00e0y r\u1ed3i m\u1edbi ghim th\u00eam.").toString());return}l()}}e.exports=a}),null);
__d("useWorkUnpinMessageAction",["fbt","CurrentUser","MercuryThreadActions","MessengerState.re","promiseDone","useWIGConfirmationDialog","useWorkPinMessageStatusChangeMutation","uuid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,c,d){__p&&__p();var e=b("useWorkPinMessageStatusChangeMutation")(),f=b("useWIGConfirmationDialog")(),h=f[0];if(a==null)return null;var i=b("MessengerState.re").getServerMessageID(b("CurrentUser").getID(),a);if(i==null)return null;var j=function(){b("promiseDone")(e({client_mutation_id:b("uuid")(),actor_id:b("CurrentUser").getID(),message_id:i,thread_fbid:d,pin_action:"UNPIN"}),function(a){b("MercuryThreadActions").getForFBID(b("CurrentUser").getID()).unpinMessage(c.thread_id,i)})};return function(){h({title:g._("G\u1ee1 ghim n\u00e0y?"),body:g._("B\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n g\u1ee1 ghim n\u00e0y kh\u00f4ng?")},function(){j()})}}e.exports=a}),null);
__d("WorkChatPinActionMessageItem.react",["fbt","React","WorkChatPinnedMessageUtils","WorkGalahadDropdownMenuItem.react","useWorkPinMessageAction","useWorkUnpinMessageAction"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.message,d=a.serverMessageID,e=a.thread;a=a.threadFBID;var f=b("WorkChatPinnedMessageUtils").isMessagePinned(c,e),h=f?g._("B\u1ecf ghim"):g._("Ghim"),i=b("useWorkPinMessageAction")(c,e,a),j=b("useWorkUnpinMessageAction")(d,e,a);return b("React").jsx(b("WorkGalahadDropdownMenuItem.react"),{id:"pin-message",label:h,onClick:function(){f?j&&j():i&&i()},icons:f?"pushpin_slash":"pushpin"})}e.exports=a}),null);
__d("WorkTeamworkChatNullStateMessage.react",["FlexLayout.react","React","WorkTeamworkNullStateMessage.react","stylex"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").jsx(b("FlexLayout.react"),{align:"end",className:"r2j6zoxv",children:b("React").jsx(b("WorkTeamworkNullStateMessage.react"),{type:a.messageType})})}e.exports=a}),null);
__d("WorkTeamworkChatWithGroupNullstateMessage.react",["GroupVisibility","React","RelayHooks","WorkTeamworkNullStateMessage.react","getJSEnumSafe","WorkTeamworkChatWithGroupNullstateMessageQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayHooks").graphql;var h=b("RelayHooks").useLazyLoadQuery;function a(a){a=h(g!==void 0?g:g=b("WorkTeamworkChatWithGroupNullstateMessageQuery.graphql"),{id:a.groupID});a=a.group;if(a==null)return null;var c=null;a.is_default_child_group==!0?c="DEFAULT_GROUP_CHAT":b("getJSEnumSafe")(b("GroupVisibility"),a.visibility)===3?c="SECRET_GROUP_CHAT":c="OPEN_GROUP_CHAT";return b("React").jsx(b("WorkTeamworkNullStateMessage.react"),{type:c})}e.exports=a}),null);
__d("WorkTeamworkNullStateUtils",["CurrentUser","MercuryIDs","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={shouldRenderChatNullState:function(a,c,d,e){if(!b("CurrentUser").isWorkUser()||a.size>5||a.find(function(a){return a.action_type!=="ma-type:log-message"})!=null)return!1;if(d==="page")return!1;a=g.getNullStateMessageType(c,e);return a==null?!1:!0},getNullStateMessageType:function(a,c){if(b("MercuryIDs").isGroupChat(a))return"GROUP_CHAT";a=b("MercuryIDs").getUserIDFromThreadID(a);if(a==null)return null;return a===c?"SELF_CHAT":"USER_CHAT"}};e.exports=g}),null);