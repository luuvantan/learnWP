if (self.CavalryLogger) { CavalryLogger.start_js(["6kk4u"]); }

__d("StickersPackInTrayQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"stickerInterface",type:"StickerInterfaces",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"sticker_store",storageKey:null,args:null,concreteType:"StickerStore",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"tray_packs",storageKey:null,args:[{kind:"Literal",name:"first",value:1e4},{kind:"Variable",name:"interface",variableName:"stickerInterface"}],concreteType:"PacksInTrayConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"PacksInTrayEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"StickerPack",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"StickersPackInTrayQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"StickersPackInTrayQuery",argumentDefinitions:a,selections:b},params:{operationKind:"query",name:"StickersPackInTrayQuery",id:"2650439741646983",text:null,metadata:{}}}}();e.exports=a}),null);
__d("MercuryAudioPlayer",["DOM","Event"],(function(a,b,c,d,e,f){__p&&__p();var g=200;function h(){var a=b("DOM").create("audio"),c=!1;try{a.canPlayType&&(a.canPlayType("video/mp4;").replace(/^no$/,"")&&(c=!0))}finally{return c}}var i=function(){this.interval=null,this.arbiterInstance=null,this.audio=b("DOM").create("audio"),b("Event").listen(this.audio,"playing",function(){this.informAttachment("playing",this.audio.currentTime),this.interval=window.setInterval(function(){this.informAttachment("playing",this.audio.currentTime)}.bind(this),g)}.bind(this)),b("Event").listen(this.audio,"ended",function(){window.clearInterval(this.interval),this.informAttachment("finished")}.bind(this))};Object.assign(i.prototype,{setAudio:function(a,b){this.audio.setAttribute("src",a),this.arbiterInstance=b},informAttachment:function(a,b){this.arbiterInstance&&this.arbiterInstance.inform(a,b)},play:function(){this.audio.play(),this.informAttachment("played")},resume:function(){this.audio.play(),this.informAttachment("played")},pause:function(){this.audio.pause(),window.clearInterval(this.interval),this.informAttachment("paused")},getType:function(){return"html5"}});function j(){return h()?new i():!1}var k=null,l=null,m=0;function a(a,b){this.src=a;this.arbiterInstance=b;this.audio_id=++m;k!==null||(k=j());if(!k)return!1}Object.assign(a.prototype,{getType:function(){if(!k)return!1;else return k.getType()},play:function(a){a&&l==this.audio_id?k.resume():(this.pause(),l=this.audio_id,k.setAudio(this.src,this.arbiterInstance),k.play())},pause:function(){k.pause()}});e.exports=a}),null);
__d("MercuryAttachmentAudioClip.react",["cssVar","cx","fbt","Arbiter","ArbiterMixin","CurrentUser","JSLogger","LeftRight.react","Link.react","MercuryAudioPlayer","MercuryShareAttachmentRenderLocations","React","SubscriptionsHandler","createReactClass_DEPRECATED","joinClasses","prop-types","shield"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j="MercuryAttachmentAudioClip/play",k="progress-bar",l=b("JSLogger").create("mercury_audio_clip");c=b("createReactClass_DEPRECATED")({displayName:"AudioClip",mixins:[b("ArbiterMixin")],propTypes:{customColor:(a=b("prop-types")).string,duration:a.number,isChat:a.bool,isFromViewer:a.bool,location:a.oneOf(b("MercuryShareAttachmentRenderLocations").getValues()),onAttachmentLoad:a.func,rootClassName:a.string,showHelp:a.bool,src:a.string.isRequired,width:a.number},getInitialState:function(){this.logged=!1;return{time:0,playing:!1,started:!1,duration:this.props.duration,audioPlayer:new(b("MercuryAudioPlayer"))(this.props.src,this)}},componentDidMount:function(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad(),this._subscriptionsHandler=new(b("SubscriptionsHandler"))(),this._subscriptionsHandler.addSubscriptions(this.subscribe("playing",this.updateTime),this.subscribe("played",b("shield")(this.setState,this,{playing:!0,started:!0})),this.subscribe("paused",b("shield")(this.setState,this,{playing:!1})),this.subscribe("finished",b("shield")(this.setState,this,{playing:!1,started:!1,time:this.props.duration})),b("Arbiter").subscribe(j,function(a,b){this.props.src!=b&&this.setState({time:0})}.bind(this)))},componentWillUnmount:function(){this._subscriptionsHandler&&this._subscriptionsHandler.release()},updateTime:function(a,b){this.setState({time:b})},play:function(){this.state.playing?this.state.audioPlayer.pause():(this.state.audioPlayer.play(this.state.started),b("Arbiter").inform(j,this.props.src),this.logged||(this.logged=!0,l.log("play",{uid:b("CurrentUser").getID(),duration:this.props.duration})))},_formatSeconds:function(a){if(a){a=Math.round(a);var b=a%60;b<10&&(b="0"+b);a=Math.floor(a/60);return a+":"+b}else return null},_renderPlayer:function(a,c,d){var e=this.props.isFromViewer,f=this.props.isChat,g=b("CurrentUser").isWorkUser(),h=d===k,j=f&&e&&!h,l=this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER;g=g?"#373e4c":"#4080ff";g=d||g;a={width:a};j&&(a.backgroundColor=g);j=d&&d!==k&&!f?{color:d}:{};g={};h&&(g["aria-hidden"]=!0);return b("React").jsxs(b("Link.react"),babelHelpers["extends"]({"aria-label":i._("Tin nh\u1eafn tho\u1ea1i"),className:"_1miz _2e-1"+(l?"":" _3_om")+(e&&f?" _3e5f":""),role:"button",style:a,onClick:this.play},g,{children:[b("React").jsx("span",{className:"_1mi- _2e-2",children:b("React").jsx("i",{className:"_1mi_ _2e-3"})}),b("React").jsx("span",{style:j,className:"_1mj0 _2e-4 _3oh-",children:c}),b("React").jsx("div",{className:"_1mj1 _2e-5"})]}))},render:function(){__p&&__p();var a=this.state.time,c=this.state.playing,d=this._formatSeconds(this.state.duration),e=this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER,f=this.props.width||170;if(e){var g=this.props.duration;g>10?f=240:g>5?f=200:g>2?f=160:f=120}g=null;var h=Math.ceil(a*(f+2)/this.state.duration);e&&(h=Math.ceil(a*(f+24)/this.state.duration));if(this.state.audioPlayer&&this.state.audioPlayer.getType()){var j=this._renderPlayer(f,d,this.props.customColor);f=this._renderPlayer(f,d,k);c="_1mj2 _2e-6"+(c&&a!==0?" _1mj3":"")+(c&&a===0?" _4g4x":"");g=b("React").jsxs("div",{className:c,children:[j,b("React").jsx("div",{className:"_1mj4 _2e-7",style:{width:h},children:f})]})}else{g=(a=b("React")).jsx("div",{className:"_1mj2",children:a.jsx("div",{className:"_1miz",children:a.jsxs(b("LeftRight.react"),{children:[a.jsxs("a",{className:"_1mj5",href:this.props.src,children:[a.jsx("span",{className:"_3qi6",children:a.jsx("i",{className:"_1mj6"})}),a.jsx("span",{className:"_1mj7",children:i._("Tin nh\u1eafn tho\u1ea1i")}),a.jsx("span",{className:"_1mj8",children:d})]}),a.jsx("a",{href:this.props.src,className:"_1mj9",children:a.jsx("i",{className:"_1mja"})})]})})})}return b("React").jsx("div",{className:b("joinClasses")("_1mjb"+(e?" _454y":""),this.props.rootClassName),children:g})}});e.exports=c}),null);
__d("FBRTCCallabilityActions",["keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({CALLABILITY_FETCHED:null,CALLABILITY_FETCH_ERROR:null});a=function(){function a(a){this.$1=a}var b=a.prototype;b.callabilityFetched=function(a,b){this.$1.dispatch({type:g.CALLABILITY_FETCHED,userID:a,callability:b})};b.callabilityFetchError=function(a){this.$1.dispatch({type:g.CALLABILITY_FETCH_ERROR,userID:a})};return a}();a.Types=g;e.exports=a}),null);
__d("XRTCCallabilityController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/rtc/callability/",{user_id:{type:"FBID",required:!0}})}),null);
__d("FBRTCCallabilityDataManager",["AsyncRequest","FBRTCCallabilityActions","TimeSlice","XRTCCallabilityController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=new(b("FBRTCCallabilityActions"))(a)}var c=a.prototype;c.fetchCallability=function(a){var c=this;b("TimeSlice").guard(function(){var d=b("XRTCCallabilityController").getURIBuilder().setFBID("user_id",a).getURI(),e=c.$2.bind(c,a),f=c.$3.bind(c,a);new(b("AsyncRequest"))().setURI(d).setHandler(e).setErrorHandler(f).setAllowCrossPageTransition(!0).send()},"Chat Tab RTC Callability Check",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};c.$2=function(a,b){this.$1.callabilityFetched(a,b.payload)};c.$3=function(a,b){this.$1.callabilityFetchError(a)};return a}();e.exports=a}),null);
__d("RTCCallabilityStore",["fbt","Cache","FBRTCCallabilityActions","FBRTCCallabilityDataManager","FluxStore","MercuryThreadInfo"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=.5,i=5;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$RTCCallabilityStore2=new(b("FBRTCCallabilityDataManager"))(c);d.$RTCCallabilityStore1=new(b("Cache"))();return d}var d=c.prototype;d.__onDispatch=function(a){__p&&__p();var c=a.type;switch(c){case b("FBRTCCallabilityActions").Types.CALLABILITY_FETCHED:c=a.userID;var d=a.callability;this.$RTCCallabilityStore1.set(c,{callable:d.is_callable,isBlocked:d.is_blocked},null,d.is_callable?i:h);this.__emitChange();break;case b("FBRTCCallabilityActions").Types.CALLABILITY_FETCH_ERROR:this.$RTCCallabilityStore1.set(a.userID,{callable:!1,isBlocked:!1},null,h);this.__emitChange();break}};d.isCallable=function(a,b){b=b?b.message_count>0&&b.folder==="inbox":!1;a=this.fetchUserFromCache(a);return a&&a.callable||b};d.isBlocked=function(a,c){c=c?b("MercuryThreadInfo").canReply(c):!0;a=this.fetchUserFromCache(a);return a&&a.isBlocked||!c};d.fetchUserFromCache=function(a){this.$RTCCallabilityStore1.has(a)||(this.$RTCCallabilityStore2.fetchCallability(a),this.$RTCCallabilityStore1.set(a,{callable:!1,isBlocked:!1},null,h));return this.$RTCCallabilityStore1.get(a)};d.callButtonTooltip=function(a,b,c,d){c===void 0&&(c=!0);return!this.isBlocked(a,d)&&(c||this.isCallable(a))?g._("B\u1eaft \u0111\u1ea7u chat video v\u1edbi {shortname}",[g._param("shortname",b)]):g._("{shortname} hi\u1ec7n kh\u00f4ng th\u1ec3 th\u1ef1c hi\u1ec7n cu\u1ed9c g\u1ecdi video",[g._param("shortname",b)])};d.voiceCallButtonTooltip=function(a,b,c,d){c===void 0&&(c=!0);return!this.isBlocked(a,d)&&(c||this.isCallable(a))?g._("B\u1eaft \u0111\u1ea7u cu\u1ed9c g\u1ecdi tho\u1ea1i v\u1edbi {shortname}",[g._param("shortname",b)]):g._("{shortname} hi\u1ec7n kh\u00f4ng th\u1ec3 th\u1ef1c hi\u1ec7n cu\u1ed9c g\u1ecdi tho\u1ea1i",[g._param("shortname",b)])};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=a}),null);
__d("RepliedToMessageContent.react",["ix","cx","fbt","Bootloader","CurrentUser","FantaTabActions","FBLogger","Image.react","JSResource","LineClamp.react","MessengerMathUtils","MessengerTextWithEntities.react","React","RepliedToMessageStatusForGraphQL","asset","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$4=function(){d.$5();if(d.props.repliedToMessageData.status!==b("RepliedToMessageStatusForGraphQL").VALID)return;var a=d.props.threadID;d.props.isMessengerUI?d.props.scrollToRepliedMessage&&d.props.scrollToRepliedMessage(d.props.repliedToMessageData.message.message_id):a!==null&&a!==void 0&&b("FantaTabActions").jumpToMessage(a,d.props.repliedToMessageData.message.message_id)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.isFromViewer,d=a.isMessengerUI;a=a.repliedToMessageData;var e=a.status===b("RepliedToMessageStatusForGraphQL").VALID;if(e&&!a.message){b("FBLogger")("message_replies").mustfix("invalid message reply: Status is Valid but replied_to_message is missing");return null}e=e?a.message.body:this.$1(a);var f=null;!e&&a.message.attachments&&(f=this.$2(a.message.attachments,c,d),e=this.$3(a.message.attachments));c=null;a=e!=null&&b("MessengerMathUtils").isMathBlock(e);if(a&&e!=null){var g;a=b("MessengerMathUtils").getMathBlockInner(e);var h=b("lazyLoadComponent")(b("JSResource")("MessengerMath.react").__setRef("RepliedToMessageContent.react"));c=(g=b("React")).jsx(g.Suspense,{fallback:g.jsx("div",{children:e}),children:g.jsx(h,{body:a,fallbackBody:e,stripDelimiters:!0,className:"_1e4d"})})}else c=b("React").jsx(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:e});g=b("React").jsx(b("LineClamp.react"),{className:"_4k7e",lines:2,fitHeightToShorterText:!0,children:c});if(!this.props.replyInOneBubble)return b("React").jsxs("div",{className:(!!f&&d?"_6e7n":"")+(!!f&&!d?" _6e6m":""),children:[g,f]});h=b("React").jsxs("blockquote",{className:"_pye"+(!!f&&d?" _6e7n":"")+(!!f&&!d?" _6e6m":""),children:[b("React").jsx("div",{className:"_pyf"}),g,f]});return!this.props.isLinkified?h:b("React").jsx("a",{className:"_6e6n",href:"#",onClick:this.$4,children:h})};d.$1=function(a){switch(a.status){case b("RepliedToMessageStatusForGraphQL").DELETED:return b("CurrentUser").isWorkUser()?i._("Tin nh\u1eafn n\u00e0y \u0111\u00e3 b\u1ecb x\u00f3a").toString():i._("\u0110\u00e3 g\u1ee1 tin nh\u1eafn").toString();case b("RepliedToMessageStatusForGraphQL").TEMPORARILY_UNAVAILABLE:default:return i._("Tin nh\u1eafn t\u1ea1m th\u1eddi kh\u00f4ng hi\u1ec3n th\u1ecb").toString()}};d.$2=function(a,c,d){d=d?"_6e6o":"_6e6y";if(a.length===1&&a[0].attach_type)switch(a[0].attach_type){case"photo":case"sticker":case"third_party_sticker":case"animated_image":return!this.props.replyInOneBubble?b("React").jsx(b("Image.react"),{className:d,src:g("602383")}):c===!0?b("React").jsx(b("Image.react"),{className:d,src:g("544881")}):b("React").jsx(b("Image.react"),{className:d,src:g("596859")});case"video":return!this.props.replyInOneBubble?b("React").jsx(b("Image.react"),{className:d,src:g("602399")}):c===!0?b("React").jsx(b("Image.react"),{className:d,src:g("504242")}):b("React").jsx(b("Image.react"),{className:d,src:g("596875")});default:return!this.props.replyInOneBubble?b("React").jsx(b("Image.react"),{className:d,src:g("562396")}):c===!0?b("React").jsx(b("Image.react"),{className:d,src:g("555222")}):b("React").jsx(b("Image.react"),{className:d,src:g("596853")})}else if(a.length>1)return!this.props.replyInOneBubble?b("React").jsx(b("Image.react"),{className:d,src:g("602390")}):c===!0?b("React").jsx(b("Image.react"),{className:d,src:g("504171")}):b("React").jsx(b("Image.react"),{className:d,src:g("596866")});else return null};d.$3=function(a){__p&&__p();var b=a.length;if(b===1&&a[0].attach_type)switch(a[0].attach_type){case"photo":return i._("\u1ea2nh").toString();case"video":return i._("Video").toString();case"sticker":case"third_party_sticker":return i._("Nh\u00e3n d\u00e1n").toString();case"animated_image":return i._("T\u1ec7p GIF").toString();default:return i._("T\u1ec7p \u0111\u00ednh k\u00e8m").toString()}else if(b>1)return i._({"*":"{number of attachments} t\u1ec7p \u0111\u00ednh k\u00e8m"},[i._param("number of attachments",b),i._plural(b)]).toString();else return null};d.$5=function(){b("Bootloader").loadModules(["MessageReplyTypedLogger","MessageReplyEvent"],function(a,c){a=new a();a.setEvent(c.SCROLL_TO_ORIGINAL_MESSAGE).setIsWorkplace(b("CurrentUser").isWorkUser()).log()},"RepliedToMessageContent.react")};return c}(b("React").Component);e.exports=a}),null);
__d("M4IconSVG.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.size;a=a.children;c=c!==void 0?c:"16px";a=b("React").Children.toArray(a);return b("React").jsx("svg",{children:a,className:"svgIcon",height:c,width:c,version:"1.1",viewBox:"0 0 16 16",x:"0px",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",y:"0px"},"svg")}c=a;f.make=c}),null);
__d("M4IconPhoto.bs",["React","M4IconSVG.bs","ReasonReact.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("ReasonReact.bs").statelessComponent("M4IconPhoto");function a(a){var c=a.filled;a=a.color;c=c!==void 0?c:!0;a=a!==void 0?a:"blue";var d={fill:"none",stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10"};return b("React").jsxs(b("M4IconSVG.bs").make,{children:[c?b("React").jsxs("g",{children:[b("React").jsx("path",{d:"M1.3,13.1L2,1.7c0-0.1,0-0.2,0-0.4L1.2,1.4C0.5,1.5,0,2.4,0,3.4l0.6,10.9c0,0.5,0.2,0.9,0.4,1.3C1.4,15.8,1.7,16,1.9,16 c0,0,0.1,0,0.1,0l0.3,0C1.7,15.4,1.2,14.3,1.3,13.1z",fill:a},"bg"),b("React").jsx("path",{d:"M13,6.2c-0.2-0.2-0.6-0.3-0.8-0.1L9.4,8.5c-0.2,0.1-0.2,0.4,0,0.6L10,9.8c0.2,0.2,0.2,0.6-0.1,0.8c-0.1,0.1-0.2,0.1-0.4,0.1 c-0.2,0-0.3-0.1-0.4-0.2L7.3,8.3C7.1,8.1,6.7,8,6.5,8.2l-2.6,2l-0.4,3.1c0,0.5,0.2,1.6,0.7,1.7l8.8,0.6c0.2,0,0.5,0,0.7-0.2 c0.2-0.2,0.5-0.7,0.6-0.9l0.6-5.9L13,6.2z",fill:a},"hills"),b("React").jsx("path",{style:d,d:"M12.9,15.5l-8.2-0.7C4,14.7,3.4,14,3.4,13.2l1-11.4C4.5,1,5.2,0.5,6,0.5l8.2,0.7C15,1.3,15.5,2,15.5,2.8 l-1,11.4C14.4,15,13.7,15.6,12.9,15.5z"},"frame")]},"filled"):b("React").jsxs("g",{children:[b("React").jsx("path",{d:"M2.1,14.7c-0.1-0.1-0.2-0.3-0.2-0.5l0-0.1c-0.1-0.3-0.1-0.7-0.1-1.1l0-0.1L1,3.3c0-0.5,0.3-0.9,0.8-0.9l1-0.1l0.1-0.7\n              c0-0.1,0-0.2,0.1-0.4L1.7,1.4c-1,0.1-1.8,1-1.7,2l0.9,10.9c0,0.5,0.3,0.9,0.7,1.3C1.9,15.8,2.3,16,2.8,16c0.1,0,0.1,0,0.2,0l0.5,0\n              C2.8,15.7,2.4,15.2,2.1,14.7z",fill:a},"bg"),b("React").jsx("path",{style:d,d:"M12.9,15.5l-8.3-0.7c-0.8-0.1-1.4-0.8-1.3-1.6l1-11.4C4.3,1,5.1,0.4,5.8,0.5l8.3,0.7C15,1.3,15.5,2,15.5,2.8 l-1,11.4C14.4,15,13.7,15.6,12.9,15.5z"},"frame"),b("React").jsx("polyline",{style:d,points:"3.5,11 6.9,8.6 9.2,11.3 "},"left-hill"),b("React").jsx("polyline",{style:d,points:"14.6,9 12.5,6.5 8.3,10 "},"right-hill")]},"outline"),b("React").jsx("circle",{cx:"7.5",cy:"4.5",fill:a,r:"1.5"},"sun")]})}d=a;f.component=c;f.make=d}),null);
__d("M4IconPhoto.re",["M4IconPhoto.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("M4IconPhoto.bs").make;f.make=a}),null);
__d("MessengerPaperclipIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c;return(c=b("React")).jsx("svg",{children:c.jsxs("g",{children:[c.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),c.jsx("path",{d:"M18,31 C13.5815,31 10,27.4185 10,23 L10,11 C10,7.6865 12.6865,5 16,5 C19.3135,5 22,7.6865 22,11 L22,21 C22,23.209 20.209,25 18,25 C15.791,25 14,23.209 14,21 L14,14.5 C14,13.6715 14.6715,13 15.5,13 C16.3285,13 17,13.6715 17,14.5 L17,21 C17,21.552 17.448,22 18,22 C18.552,22 19,21.552 19,21 L19,11 C19,9.3435 17.6565,8 16,8 C14.3435,8 13,9.3435 13,11 L13,23 C13,25.761 15.239,28 18,28 C20.761,28 23,25.761 23,23 L23,14.5 C23,13.6715 23.6715,13 24.5,13 C25.3285,13 26,13.6715 26,14.5 L26,23 C26,27.4185 22.4185,31 18,31",fill:a})],fill:"none",fillRule:"evenodd"}),className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"})}f.make=a}),null);
__d("MessengerPaperclipIconSVGM4React.re",["MessengerPaperclipIconSVGM4React.bs"],(function(a,b,c,d,e,f){a=function(a){a=b("MessengerPaperclipIconSVGM4React.bs").make(a.fill);return a};f.make=a}),null);
__d("MessengerPhotoIconSVGM4React.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.size;a=a.fill;c=c!==void 0?c:36;return b("React").jsx("svg",{children:b("React").jsx("g",{children:b("React").jsxs("g",{children:[b("React").jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),b("React").jsx("path",{d:"M13.5,11 C12.1195,11 11,12.119 11,13.5 C11,14.881 12.1195,16 13.5,16 C14.8805,16 16,14.881 16,13.5 C16,12.119 14.8805,11 13.5,11 M26.638,21.467 L21.2375,18.767 C19.199,17.7485 16.801,17.7485 14.7625,18.767 L9.362,21.467 C9.1955,21.55 9,21.429 9,21.243 L9,11 C9,9.8955 9.8955,9 11,9 L25,9 C26.1045,9 27,9.8955 27,11 L27,21.243 C27,21.429 26.8045,21.55 26.638,21.467 M25,7 L11,7 C8.7905,7 7,8.791 7,11 L7,25 C7,27.209 8.7905,29 11,29 L25,29 C27.209,29 29,27.209 29,25 L29,11 C29,8.791 27.209,7 25,7",fill:a})],id:"Group"}),fill:"none",fillRule:"evenodd"}),className:"_7oal",height:String(c)+"px",width:String(c)+"px",viewBox:"0 0 36 36"})}c=a;f.make=c}),null);
__d("MessengerPhotoIconSVGM4React.re",["MessengerPhotoIconSVGM4React.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerPhotoIconSVGM4React.bs").make;f.make=a}),null);
__d("ChatPhotoUploaderIcon.react",["ix","fbt","ChatConfig","CurrentUser","Image","M4IconPhoto.re","MessengerCustomColorUtils.re","MessengerDotComAndInboxM4Check.re","MessengerEnvironment","MessengerPaperclipIconSVGM4React.re","MessengerPhotoIconSVGM4React.re","MessengerSurfaceQuickChat.re","React","asset","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("M4IconPhoto.re").make,j=b("MessengerSurfaceQuickChat.re").useIsQuickChatSurface;function a(a){__p&&__p();var c=j(),d=a.fill!=null?a.fill:b("MessengerCustomColorUtils.re").defaultColor();if(b("gkx")("1192386"))return b("React").jsx(b("Image"),{source:g("1180209")});else if(b("MessengerDotComAndInboxM4Check.re").yes)return b("MessengerPhotoIconSVGM4React.re").make({fill:d});else if(!b("MessengerEnvironment").messengerui&&b("ChatConfig").get("single_line_composer"))return b("React").jsx(i,{filled:!1,color:a.color==null?void 0:a.color});else if(b("MessengerEnvironment").messengerui&&b("CurrentUser").isWorkUser()&&b("gkx")("1072568")&&!c)return a.imagesOnly?b("MessengerPhotoIconSVGM4React.re").make({fill:d}):b("MessengerPaperclipIconSVGM4React.re").make({fill:d});return b("React").jsx("i",{className:a.imageClassName,alt:h._("Camera")})}e.exports=a}),null);
__d("ChatPhotoUploader.react",["cssVar","cx","fbt","Promise","Bootloader","ChatConfig","ChatPhotoUploaderIcon.react","InlineBlock.react","MercuryConfig","MessengerEnvironment","React","ReactDOM","SubscriptionsHandler","TooltipData","emptyFunction","ifRequired","joinClasses","promiseDone"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$2=!1;d.$6=!1;d.$14=function(a,b){d.props.onSubmit&&d.props.onSubmit(a,b),d.$15("show_file_placeholder")};d.$16=function(a,b){d.props.onAllUploadsComplete&&d.props.onAllUploadsComplete(a,b),d.$15("upload_files_complete"),d.$6||d.$11()};d.$17=function(a,b){d.props.onLastUploadFail&&d.props.onLastUploadFail(a,b),d.$6||d.$11()};d.$18=function(a,b){d.props.onLastUploadCancel&&d.props.onLastUploadCancel(a,b),d.$6||d.$11()};d.$19=function(a,b){d.props.onUploadError&&d.props.onUploadError(b),d.$15("upload_file_failed"),d.$6||d.$11()};d.$20=function(){__p&&__p();d.$3||(d.$2=!0,d.$3=new(b("Promise"))(function(a){__p&&__p();d.$5.addSubscriptions(b("Bootloader").loadModules(["ChatAutoSendPhotoUploader"],function(c){__p&&__p();b("promiseDone")(d.$4,function(e){__p&&__p();d.$2=!1;if(!d.$7){a(null);return}e=new c(b("ReactDOM").findDOMNode(d.$7),b("ReactDOM").findDOMNode(d.$9),b("ReactDOM").findDOMNode(d.$10),b("MercuryConfig").msgr_region);e.setAllowCrossPage(d.props.allowCrossPage);d.$5.addSubscriptions(e.subscribe("submit",d.$14),e.subscribe("all-uploads-completed",d.$16),e.subscribe("last-upload-failed",d.$17),e.subscribe("last-upload-canceled",d.$18),e.subscribe("file-upload-error",d.$19));d.$1=e;a(d.$1)})},"ChatPhotoUploader.react"))}));return d.$3};d.$4=new(b("Promise"))(function(a,b){d.$8=a});d.$5=new(b("SubscriptionsHandler"))();return d}var d=c.prototype;d.shouldComponentUpdate=function(a){return a.actionURI!=this.props.actionURI||a.disabled!==this.props.disabled||a.threadID!==this.props.threadID||a.color!==this.props.color||a.fill!==this.props.fill};d.componentDidMount=function(){this.$6=!0,typeof this.props.onMount==="function"&&this.props.onMount(this),this.$5.addSubscriptions(b("MessengerEnvironment").messengerui?b("Bootloader").loadModules(["MessengerActions"],b("emptyFunction"),"ChatPhotoUploader.react"):b("Bootloader").loadModules(["FantaMessageActions"],b("emptyFunction"),"ChatPhotoUploader.react"))};d.componentDidUpdate=function(){this.$1&&this.$1.setAllowCrossPage(this.props.allowCrossPage)};d.componentWillUnmount=function(){(!this.isUploading()||!this.props.allowCrossPage)&&this.$11(),this.$6=!1};d.render=function(){var a=this,c=b("ChatConfig").get("single_line_composer")&&!b("MessengerEnvironment").messengerui?i._("Th\u00eam \u1ea3nh, video v\u00e0 file"):"",d=this.props.imagesOnly?i._("Th\u00eam \u1ea3nh"):i._("Th\u00eam file"),e=b("joinClasses")("_4q61"+(this.props.customUI?"":" _5f0v")+(this.props.customUI?"":" _509v"),this.props.linkClassName),f=this.props.threadID;return b("React").jsxs("form",babelHelpers["extends"]({action:this.props.actionURI,className:"_vzk _4uld",title:d},b("TooltipData").propsFor(c),{method:"post",onClick:function(b){b.stopPropagation(),a.props.disabled&&b.preventDefault(),a.$12()},ref:function(b){return b&&a.$8(a.$7=b)},children:[b("React").jsx("input",{type:"hidden",name:"attach_id",ref:function(b){return a.$10=b}}),b("React").jsx("input",{type:"hidden",name:"images_only",value:this.props.imagesOnly}),b("React").jsx(b("InlineBlock.react"),{className:b("joinClasses")(this.props.className,"_m _4q60 _3rzn"),"data-testid":"photo_upload_button",children:b("React").jsxs("span",{className:e,children:[b("React").jsx(b("ChatPhotoUploaderIcon.react"),{color:this.props.color,fill:this.props.fill,imagesOnly:this.props.imagesOnly===!0,imageClassName:this.props.imageClassName}),b("React").jsx("input",{disabled:this.props.disabled,type:"file",className:b("joinClasses")(this.props.inputClassname,"_n _2__f _4e5e"),"data-testid":"photo_input",name:"attachment[]",multiple:!0,accept:this.props.imagesOnly?"image/*":"*",ref:function(b){return a.$9=b},title:d,onChange:function(b){a.$13(b,f)}})]})})]}))};d.$12=function(){var a=this.props.imagesOnly;b("Bootloader").loadModules(["M4ComposerTypedLogger","M4ComposerLoggerEvents"],function(b,c){new b().setEvent(a?c.CLICK_PHOTO_UPLOADER:c.CLICK_FILE_UPLOADER).log()},"ChatPhotoUploader.react")};d.$13=function(a,c){__p&&__p();var d=this,e=a.target.files,f=function(){d.$9&&(d.$9.value="")};b("MessengerEnvironment").messengerui?b("ifRequired")("MessengerActions",function(a){a.prepareFilesForSend(c,e,"ComposerIcons"),f()},function(){d.$5.addSubscriptions(b("Bootloader").loadModules(["MessengerActions"],function(a){a.prepareFilesForSend(c,e,"ComposerIcons"),f()},"ChatPhotoUploader.react"))}):b("ifRequired")("FantaMessageActions",function(a){d.props.composer&&a.prepareFilesForSend(c,e,d.props.composer,f)},function(){d.$5.addSubscriptions(b("Bootloader").loadModules(["FantaMessageActions"],function(a){d.props.composer&&a.prepareFilesForSend(c,e,d.props.composer,f)},"ChatPhotoUploader.react"))});this.props.focusInput&&this.props.focusInput()};d.$15=function(a){var c=this.props.threadID;if(!c)return;this.$5.addSubscriptions(b("Bootloader").loadModules(["MessengerShareFilePreviewFunnelLogger","MessengerShareFilePreviewFunnelLoggerConstants"],function(d,e){d.appendAction(!b("MessengerEnvironment").messengerui,a,c),a===e.UPLOAD_FILES_COMPLETE&&d.endFunnel(c)},"ChatPhotoUploader.react"))};d.isUploading=function(){return this.$1&&this.$1.isUploading()||!!this.$2};d.uploadFiles=function(a){b("promiseDone")(this.$20(),function(b){b==null?void 0:b.uploadFiles(a)})};d.uploadURL=function(a){b("promiseDone")(this.$20(),function(b){b==null?void 0:b.uploadURL(a)})};d.$11=function(){this.$5.release(),this.$1&&this.$1.destroy()};return c}(b("React").Component);a.defaultProps={actionURI:b("MercuryConfig").upload_url,allowCrossPage:!0,customUI:!1,disabled:!1,imageClassName:"_509w",imagesOnly:!0,linkClassName:"",onSubmit:c=b("emptyFunction"),onAllUploadsComplete:c,onLastUploadFail:c,onLastUploadCancel:c,color:"#0084ff"};e.exports=a}),null);
__d("MessengerSharedPhotoReact.bs",["cx","fbt","bs_curry","React","Link.react","CssBackgroundImage.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={height:"100%"};function a(a){__p&&__p();var c=a.className,d=a.fbid,e=a.onClick,f=a.uri;a=a.isSpherical;var g=function(a){a.preventDefault();return b("bs_curry")._1(e,d)},j=h._("\u1ea3nh");if(f!==void 0){f=f;a=a?b("React").jsx("div",{className:"_3603 _64ks"}):null;return b("React").jsx(b("Link.react"),{"aria-label":j,className:c,href:f,onClick:g,children:b("React").jsx(b("CssBackgroundImage.react"),{className:c,imageURI:f,backgroundPosition:"center",style:i,children:a})})}else return b("React").jsx(b("Link.react"),{"aria-label":j,className:c,onClick:g,role:"button"})}c=a;f.style100pct=i;f.make=c}),null);
__d("MessengerSharedPhotoReact.re",["MessengerSharedPhotoReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerSharedPhotoReact.bs").make;f.make=a}),null);
__d("PhotoRendererProjection",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PERSPECTIVE:"perspective",STEREOGRAPHIC:"stereographic",CYLINDRICAL:"cylindrical",EQUIRECTANGULAR:"equirectangular"})}),null);
__d("PhotosphereMetadata",["ImmutableRecordWithV4Types"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;c=a({CroppedAreaImageHeightPixels:0,CroppedAreaImageWidthPixels:0,CroppedAreaLeftPixels:0,CroppedAreaTopPixels:0,FullPanoHeightPixels:0,FullPanoWidthPixels:0,InitialViewHeadingDegrees:0,InitialViewPitchDegrees:0,InitialViewRollDegrees:0,InitialViewVerticalFOVDegrees:0,PoseHeadingDegrees:0,PosePitchDegrees:0,PoseRollDegrees:0,PreProcessCropLeftPixels:0,PreProcessCropRightPixels:0,ProjectionType:"equirectangular",RendererProjectionType:"equirectangular"});e.exports={makePhotosphereMetadata:c}}),null);
__d("SphericalPhotoUtils",["PhotoRendererProjection","PhotosphereMetadata","SphericalPhotoPartialLimits"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PhotoRendererProjection").PERSPECTIVE,h=b("PhotosphereMetadata").makePhotosphereMetadata,i=b("SphericalPhotoPartialLimits").makePartialLimits,j={getMetadataFromGraphQLResult:function(a){return{CroppedAreaImageHeightPixels:a.cropped_area_image_height_pixels!=null?a.cropped_area_image_height_pixels.toString():null,CroppedAreaImageWidthPixels:a.cropped_area_image_width_pixels!=null?a.cropped_area_image_width_pixels.toString():null,CroppedAreaLeftPixels:a.cropped_area_left_pixels!=null?a.cropped_area_left_pixels.toString():null,CroppedAreaTopPixels:a.cropped_area_top_pixels!=null?a.cropped_area_top_pixels.toString():null,FullPanoHeightPixels:a.full_pano_height_pixels!=null?a.full_pano_height_pixels.toString():null,FullPanoWidthPixels:a.full_pano_width_pixels!=null?a.full_pano_width_pixels.toString():null,InitialViewHeadingDegrees:a.initial_view_heading_degrees!=null?a.initial_view_heading_degrees.toString():null,InitialViewPitchDegrees:a.initial_view_pitch_degrees!=null?a.initial_view_pitch_degrees.toString():null,InitialViewRollDegrees:a.initial_view_roll_degrees!=null?a.initial_view_roll_degrees.toString():null,InitialViewVerticalFOVDegrees:a.initial_view_vertical_fov_degrees!=null?a.initial_view_vertical_fov_degrees.toString():null,PoseHeadingDegrees:a.pose_heading_degrees!=null?a.pose_heading_degrees.toString():null,PosePitchDegrees:a.pose_pitch_degrees!=null?a.pose_pitch_degrees.toString():null,PoseRollDegrees:a.pose_roll_degrees!=null?a.pose_roll_degrees.toString():null,PreProcessCropLeftPixels:null,PreProcessCropRightPixels:null,ProjectionType:a.projection_type,RendererProjectionType:g}},calculatePartialLimits:function(a){__p&&__p();var b=a.FullPanoHeightPixels,c=a.FullPanoWidthPixels,d=a.CroppedAreaImageWidthPixels,e=a.CroppedAreaImageHeightPixels,f=a.CroppedAreaLeftPixels;a=a.CroppedAreaTopPixels;b=j.parseNumber(b);c=j.parseNumber(c);d=j.parseNumber(d);e=j.parseNumber(e);f=j.parseNumber(f);a=j.parseNumber(a);var g,h,k,l;if(d!==0&&d!==c){d=360*d/c;d<350&&(g=180*(1-2*f/c),h=d-g)}e!==0&&e!==b&&(a!==0&&(k=90*(1-2*a/b)),a+e!==b&&(l=180*(a+e-b/2)/b));f=null;c=null;d=null;a=null;k&&k<87.5&&(c=k);l&&l<87.5&&(f=l);g&&(d=g);h&&(a=h);return i({partialTopDegrees:c,partialBottomDegrees:f,partialLeftDegrees:d,partialRightDegrees:a})},parseNumber:function(a){return a?Number(a):0},getThumbnailsFromPhotoEncodings:function(a){a=a.find(function(a){return a.projection_type===g});var b=null,c=null;if(a&&a.thumbnails&&a.thumbnails.length>0){a=a.thumbnails;b=a[0]?a[0].uri:null;c=a[1]?a[1].uri:null}return{smallThumbnail:b,largeThumbnail:c}},photosphereMetadataStringToNumber:function(a){var b={};Object.keys(a).forEach(function(c){switch(c){case"ProjectionType":b.ProjectionType=a.ProjectionType;break;case"RendererProjectionType":b.RendererProjectionType=a.RendererProjectionType;break;default:b[c]=parseInt(a[c],10)}});return h(b)}};e.exports=j}),null);
__d("ChatPhotoViewFooterHScroll.react",["cx","Animation","MessengerSharedPhotoReact.re","React","SphericalPhotoUtils","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerSharedPhotoReact.re").make,i=b("SphericalPhotoUtils").getThumbnailsFromPhotoEncodings,j=200,k=74,l=140,m=30;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.state={currentPhoto:"",prevScrollLeft:0,scrollLeft:0},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.width&&this.props.updateNumberInOneBatch(this.$2(this.props.width)),this.$1=new(b("Animation"))(this.refs.childContainer).to("scrollLeft",0).duration(j).go()};d.UNSAFE_componentWillReceiveProps=function(a){if(a.photoID!=this.state.currentPhoto||this.props.sharedPhotos.length!==a.sharedPhotos.length){var b=a.width?(a.width-k)/2-l:0,c=a.sharedPhotos.findIndex(function(b){return b.node.id===a.photoID});this.setState({currentPhoto:a.photoID,prevScrollLeft:this.state.scrollLeft,scrollLeft:c*k-b})}a.width!=this.props.width&&this.props.updateNumberInOneBatch(this.$2(a.width))};d.componentDidUpdate=function(){this.$1&&this.$1.from("scrollLeft",this.state.prevScrollLeft).to("scrollLeft",this.state.scrollLeft).duration(j).go()};d.componentWillUnmount=function(){this.$1&&this.$1.stop()};d.shouldComponentUpdate=function(a,b){return a.photoID!=this.state.currentPhoto||a.sharedPhotos.length!==this.props.sharedPhotos.length?!0:!1};d.render=function(){__p&&__p();var a=this,c=this.props.sharedPhotos;c=c.map(function(c){var d,e=c.node.photo_encodings?c.node.photo_encodings.length!==0:!1;d=(d=c)!=null?(d=d.node)!=null?(d=d.image1)!=null?d.uri:d:d:d;if(e){var f=i(c.node.photo_encodings);f=f.smallThumbnail;d=f||d}return!d?null:b("React").jsx("div",{className:"_1oyb",children:b("React").jsx(h,{className:"_1oyc"+(a.state.currentPhoto!==c.node.id?" _1oyd":""),fbid:c.node.legacy_attachment_id,onClick:a.props.onScroll,uri:d,isSpherical:e})},c.node.legacy_attachment_id)});return b("React").jsx("div",{className:"_1oye",children:b("React").jsx("div",{className:"_1oyf",ref:"childContainer",children:b("React").jsx("div",{className:"_1oyh",ref:"scrollable",children:c})})})};d.$2=function(a){return a?Math.ceil((a-l*2)/k):m};return c}(b("React").Component);a.propTypes={onScroll:(c=b("prop-types")).func,photoID:c.string,sharedPhotos:c.array,updateNumberInOneBatch:c.func,width:c.number};e.exports=a}),null);
__d("XForwardingNUXSeenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/forwarding_nux_seen/",{})}),null);
__d("MessagingForwardingButtonNUX.react",["AsyncRequest","ChatConfig","React","XForwardingNUXSeenController","XUIAmbientNUX.react","prop-types"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showNUX:!b("ChatConfig").get("seen_forwarding_nux")},d.$1=function(){if(!d.state.showNUX)return;b("ChatConfig").set("seen_forwarding_nux",!0);new(b("AsyncRequest"))(b("XForwardingNUXSeenController").getURIBuilder().getURI()).send();d.setState({showNUX:!1})},d.close=function(){d.$1()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,onCloseButtonClick:this.$1,position:"left",width:"auto",shown:this.state.showNUX,children:this.props.children})};return c}(b("React").Component);a.propTypes={contextRef:b("prop-types").func.isRequired};e.exports=a}),null);
__d("MessengerPhotoViewCloseLinkReact.bs",["cx","fbt","bs_curry","React","TooltipLink.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c=a.onClick;a=b("React").jsx("span",{children:h._("Nh\u1ea5n Esc \u0111\u1ec3 \u0111\u00f3ng")});return b("React").jsx(b("TooltipLink.react"),{children:b("React").jsx("div",{className:"_387s"}),className:"_51ok _50-m _51an",onClick:function(a){return b("bs_curry")._1(c,0)},tooltip:a})}c=a;f.make=c}),null);
__d("MessengerPhotoViewCloseLinkReact.re",["MessengerPhotoViewCloseLinkReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerPhotoViewCloseLinkReact.bs").make;f.make=a}),null);
__d("SpotlightViewerBottomBarLink",["cx","Link.react","React"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.className||"_4_8j _4_8k";return b("React").jsx(b("Link.react"),babelHelpers["extends"]({},this.props,{className:a,children:this.props.children}))};return c}(b("React").Component);e.exports=a}),null);
__d("ChatPhotoViewHeader.react",["cx","fbt","CurrentUser","MessagingForwardingButtonNUX.react","MessengerPhotoViewCloseLinkReact.re","React","SpotlightViewerBottomBarLink","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerPhotoViewCloseLinkReact.re").make;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){c.$2(),c.props.showForwardDialog&&c.props.showForwardDialog()},c.$4=function(){c.$2(),c.props.showShareDialog&&c.props.showShareDialog()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{className:"_51an _50-m _3h_t _5l-3",role:"banner",children:[this.$1(),b("React").jsx(i,{onClick:this.props.onClose})]})};d.$2=function(){this.refs.forwardNUX&&this.refs.forwardNUX.close()};d.$1=function(){var a=this,c,d,e;this.props.disableForward||(c=b("React").jsxs(b("SpotlightViewerBottomBarLink"),{className:"_3h_u",onClick:this.$3,ref:"forwardButton",children:[b("React").jsx("div",{className:"_3h_v _3h_w"}),h._("Chuy\u1ec3n ti\u1ebfp")]}),d=b("React").jsx(b("MessagingForwardingButtonNUX.react"),{contextRef:function(){return a.refs.forwardButton},ref:"forwardNUX",children:h._("G\u1eedi h\u00ecnh \u1ea3nh n\u00e0y cho ng\u01b0\u1eddi kh\u00e1c b\u1eb1ng tin nh\u1eafn ri\u00eang.")}));this.props.enableShareToFB&&(e=b("React").jsxs("div",{className:"_3h_u",onClick:this.$4,ref:"shareButton",role:"button",tabIndex:"0",children:[b("React").jsx("div",{className:"_3tth _3h_w"}),this.$5()]}));return b("React").jsxs("div",{ref:"buttons",children:[b("React").jsxs(b("SpotlightViewerBottomBarLink"),{className:"_3h_u",rel:"async",ajaxify:this.props.url,ref:"downloadButton",children:[b("React").jsx("div",{className:"_3h_x _3h_w"}),h._("T\u1ea3i xu\u1ed1ng")]}),c,d,e,b("React").jsxs("div",{className:"_3h_u",onClick:this.props.openInfo,ref:"moreInfo",role:"link",tabIndex:"0",children:[b("React").jsx("div",{className:"_3h_y _3h_w"}),h._("Th\u00f4ng tin")]})]},"buttonsContainer")};d.$5=function(){if(b("CurrentUser").isWorkUser())return h._("Chia s\u1ebb l\u00ean Workplace");else return h._("Chia s\u1ebb l\u00ean Facebook")};return c}(b("React").PureComponent);a.propTypes={disableForward:(c=b("prop-types")).bool,enableShareToFB:c.bool,onClose:c.func,openInfo:c.func,showForwardDialog:c.func,showShareDialog:c.func,url:c.object};e.exports=a}),null);
__d("ChatSpeakingSticker.react",["React","ReactDOM","prop-types"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=b("ReactDOM").findDOMNode(d.refs.stickerVideo);a.play()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsx("div",{onClick:this.$1,role:"presentation",children:b("React").jsx("video",{height:this.props.videoSize.height,ref:"stickerVideo",width:this.props.videoSize.width,children:b("React").jsx("source",{src:this.props.videoURI})})})};return c}(b("React").PureComponent);a.propTypes={videoURI:(c=b("prop-types")).string.isRequired,videoSize:c.shape({height:c.number,width:c.number}).isRequired};e.exports=a}),null);
__d("EmojiSticker.react",["cx","Image.react","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad()};d.render=function(){var a=this.props.emojiImage?this.props.emojiImage:b("React").jsx(b("Image.react"),{src:this.props.sourceURI});return b("React").jsx("div",{"aria-label":this.props.emoji,className:b("joinClasses")(this.props.className,"_383m"),tabIndex:"0",children:a})};return c}(b("React").Component);a.propTypes={emoji:(c=b("prop-types")).string,emojiImage:c.any,onAttachmentLoad:c.func,sourceURI:c.string.isRequired};e.exports=a}),null);
__d("MessengerErrorBoundary.react",["cx","fbt","ChatReliabilityInstrumentation","ErrorBoundary.react","LogHistory","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LogHistory").getInstance("messenger_error_boundary"),j=function(a){return h._({"conversation list":"Kh\u00f4ng th\u1ec3 hi\u1ec3n th\u1ecb danh s\u00e1ch cu\u1ed9c tr\u00f2 chuy\u1ec7n.","conversation":"Kh\u00f4ng th\u1ec3 hi\u1ec3n th\u1ecb cu\u1ed9c tr\u00f2 chuy\u1ec7n.","composer":"Kh\u00f4ng th\u1ec3 hi\u1ec3n th\u1ecb tr\u00ecnh bi\u00ean so\u1ea1n.","conversation information":"Kh\u00f4ng th\u1ec3 hi\u1ec3n th\u1ecb th\u00f4ng tin v\u1ec1 cu\u1ed9c tr\u00f2 chuy\u1ec7n.","attachment":"Kh\u00f4ng th\u1ec3 hi\u1ec3n th\u1ecb t\u1ec7p \u0111\u00ednh k\u00e8m.","pinned conversation list":"Kh\u00f4ng th\u1ec3 hi\u1ec3n th\u1ecb danh s\u00e1ch cu\u1ed9c tr\u00f2 chuy\u1ec7n \u0111\u00e3 ghim.","video":"Kh\u00f4ng th\u1ec3 hi\u1ec3n th\u1ecb video."},[h._enum(a,{"conversation list":"conversation list",conversation:"conversation",composer:"composer","conversation information":"conversation information",attachment:"attachment","pinned conversation list":"pinned conversation list",video:"video"})])},k=function(a,c){return function(){return b("React").jsx("div",{className:b("joinClasses")("_5jpt",c),children:a})}};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){var e="React error in "+c+" got "+a.message;i.error(e,JSON.stringify(a));b("ChatReliabilityInstrumentation").logERROR(e);d.props.onHandleError&&d.props.onHandleError(a,c)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.className,d=a.component;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","component"]);return b("React").jsx(b("ErrorBoundary.react"),babelHelpers["extends"]({},a,{fallbackComponent:k(j(d),c),onHandleError:this.$1,bigRedBox:!0}))};return c}(b("React").Component);e.exports=a}),null);
__d("MercuryShareAttachment.react",["cx","BootloadedComponent.react","DOM","Event","FlexLayout.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MercuryShareStyleMap","MessengerErrorBoundary.react","React","ReactDOM","WorkChatRedesignedMessageListCheck.re","emptyFunction","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(a){d.$1(a),b("DOM").scry(b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d)),"img").forEach(function(a){var c=b("Event").listen(a,"load",function(){d.$1(a.height),c.remove()})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.$2=function(a,c){this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER&&!this.props.isSubattachment&&(c=b("joinClasses")((b("WorkChatRedesignedMessageListCheck.re").enabled?"":"_52mr")+" _2poz _ui9","_4skb",c));return b("React").jsxs("div",{className:c,children:[a,this.props.afterDecorators!=null&&this.props.afterDecorators.length>1?b("React").jsx(b("FlexLayout.react"),{align:"center",className:"_7moe",children:this.props.afterDecorators}):this.props.afterDecorators]})};d.render=function(){var a=b("MercuryShareStyleMap").getStyleFactory(this.props.attachment);if(!a)return null;var c=a.attachment;a=a.factory;return this.$2(b("React").jsx(b("MessengerErrorBoundary.react"),babelHelpers["extends"]({},this.props,{component:"attachment",children:b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({},this.props,{attachment:c,bootloadLoader:a.componentLoader,bootloadPlaceholder:b("React").jsx("div",{}),key:(c=this)!=null?(c=c.props)!=null?(c=c.attachment)!=null?c.share_id:c:c:c,module:a.componentName,onComponentLoad:this.$3}))})),a.cx&&a.cx.get(this.props.location))};d.$1=function(a){this.props.onComponentLoaded(a)};return c}(b("React").Component);a.propTypes={attachment:b("MercuryShareAttachmentReactShape"),isFromViewer:(c=b("prop-types")).bool,isPageMessage:c.bool,isSponsored:c.bool,isSubattachment:c.bool,isVisible:c.bool,location:c.oneOf(b("MercuryShareAttachmentRenderLocations").getValues()),messageID:c.string,onComponentLoaded:c.func.isRequired,onSelect:c.func,pageID:c.string,threadID:c.string.isRequired,afterDecorators:c.array,timestamp:c.number,author:c.string};a.defaultProps={onComponentLoaded:b("emptyFunction")};e.exports=a}),null);
__d("MessengerErrorAttachment.react",["cx","fbt","CurrentUser","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.attachment.error_msg||h._("Kh\u00f4ng th\u1ec3 t\u1ea3i t\u1ec7p \u0111\u00ednh k\u00e8m n\u00e0y.");return b("React").jsx("div",{className:"_1o12 _52mr",children:b("React").jsxs("div",{className:"_1o13",children:[a,this.$1()]})})};d.$1=function(){return!this.props.attachment.error_msg&&b("CurrentUser").isEmployee()&&b("CurrentUser").hasWorkUser()&&!b("CurrentUser").isWorkUser()?b("React").jsx("div",{children:h._("T\u1ec7p \u0111\u00ednh k\u00e8m c\u00f3 th\u1ec3 d\u00e0nh cho t\u00e0i kho\u1ea3n \u0040workplace c\u1ee7a b\u1ea1n.")}):null};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerFileAttachment.bs",["cx","React","Link.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.attachment;var c=a.name;c=c==null?null:c;a=a.url.toString();return b("React").jsxs(b("Link.react"),{className:"_4pcn _2uf4",href:a,target:"_blank",children:[b("React").jsx("div",{className:"_2uf5"}),c]})}c=a;f.make=c}),null);
__d("MessengerFileAttachment.re",["MessengerFileAttachment.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerFileAttachment.bs").make;f.make=a}),null);
__d("MessengerFromViewerUtils",["CurrentUser","MercuryIDs"],(function(a,b,c,d,e,f){"use strict";function a(a){return a.author===b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID())}e.exports={isFromViewer:a}}),null);
__d("MessengerHotLikePreview.react",["cx","Animation","ChatConfig","CurrentUser","EmojiLikeConstants","HotLikeSound","MercuryShareAttachmentRenderLocations","MessengerDotComAndInboxM4Check.bs","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikePreviewEvents","MessengerHotLikeSVGReact.re","MessengerHotLikeUtils","MessengerSupportedEmojiUtils","React","ReactDOM","StickerConstants","SubscriptionsHandler","gkx","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerHotLikeIconSVGM4React.bs").makeWithGradient,i=b("MessengerHotLikeSVGReact.re").make;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$5=function(){d.$6=new(b("Animation"))(b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d))),(!b("ChatConfig").getBool("chat_tab_has_gradients")||d.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER)&&(d.$7(-2,2,150,1e3),d.$7(-4,4,100,1e3),d.$7(-10,10,75,1e3)),d.$6.go()},d.$2=function(a,c){__p&&__p();var e=c?b("MessengerHotLikePreviewEvents").FINISH_EMOJI_ANIMATION:b("MessengerHotLikePreviewEvents").FINISH_ANIMATION;if(d.$8)return;d.$8=!0;c=Date.now()-d.props.since;var f=null;d.props.customLike&&(f=b("MessengerHotLikeUtils").getEmojiSizeForTime(c));var g=b("MessengerHotLikeUtils").getStickerIDForTime(c);b("HotLikeSound").snap(g);c=b("MessengerHotLikeUtils").getMetadataForHotLike(f||g);d.$6.stop();var h=30,i=-10;(g===b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||b("ChatConfig").getBool("chat_tab_has_gradients"))&&(h=0,i=0);d.$4.stop().to("width",c.width*1.2).to("height",c.height*1.2).to("rotateZ",h).duration(100).checkpoint().to("width",c.width*.9).to("height",c.height*.9).to("rotateZ",i).duration(100).checkpoint().to("width",c.width).to("height",c.height).to("rotateZ",0).duration(100).ondone(function(){d.props.forGameChat||b("MessengerHotLikePreviewEvents").emit(e,a,g,f)}).go()},d.$3=function(a){b("HotLikeSound").pop(),d.$4.stop().to("width",0).to("height",0).duration(100).ondone(function(){b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").REMOVE,a)}).go()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions((a=b("MessengerHotLikePreviewEvents")).addListener(a.STOP,this.$2),a.addListener(a.STOP_EMOJI,this.$2),a.addListener(a.POP,this.$3));b("HotLikeSound").start();this.$4=new(b("Animation"))(b("ReactDOM").findDOMNode(this)).to("width",80).to("height",80).duration(3e3).go();this.$5()};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.render=function(){if(this.props.customLike){var a=this.props.customLike,c=b("MessengerSupportedEmojiUtils").getNewEmojiData(a.emoji,b("EmojiLikeConstants").size.LARGE);c=c?c.url:this.props.customLike.large;a.uri&&(c=a.uri);return b("React").jsx("div",{className:"_4a9g _383m",style:{backgroundImage:"url("+c+")"}})}a=(b("gkx")("1072568")||!b("CurrentUser").isWorkUser())&&this.props.thread!=null?b("React").jsx(h,{thread:this.props.thread}):b("React").jsx(i,{color:this.props.customColor});return b("React").jsx("div",{className:"_4a9g _576q",children:a})};d.$7=function(a,b,c,d){d=Math.floor(d/c);var e;for(var f=0;f<d;f++)e=f%2?a:b,this.$6.to("rotateZ",e).duration(c).checkpoint()};return c}(b("React").Component);a.propTypes={customLike:b("prop-types").object,forGameChat:b("prop-types").bool,since:b("prop-types").number};e.exports=a}),null);
__d("ChatSpeakingStickerReact.bs",["ReasonReact.bs","ChatSpeakingSticker.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("ChatSpeakingSticker.react"),{videoURI:a,videoSize:c},d)}f.make=a}),null);
__d("MercuryAttachmentPayload.bs",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c=c!==void 0?b("bs_caml_option").valFromOption(c):null;return{app_attribution:null,attach_type:a,blurred_image_uri:null,deduplication_key:null,description:null,icon_type:null,key:c,large_preview_height:null,large_preview_width:null,large_preview_url:null,media:null,metadata:null,message_file_fbid:null,name:null,photo_encodings:null,preview_height:null,preview_uploading:null,preview_url:null,preview_width:null,rel:null,share:null,source:null,target:null,thumbnail_url:null,upload_id:null,uri:null,url:d,video_title:null}}f.create=a}),null);
__d("MessagesViewerSetID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MESSAGES:"messages",MESSAGES_VIEW_ALL_IN_THREAD:"messages:view_all_in_thread"})}),null);
__d("MessengerAttachmentViewer",["Bootloader","MessagesViewer","React","Run","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={renderVideo:function(a){b("Bootloader").loadModules(["MessagingVideoViewer.react","MessengerForwardAttachmentDialogReact.bs"],function(c,d){d=d.jsComponent;b("MessagesViewer").renderVideo(b("React").jsx(c,babelHelpers["extends"]({},a,{forwardDialogComponent:d})))},"MessengerAttachmentViewer")},bootstrapWithConfig:function(a,c){b("Bootloader").loadModules(["SpotlightMessagesViewer","MessengerForwardAttachmentDialogReact.bs"],function(d,e){e=e.jsComponent;b("MessagesViewer").renderSpotlight(a,c,d,e)},"MessengerAttachmentViewer")},preload:function(){b("Run").onAfterLoad(function(){b("Bootloader").loadModules(["MessagingVideoViewer.react","SpotlightMessagesViewer","MessengerForwardAttachmentDialogReact.bs"],b("emptyFunction"),"MessengerAttachmentViewer")})}};e.exports=a}),null);
__d("MessengerBusinessHideImageBootloaded.react",["cx","CssBackgroundImage.react","ErrorBoundary.react","JSResource","React","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("lazyLoadComponent")(b("JSResource")("MessengerBusinessHideImage.react").__setRef("MessengerBusinessHideImageBootloaded.react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx(b("ErrorBoundary.react"),{children:a.jsx(a.Suspense,{fallback:a.jsx(b("CssBackgroundImage.react"),{backgroundPosition:"center",imageURI:this.props.thumbnail,className:"_3v3t"}),children:a.jsx(h,{fbid:this.props.fbid,renderSmall:this.props.renderSmall})})})};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerBusinessHideImageReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerBusinessHideImageBootloaded.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerBusinessHideImageBootloaded.react"),{fbid:b("bs_js_null_undefined").fromOption(a),renderSmall:d,thumbnail:b("bs_js_null_undefined").fromOption(c)},e)}f.make=a}),null);
__d("SphericalPhotoViewerInMessengerThreadBootloaded.react",["cx","BootloadedComponent.react","CssBackgroundImage.react","JSResource","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();if(this.props.photoEncodings&&this.props.thumbnail){var a=this.props.photoEncodings.find(function(a){return a.projection_type==="perspective"}),c=null,d=null;if(a&&a.thumbnails&&a.thumbnails.length>0){a=a.thumbnails;c=a[0]?a[0].uri:null;d=a[1]?a[1].uri:null}if(this.props.useRenderer&&this.props.width&&this.props.height&&this.props.fbid){a=d||c||this.props.thumbnail;return b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SphericalPhotoViewerInMessengerThreadWrapper.react").__setRef("SphericalPhotoViewerInMessengerThreadBootloaded.react"),bootloadPlaceholder:b("React").jsx(b("CssBackgroundImage.react"),{backgroundPosition:"center",imageURI:a,className:"_3v3t"}),height:this.props.height,width:this.props.width,fbid:this.props.fbid,thumbnail:a,photoEncodings:this.props.photoEncodings,isVisible:this.props.isVisible,onClickHandler:this.props.onClickHandler})}else{a=c||d||this.props.thumbnail;return b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SphericalPhotoMessengerThumbnail.react").__setRef("SphericalPhotoViewerInMessengerThreadBootloaded.react"),bootloadPlaceholder:b("React").jsx(b("CssBackgroundImage.react"),{backgroundPosition:"center",imageURI:a,className:"_3v3t"}),photoEncodings:this.props.photoEncodings,thumbnail:a})}}return null};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerSphericalPhotoReact.bs",["Utils.bs","ReasonReact.bs","bs_js_null_undefined","SphericalPhotoViewerInMessengerThreadBootloaded.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j){var k;return b("ReasonReact.bs").wrapJsForReason(b("SphericalPhotoViewerInMessengerThreadBootloaded.react"),{height:(k=b("bs_js_null_undefined")).fromOption(a),width:k.fromOption(c),fbid:k.fromOption(d),thumbnail:k.fromOption(e),photoEncodings:k.fromOption(f),isVisible:b("Utils.bs").optionBoolToBool(g),onClickHandler:h,useRenderer:i},j)}f.make=a}),null);
__d("MessengerPhotoReact.bs",["cx","fbt","bs_curry","Image.bs","React","Utils.bs","cssURL","Link.react","bs_caml_option","ReasonReact.bs","joinClasses","bs_caml_primitive","MercuryAttachmentType","MessengerSpinnerReact.bs","bs_caml_builtin_exceptions","MessengerSurfaceQuickChat.bs","MessengerSphericalPhotoReact.bs","MessengerBusinessHideImageReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a,c){__p&&__p();var d=a.metadata;if(d==null)return null;else if(a.attach_type===b("MercuryAttachmentType").VIDEO){var e=c&&!(d.large_preview==null);if(e)return d.large_preview;else return d.inbox_preview}else if(c)return a.large_preview_url;else return a.preview_url}function j(a){if(a==null)return[null,null];else return[a.width,a.height]}function k(a){__p&&__p();var c=window.screen.width>1800;if(b("Utils.bs").isTruthy(a.preview_uploading)){var d=function(b,c){var a=!(b==null);if(a)return b;else return c},e=c&&!(a.large_preview_url==null);if(e)return[d(a.large_preview_width,480),d(a.large_preview_height,480),a.large_preview_url,c];else return[d(a.preview_width,280),d(a.preview_height,280),a.preview_url,c]}else{e=i(a,c);d=!(e==null);var f=a.metadata;if(d&&!(f==null)){d=c&&!(f.large_size==null);d=d?f.large_size:f.inbox_size;f=j(d);return[f[0],f[1],e,c]}if(a.preview_url==null){d=a.media;if(d==null)return;else{f=!(d.playable==null)&&!(d.animated_image==null);if(f){e=j(d.animated_image_size);return[e[0],e[1],d.animated_image,c]}else{f=j(d.image_size);return[f[0],f[1],d.image,c]}}}else{e=c&&!(a.large_preview_url==null);if(e)return[a.large_preview_width,a.large_preview_height,a.large_preview_url,c];else return[a.preview_width,a.preview_height,a.preview_url,c]}}}function l(a){__p&&__p();var c=function(a){return""+(String(a)+"")};if(b("Utils.bs").isTruthy(a.preview_uploading)){var d=!(a.preview_url==null);return c(d?0:280)}else{var e=function(a){var b=a[1];a=a[0];if(!(a==null)&&!(b==null))return[a,b]};d=function(a){if(a!==void 0){a=a;return e([a[0],a[1]])}};var f=!(a.media==null);f=f?d(k(a)):e([a.preview_width,a.preview_height]);if(f!==void 0){d=f;return c(b("bs_caml_primitive").caml_float_min(d[1]*b("bs_caml_primitive").caml_float_min(1,450/d[0]),450))}else return}}function m(a){__p&&__p();var c=a.metadata,d=a.isAnimated,e=a.className,f=a.attachment;a=a.isSingle;var g=b("MessengerSurfaceQuickChat.bs").useIsQuickChatSurface(0);b("Utils.bs").isTruthy(f.preview_uploading);var h=c[2];if(h==null||!a)return null;else{a=c[3];c=a?window.screen.height*.7:window.screen.height*.65;a=g?{maxHeight:""+(String(c)+""),maxWidth:"160px",width:"100%"}:{maxHeight:""+(String(c)+""),maxWidth:"100%",width:"100%"};if(g)c={maxWidth:"160px"};else{g=f.preview_width;f.preview_height;c=g==null?a:{width:g.toString()+"px"}}return b("React").createElement("div",{style:c},b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(b("joinClasses")(e,d?"":"_5pf5"),"",void 0,void 0,h,void 0,void 0,void 0,b("bs_caml_option").some(a),[])))}}function a(a){__p&&__p();var c=a.className,d=a.attachment,e=a.isSingle,f=a.isVisible,g=a.onAttachmentLoad,i=a.onClick;a=a.children;c=c!==void 0?c:"";b("React").useEffect(function(){g!==void 0&&b("bs_curry")._1(g,0);return},[]);var j=k(d);if(j!==void 0){j=j;var n=d.attach_type===b("MercuryAttachmentType").ANIMATED_IMAGE,o=!(d.app_attribution==null),p=d.photo_encodings;p=p==null?!1:p.length!==0;var q=d.blurred_image_uri;q=!(q==null);var r=(!n||!e)&&!p;if(r){r=j[2];r=r==null?void 0:b("cssURL")(r);var s=e?l(d):void 0;r=[r,s]}else r=[void 0,void 0];s={};var t=r[0];t!==void 0&&(s.backgroundImage=b("bs_caml_option").valFromOption(t));t=r[1];t!==void 0&&(s.minHeight=b("bs_caml_option").valFromOption(t));r=s;t=b("Utils.bs").isTruthy(d.preview_uploading);s=t?b("React").createElement("span",{className:"_7atr"},b("React").createElement(b("MessengerSpinnerReact.bs").make,{})):null;t=n?b("MercuryAttachmentType").ANIMATED_IMAGE:void 0;var u=function(a){if(i!==void 0)return b("bs_curry")._1(i,d);else return 0},v=function(a){a.preventDefault();return u(0)};if(p){var w=j[2],x=d.metadata,y;if(x==null)y=void 0;else{x=x.fbid;y=x==null?void 0:b("bs_caml_option").some(x)}x=d.photo_encodings;y=b("ReasonReact.bs").element(void 0,void 0,b("MessengerSphericalPhotoReact.bs").make(400,400,y,w==null?void 0:b("bs_caml_option").some(w),x==null?void 0:b("bs_caml_option").some(x),f,u,e,[]))}else if(q){w=d.metadata;if(w==null)x=void 0;else{f=w.fbid;x=f==null?void 0:b("bs_caml_option").some(f)}w=j[2];y=b("ReasonReact.bs").element(void 0,void 0,b("MessengerBusinessHideImageReact.bs").make(x,w==null?void 0:b("bs_caml_option").some(w),!1,[]))}else y=b("React").createElement(m,{metadata:j,isAnimated:e&&n,className:(o?"_mxz":"")+(e&&!o?" _52mr":"")+(e&&!o?" _1byr":""),attachment:d,isSingle:e});if(q)f=null;else{x={"aria-label":h._("M\u1edf \u1ea3nh"),className:"_4tsl",children:a};w=b("bs_caml_option").nullable_to_opt(j[2]);w!==void 0&&(x.href=b("bs_caml_option").valFromOption(w));f=b("React").createElement(b("Link.react"),x)}return b("React").cloneElement(b("React").createElement("div",{className:b("joinClasses")(c,"_4tsk"+(o?" _mxz":"")+(e&&!o?" _52mr":"")+(e&&!o?" _1byr":"")+(b("Utils.bs").isTruthy(d.preview_uploading)&&j[2]==null?" _3etv":"")+(p&&!e?" _3603":"")),role:"presentation",style:r,onClick:v}),{"data-testid":t},b("React").createElement("div",{className:p&&!e?"_64ks":""}),f,y,s)}else return null}c=280;d=480;e=1800;g=450;var n=m;a=a;f.preview_thumbnail_size=c;f.preview_large_size=d;f.large_window_width=e;f.max_photo_width=g;f.getSrcFromAttachment=i;f.sizeToWidthHeight=j;f.extractPreviewMetadata=k;f.getMinHeightForAttachment=l;f.getImageFromMetadata=n;f.make=a}),null);
__d("MessengerSharedMediaActions",["MessengerFluxReduceDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({CURRENT_LOADED:null,DELETE_PHOTOS:null,LATEST_LOADED:null,LOAD_CURRENT:null,LOAD_MORE_LATEST:null,LOAD_MORE_PREVIOUS:null,PREVIOUS_LOADED:null}),h="MessengerSharedMedia";a={Types:g,Namespace:h,currentLoaded:function(a){b("MessengerFluxReduceDispatcher").dispatch({type:g.CURRENT_LOADED,namespace:h,data:a})},deletePhotos:function(a,c){b("MessengerFluxReduceDispatcher").dispatch({type:g.DELETE_PHOTOS,namespace:h,threadFBID:a,photoFBIDs:c})},loadCurrent:function(a,c){b("MessengerFluxReduceDispatcher").dispatch({type:g.LOAD_CURRENT,namespace:h,threadFBID:a,photoID:c})},loadMorePrevious:function(a,c,d){b("MessengerFluxReduceDispatcher").dispatch({type:g.LOAD_MORE_PREVIOUS,namespace:h,threadFBID:a,afterCursor:c,first:d})},loadMoreLatest:function(a,c,d){b("MessengerFluxReduceDispatcher").dispatch({type:g.LOAD_MORE_LATEST,namespace:h,threadFBID:a,beforeCursor:c,last:d})},previousLoaded:function(a){b("MessengerFluxReduceDispatcher").dispatch({type:g.PREVIOUS_LOADED,namespace:h,data:a})},latestLoaded:function(a){b("MessengerFluxReduceDispatcher").dispatch({type:g.LATEST_LOADED,namespace:h,data:a})}};e.exports=a}),null);
__d("MessengerThreadSharedMediaAfterWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1668947383157276"};b.getQueryID=function(){return"515216185516880"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerThreadSharedMediaBeforeWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1712143858865110"};b.getQueryID=function(){return"1694317194012102"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerThreadSharedMediaFindWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1933185426727404"};b.getQueryID=function(){return"237087923629184"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerSharedMediaReducer",["MessengerSharedMediaActions","MessengerThreadSharedMediaHelper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MessengerSharedMediaActions").Types;function a(a,c){__p&&__p();switch(c.type){case g.LOAD_CURRENT:var d=a.get("sharedMedia").get(c.threadFBID);if(d){d=d.edges.find(function(a){return a.node.legacy_attachment_id===c.photoID});if(d)return a}d=a.get("isLoading").get(c.threadFBID);if(!!d&&d.curr)return a;d=l(a,c.threadFBID,"curr",!0);b("MessengerThreadSharedMediaHelper").search(c.threadFBID,c.photoID,function(a){return b("MessengerSharedMediaActions").currentLoaded(a)});return d}return a}function c(a,c){__p&&__p();switch(c.type){case g.LOAD_MORE_PREVIOUS:var d=a.get("isLoading").get(c.threadFBID);if(!!d&&d.prev)return a;d=l(a,c.threadFBID,"prev",!0);if(d===null)return a;b("MessengerThreadSharedMediaHelper").loadMorePrevious(c.threadFBID,c.afterCursor,c.first,function(a){return b("MessengerSharedMediaActions").previousLoaded(a)});return d}return a}function d(a,c){__p&&__p();switch(c.type){case g.LOAD_MORE_LATEST:var d=a.get("isLoading").get(c.threadFBID);if(!!d&&d.latest)return a;d=l(a,c.threadFBID,"latest",!0);if(d===null)return a;b("MessengerThreadSharedMediaHelper").loadMoreLatest(c.threadFBID,c.beforeCursor,c.last,function(a){return b("MessengerSharedMediaActions").latestLoaded(a)});return d}return a}function f(a,c){__p&&__p();var d;switch(c.type){case g.CURRENT_LOADED:c=c.data;var e=Object.keys(c)[0];c=(c=c[e])!=null?c.message_shared_media:c;d=(d=c)!=null?(d=d.edges)!=null?d.length:d:d;var f=l(a,e,"curr",!1);if(d!==0&&c){d=k(a.get("sharedMedia").get(e),c,0);d=a.get("sharedMedia").set(e,d);f=f.set("sharedMedia",d);d=c.edges[0];b("MessengerThreadSharedMediaHelper").loadMorePrevious(e,d.cursor,10,function(a){return b("MessengerSharedMediaActions").previousLoaded(a)});b("MessengerThreadSharedMediaHelper").loadMoreLatest(e,d.cursor,10,function(a){return b("MessengerSharedMediaActions").latestLoaded(a)})}return f}return a}function h(a,b){__p&&__p();switch(b.type){case g.PREVIOUS_LOADED:b=b.data;var c=Object.keys(b)[0];b=b[c].message_shared_media;var d=l(a,c,"prev",!1);b=k(a.get("sharedMedia").get(c),b,1);c=a.get("sharedMedia").set(c,b);d=d.set("sharedMedia",c);return d}return a}function i(a,b){__p&&__p();switch(b.type){case g.LATEST_LOADED:b=b.data;var c=Object.keys(b)[0];b=b[c].message_shared_media;var d=l(a,c,"latest",!1);b=k(a.get("sharedMedia").get(c),b,-1);c=a.get("sharedMedia").set(c,b);d=d.set("sharedMedia",c);return d}return a}function j(a,b){__p&&__p();switch(b.type){case g.DELETE_PHOTOS:var c=b.threadFBID;b=b.photoFBIDs;var d=a.get("sharedMedia").get(c);if(!d||!d.edges)break;var e=new Set(b.map(function(a){return a.toString()}));d.edges=d.edges.filter(function(a){return!e.has(a.node.legacy_attachment_id)});b=a.get("sharedMedia").set(c,d);c=a.set("sharedMedia",b);return c}return a}function k(a,b,c){__p&&__p();var d={};d.count=b.count;if(c===1&&a){var e=a.edges;d.has_previous_page=a.has_previous_page;d.has_next_page=b.page_info.has_next_page;b.edges.length>0?d.edges=e.concat(b.edges):d.edges=e}else if(c===-1&&a){e=a.edges;d.has_previous_page=b.page_info.has_previous_page;d.has_next_page=a.has_next_page;b.edges.length>0?d.edges=b.edges.concat(e):d.edges=e}else d.has_previous_page=b.page_info.has_previous_page,d.has_next_page=b.page_info.has_next_page,b.edges.length>0&&(d.edges=b.edges);return d}function l(a,b,c,d){var e=a.get("isLoading").get(b);e===void 0?(e={},e[c]=d):e[c]=d;c=a.set("isLoading",a.get("isLoading").set(b,e));return c}f={currentLoaded:f,deletePhotos:j,latestLoaded:i,loadCurrent:a,loadMoreLatest:d,loadMorePrevious:c,previousLoaded:h};e.exports=f}),null);
__d("MessengerSharedMediaState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={sharedMedia:b("immutable").Map({}),isLoading:b("immutable").Map({})};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("MessengerSharedMediaStore",["FluxReduceStore","MessengerFluxReduceDispatcher","MessengerSharedMediaActions","MessengerSharedMediaReducer","MessengerSharedMediaState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=Object.keys(b("MessengerSharedMediaReducer"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("MessengerSharedMediaState"))()};d.reduce=function(a,c){if(c.namespace!==b("MessengerSharedMediaActions").Namespace)return a;g.forEach(function(d){a=b("MessengerSharedMediaReducer")[d](a,c)});return a};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("MessengerFluxReduceDispatcher"))}),null);
__d("MessengerSharedPhotosAlbumViewPhotoReact.bs",["fbt","bs_curry","React","cssURL","bs_belt_Option","bs_caml_option"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").forwardRef(function(a,c){var d=a.className,e=a.fbid,f=a.onClick,h=a.uri;a=a.children;c=c;a={children:a,"aria-label":g._("H\u00ecnh \u1ea3nh"),className:d,style:{backgroundImage:b("cssURL")(h)},href:"#",onClick:function(a){return b("bs_curry")._1(f,e)}};d=b("bs_belt_Option").map(c==null?void 0:b("bs_caml_option").some(c),function(a){return a});d!==void 0&&(a.ref=b("bs_caml_option").valFromOption(d));return b("React").jsx("a",a)});f.make=a}),null);
__d("MessengerSharedPhotosAlbumViewVScrollReact.bs",["cx","FBID.bs","bs_curry","React","bs_string","ReactDOM","Animation","bs_caml_array","bs_caml_option","ReasonReact.bs","setInterval","clearInterval","bs_caml_builtin_exceptions","MessengerSharedMediaActions","MessengerSharedPhotosAlbumViewPhotoReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){var c=a[1],d=c.length;if(d<48){b("MessengerSharedMediaActions").loadMorePrevious(a[0],b("bs_caml_array").caml_array_get(c,c.length-1|0).cursor,48);return 0}else return 0}function i(a){if(a!==void 0){a=b("bs_caml_option").valFromOption(a);return(a.scrollTop+a.clientHeight|0)>=(a.scrollHeight-20|0)}else throw b("bs_caml_builtin_exceptions").not_found}function j(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a).scrollTop<=20;else throw b("bs_caml_builtin_exceptions").not_found}function k(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a).clientHeight;else throw b("bs_caml_builtin_exceptions").not_found}function l(a,c){if(a!==void 0){new(b("Animation"))(b("bs_caml_option").valFromOption(a)).to("scrollTop",c).duration(200).go();return 0}else return 0}function m(a){var c=a[2][0];if(c!==void 0)return l(a[1][0],b("ReactDOM").findDOMNode(b("bs_caml_option").valFromOption(c)).offsetTop-70|0);else return 0}function n(a,c){__p&&__p();a=c[2];var d=a[3],e=a[1],f=a[0];c=c[1];var g=e.length;if(i(c[1][0]))if(g<a[2]&&!d.prev){b("MessengerSharedMediaActions").loadMorePrevious(f,b("bs_caml_array").caml_array_get(e,e.length-1|0).cursor,48);return 0}else return 0;else if(j(c[1][0])&&!d.latest){b("MessengerSharedMediaActions").loadMoreLatest(f,b("bs_caml_array").caml_array_get(e,0).cursor,48);return 0}else return 0}function o(a){__p&&__p();var c=a[1],d=c[1][0];if(d!==void 0){var e=b("bs_curry")._1(a[0],n);b("bs_caml_option").valFromOption(d).addEventListener("scroll",e);b("bs_curry")._1(a[4],function(a){a=c[1][0];if(a!==void 0)return b("bs_caml_option").valFromOption(a).removeEventListener("scroll",e);else return 0})}h(a[2]);d=function(a){__p&&__p();if(k(c[3][0])>0){m(c);a=c[0][0];if(a!==void 0){b("clearInterval")(b("bs_caml_option").valFromOption(a));c[0][0]=void 0;return 0}else return 0}else return 0};c[0][0]=b("bs_caml_option").some(b("setInterval")(d,200));return 0}function p(a){a=a[1][0][0];if(a!==void 0){b("clearInterval")(b("bs_caml_option").valFromOption(a));return 0}else return 0}var q=b("ReasonReact.bs").reducerComponentWithRetainedProps("MessengerSharedPhotosAlbumViewVScrollReact");function r(a,c){c[1][1][0]=a==null?void 0:b("bs_caml_option").some(a);return 0}function s(a,c){c[1][3][0]=a==null?void 0:b("bs_caml_option").some(a);return 0}function t(a,c){c[1][2][0]=a==null?void 0:b("bs_caml_option").some(a);return 0}function u(a,c,d,e,f,g,h){__p&&__p();var i=function(a){__p&&__p();return d.map(function(d){__p&&__p();d=d.node;var e=d.photo_encodings;e=e==null?!1:e.length!==0;var f=d.photo_encodings,h,i=0;if(e&&!(f==null)){f=f.find(function(a){return a.projection_type==="perspective"});if(f!==void 0){f=f.thumbnails;if(f.length!==0)h=f[0].uri;else{f=d.image1;h=f==null?void 0:f.uri}}else{f=d.image1;h=f==null?void 0:f.uri}}else i=1;if(i===1){f=d.image1;h=f==null?void 0:f.uri}if(h!==void 0){i=d.legacy_attachment_id===g;f={className:"_3bly"+(e?" _3603":""),fbid:b("FBID.bs").ofStringExn(d.legacy_attachment_id),onClick:c,uri:h,children:b("React").createElement("div",{key:b("bs_string").concat("_",[d.legacy_attachment_id,["spherical_gradient",0]]),className:e?"_64ks":""})};e=i?b("bs_curry")._1(a[0],t):void 0;e!==void 0&&(f.ref=b("bs_caml_option").valFromOption(e));return b("React").jsx(b("MessengerSharedPhotosAlbumViewPhotoReact.bs").make,f,d.legacy_attachment_id)}else return null})};return[q[0],q[1],q[2],q[3],o,q[5],p,q[7],function(a){return b("React").createElement("div",{ref:b("bs_curry")._1(a[0],r),className:"_3xo8",onScroll:b("bs_curry")._1(a[0],n)},b("React").createElement("div",{ref:b("bs_curry")._1(a[0],s),className:"_3xoa"},i(a)))},function(a){return[[void 0],[void 0],[void 0],[void 0]]},[e,d,f,a],function(a,b){return 0},q[12]]}a=b("ReasonReact.bs").wrapReasonForJs(q,function(a){return u(a.isLoading,a.onClick,a.sharedPhotos,a.threadID,a.totalCount,a.viewedPhoto,[])});c=200;d=48;e=6;g=20;var v=70;f.animationDuration=c;f.imagesToLoad=d;f.photosPerRow=e;f.scrollToEdgeTolerance=g;f.headerHeight=v;f.graduallyLoadPhotos=h;f.isScrolledToBottom=i;f.isScrolledToTop=j;f.getScrollHeight=k;f.scrollTo=l;f.autoScrollWhenLoaded=m;f.handleScroll=n;f.didMount=o;f.willUnmount=p;f.component=q;f.setRefChildContainer=r;f.setRefScrollable=s;f.setRefChild=t;f.make=u;f.jsComponent=a}),null);
__d("MessengerSharedPhotosAlbumView.react",["cx","fbt","MessengerPhotoViewCloseLinkReact.re","MessengerSharedPhotosAlbumViewVScrollReact.bs","React","ShimButton.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerPhotoViewCloseLinkReact.re").make,j=b("MessengerSharedPhotosAlbumViewVScrollReact.bs").jsComponent;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(){c.props.onClick(c.props.viewedPhoto)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{className:"_3bl- _5l-3",ref:"window",children:[this.$1(),b("React").jsx(j,{isLoading:this.props.isLoading,onClick:this.props.onClick,sharedPhotos:this.props.sharedPhotos,threadID:this.props.threadID,totalCount:this.props.totalCount,viewedPhoto:this.props.viewedPhoto})]})};d.$1=function(){var a;return(a=b("React")).jsxs("div",{className:"_3bm0 _5l-3",ref:"header",children:[a.jsxs(b("ShimButton.react"),{className:"_3bm2",onClick:this.$2,children:[a.jsx("div",{className:"_3bm3"}),h._("Quay l\u1ea1i \u1ea3nh")]}),a.jsx("div",{className:"_3bm4",children:h._("\u1ea2nh \u0111\u00e3 chia s\u1ebb")}),a.jsx(i,{onClick:this.props.onCloseSharedPhotos})]})};return c}(b("React").Component);a.propTypes={onClick:(c=b("prop-types")).func.isRequired,onCloseSharedPhotos:c.func.isRequired,sharedPhotos:c.arrayOf(c.object).isRequired,totalCount:c.number.isRequired,viewedPhoto:c.string.isRequired,threadID:c.string.isRequired,isLoading:c.object.isRequired};e.exports=a}),null);
__d("MessengerSharedPhotosAlbumViewContainer.react",["FluxContainer","MessengerSharedMediaStore","MessengerSharedPhotosAlbumView.react","React","prop-types"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={edges:[],count:0,isLoading:{}},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("MessengerSharedMediaStore")]};c.calculateState=function(a,c){a=b("MessengerSharedMediaStore").getState();var d=a.sharedMedia;return{edges:d.get(c.threadID).edges,count:d.get(c.threadID).count,isLoading:a.isLoading.get(c.threadID)}};var d=c.prototype;d.render=function(){return this.state.edges.length===0?null:b("React").jsx(b("MessengerSharedPhotosAlbumView.react"),{onClick:this.props.onClick,onCloseSharedPhotos:this.props.onCloseSharedPhotos,sharedPhotos:this.state.edges,totalCount:this.state.count,viewedPhoto:this.props.viewedPhoto,threadID:this.props.threadID,isLoading:this.state.isLoading})};return c}(b("React").PureComponent);a.propTypes={onClick:(c=b("prop-types")).func.isRequired,onCloseSharedPhotos:c.func.isRequired,viewedPhoto:c.string.isRequired,threadID:c.string};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MessageShareType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMAGE:"image",PLATFORM_SHARE_CTA:"platform_share_CTA"})}),null);
__d("MessengerTabIndices",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NEW_MESSAGE_TOKENIZER:9998,GROUP_NAME_INPUT:9999,COMPOSER_INPUT:1e4});e.exports=a}),null);
__d("MessengerComposeViewHeader.react",["cx","fbt","ImmutableObject","MessengerButtonReact.re","MessengerDotComAndInboxM4Check.bs","MessengerGraphQLTokenizer.react","MessengerTabIndices","React","clearImmediate","gkx","immutable","joinClasses","prop-types","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerButtonReact.re").make,j=320;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={tokenizerContext:null,excludeGroups:!1,excludePages:!1,forGroup:!1},d.$1=null,d.$2=function(){d.$1=b("setImmediate")(function(){d.refs.tokenizer&&d.refs.tokenizer.focusInput()})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$2(),this.setState({tokenizerContext:this.refs.tokenizerContext})};d.componentDidUpdate=function(a){this.props.recipients!==a.recipients&&this.props.onResize()};d.UNSAFE_componentWillReceiveProps=function(a){a.recipients!==this.props.recipients&&(a.recipients.size===0?this.setState({excludeGroups:!1,excludePages:!1,forGroup:!1}):a.isWorkUser?this.setState({excludeGroups:!0,excludePages:!1,forGroup:!0}):this.setState({excludeGroups:!0,excludePages:!0,forGroup:!0}))};d.componentWillUnmount=function(){this.$1&&b("clearImmediate")(this.$1)};d.render=function(){var a={enableMessageSearch:!1,hasHoverState:!0,originalEntryIDs:b("immutable").Set(),scrollableViewClassName:"_2y8_",shouldQueryInternalBot:!0,shouldQueryVCEndpoint:!1,width:j,customResultFilterFn:this.props.isWorkUser?function(a){return a.getAuxiliaryData().isWorkUser===!0&&a.getAuxiliaryData().isActiveAccount===!1?!1:!0}:function(){return!0}};return b("React").jsxs("div",{className:b("joinClasses")("_2y8y"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zw0":"")+" _5l-3",this.props.className),onClick:this.$2,role:"presentation",children:[b("React").jsx("div",{className:"_2y8z",ref:b("gkx")("678607")?"tokenizerContext":"",children:h._("\u0110\u1ebfn:")}),b("React").jsxs("div",{className:"_66s6",children:[b("React").jsx(b("MessengerGraphQLTokenizer.react"),babelHelpers["extends"]({autoFocus:!0,className:"_2y8-",context:this.state.tokenizerContext,entries:this.props.recipients,excludeGroups:this.state.excludeGroups,excludePages:this.state.excludePages,forGroup:this.state.forGroup,forceHideClearButton:this.props.forceHideClearButton,onAddEntryAttempt:this.props.onAddRecipient,onClear:this.props.onClear,onRemoveEntryAttempt:this.props.onRemoveRecipient,placeholder:h._("Nh\u1eadp t\u00ean c\u1ee7a m\u1ed9t ng\u01b0\u1eddi ho\u1eb7c nh\u00f3m"),ref:"tokenizer",tabIndex:b("MessengerTabIndices").NEW_MESSAGE_TOKENIZER,useLayer:!0,viewer:this.props.viewer},a)),b("gkx")("678607")?null:b("React").jsx("div",{ref:"tokenizerContext"})]}),this.$3()]})};d.$3=function(){return this.props.shouldShowCreateGroupButton?b("React").jsx(i,{className:"_6wh5",label:h._("T\u1ea1o \u0111o\u1ea1n chat m\u1edbi"),dataTestID:"create_new_chat_button",onClick:this.props.onCreateGroupButtonClicked,role:"button",tabIndex:0,type:"primary"}):null};return c}(b("React").PureComponent);a.propTypes={forceHideClearButton:(c=b("prop-types")).bool.isRequired,onAddRecipient:c.func.isRequired,onClear:c.func,onRemoveRecipient:c.func.isRequired,onResize:c.func.isRequired,recipients:c.instanceOf(b("immutable").List).isRequired,thread:c.instanceOf(b("ImmutableObject")),viewer:c.string.isRequired,isWorkUser:c.bool.isRequired,shouldShowCreateGroupButton:c.bool,onCreateGroupButtonClicked:c.func};a.defaultProps={shouldShowCreateGroupButton:!1,isWorkUser:!1};e.exports=a}),null);
__d("MessengerComposeViewHeaderReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerComposeViewHeader.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k){return b("ReasonReact.bs").wrapJsForReason(b("MessengerComposeViewHeader.react"),{className:b("bs_js_null_undefined").fromOption(a),forceHideClearButton:c,onClear:b("bs_js_null_undefined").fromOption(d),onAddRecipient:e,onRemoveRecipient:f,onResize:g,recipients:h,viewer:i,isWorkUser:j},k)}f.make=a}),null);
__d("XMessagingForwardAttachmentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/attachments/forward/",{})}),null);
__d("XMessengerPlatformShareCTAController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/platform/share/",{})}),null);
__d("MessengerForwardAttachmentDialogReact.bs",["ix","cx","fbt","bs_block","bs_curry","Image.bs","React","immutable","bs_caml_option","CurrentUser","fbglyph","ReasonReact.bs","AsyncRequest","MercuryLocalIDs","MessageShareType","MessengerDialogs.bs","MessengerDialogReact.bs","MessengerSpinnerReact.bs","MessengerDialogBodyReact.bs","MessengerDialogTitleReact.bs","MessengerDialogHeaderReact.bs","MessengerComposeViewHeaderReact.bs","XMessengerPlatformShareCTAController","XMessagingForwardAttachmentController"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=i._("G\u1eedi"),k=b("ReasonReact.bs").reducerComponent("MessengerForwardAttachmentDialogReact");function l(a,c,d){new(b("AsyncRequest"))(a.getURIBuilder().getURI()).setMethod("POST").setHandler(d).setData(c).send();return 0}function m(a,c,d,e,f,h,m){__p&&__p();var n=function(a){if(a)return 0;else{b("MessengerDialogs.bs").removeDialog(void 0,0);return b("bs_curry")._1(c,0)}},o=function(c,e){__p&&__p();var f=e[3];c=function(a){if(a.payload.success)return b("bs_curry")._1(f,2);else return b("bs_curry")._1(f,b("bs_block").__(2,[b("bs_caml_option").nullable_to_opt(a.payload.error)]))};var g={};e[1][0].forEach(function(c,a,d){g[String(b("MercuryLocalIDs").generateOfflineThreadingID(void 0))]=c.getUniqueID();return!0});var i=0;h!==void 0&&d!==void 0&&b("bs_caml_option").valFromOption(h)===b("MessageShareType").PLATFORM_SHARE_CTA?l(b("XMessengerPlatformShareCTAController"),{cta_id:a,message_id:b("bs_caml_option").valFromOption(d),recipient_map:g},c):i=1;i===1&&l(b("XMessagingForwardAttachmentController"),{attachment_id:a,recipient_map:g},c);return b("bs_curry")._1(e[3],1)};return[k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],function(a){__p&&__p();var c=a[1],d=c[2],h=c[1];if(d)d=b("React").createElement("div",void 0,b("React").createElement(b("MessengerSpinnerReact.bs").make,{}),b("React").createElement("span",{className:"_1e1n _3-99"},i._("\u0110ang g\u1eedi")));else if(h!==void 0){var k=g("141787");d=b("React").createElement("div",{className:"_1e1n"},b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,k,void 0,void 0,void 0,void 0,[])),b("React").createElement("span",{className:"_3-99"},h))}else d=null;k=c[0].isEmpty()||c[2];return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,n,void 0,e,void 0,void 0,560,void 0,void 0,[b("React").createElement(b("MessengerDialogHeaderReact.bs").make,{children:b("React").createElement(b("MessengerDialogTitleReact.bs").make,{children:f})}),b("React").createElement(b("MessengerDialogBodyReact.bs").make,{children:b("ReasonReact.bs").element(void 0,void 0,b("MessengerComposeViewHeaderReact.bs").make("_1e1o",!1,function(c){return b("bs_curry")._1(a[3],0)},function(c){return b("bs_curry")._1(a[3],b("bs_block").__(0,[c]))},function(c){return b("bs_curry")._1(a[3],b("bs_block").__(1,[c]))},function(a){return 0},c[0],b("CurrentUser").getID(),b("CurrentUser").isWorkUser(),[]))}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,b("bs_caml_option").some(d),[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton.make(void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(2,j,k,void 0,b("bs_curry")._1(a[0],o),0,void 0,void 0,k?i._("N\u00fat g\u1eedi \u0111\u00e3 v\u00f4 hi\u1ec7u h\u00f3a"):j,[]))]))]))},function(a){return[b("immutable").List([]),void 0,!1]},k[10],function(a){__p&&__p();if(typeof a==="number")switch(a){case 0:return function(a){return b("bs_block").__(0,[[b("immutable").List([]),a[1],a[2]]])};case 1:return function(a){return b("bs_block").__(0,[[a[0],void 0,!0]])};case 2:b("bs_curry")._1(c,0);return function(a){return b("bs_block").__(0,[[b("immutable").List([]),void 0,!1]])}}else switch(a.tag|0){case 0:var d=a[0];return function(a){return b("bs_block").__(0,[[a[0].push(d),a[1],a[2]]])};case 1:var e=a[0];return function(a){return b("bs_block").__(0,[[a[0].filter(function(a){return a!==e}),a[1],a[2]]])};case 2:var f=a[0];return function(a){return b("bs_block").__(0,[[a[0],f,!1]])}}},k[12]]}a=b("ReasonReact.bs").wrapReasonForJs(k,function(a){return m(a.attachmentID,a.onClose,b("bs_caml_option").nullable_to_opt(a.messageID),a.shown,a.title,b("bs_caml_option").nullable_to_opt(a.shareType),[])});f.sendButtonLabel=j;f.component=k;f.sendData=l;f.make=m;f.jsComponent=a}),null);
__d("MessengerPhotoViewBottomBarReact.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.children;return b("React").jsx("div",{children:a,className:"_51an _50-m _16zz"})}c=a;f.make=c}),null);
__d("MessengerPhotoViewBottomBarReact.re",["MessengerPhotoViewBottomBarReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerPhotoViewBottomBarReact.bs").make;f.make=a}),null);
__d("MessengerPhotoViewHScroll.react",["cx","Animation","MessengerSharedPhotoReact.re","React","SphericalPhotoUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerSharedPhotoReact.re").make,i=b("SphericalPhotoUtils").getThumbnailsFromPhotoEncodings,j=200,k=80;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$2()};d.componentDidUpdate=function(){this.$2()};d.componentWillUnmount=function(){this.$1&&this.$1.stop(),this.$1=null};d.render=function(){__p&&__p();var a=this,c=this.props.sharedPhotos;c=c.reduce(function(c,d){__p&&__p();var e=d.node.image1===null?d.node.image:d.node.image1,f=d.node.photo_encodings?d.node.photo_encodings.length!==0:!1;if(e){e=e.uri;if(f){var g=i(d.node.photo_encodings);g=g.smallThumbnail;e=g||e}c.push(b("React").jsx("div",{className:"_4dy9",children:b("React").jsx(h,{className:"_42rl"+(a.props.photoID!==d.node.legacy_attachment_id?" _q1a":""),fbid:d.node.legacy_attachment_id,onClick:a.props.onScroll,uri:e,isSpherical:f})},d.node.legacy_attachment_id))}return c},[]);var d=(this.props.width-k)/2;return b("React").jsx("div",{className:"_463g",children:b("React").jsx("div",{className:"_463h",ref:"childContainer",children:b("React").jsx("div",{className:"_463j",style:{paddingLeft:d,paddingRight:d},ref:"scrollable",children:c})})})};d.$2=function(){var a=this,c=this.refs.childContainer?this.refs.childContainer.scrollLeft:0,d=this.props.sharedPhotos.findIndex(function(b){return b.node.legacy_attachment_id===a.props.photoID});d=d*k;this.$1||(this.$1=new(b("Animation"))(this.refs.childContainer));this.$1.from("scrollLeft",c).to("scrollLeft",d).duration(j).go()};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerPhotoViewHeader.react",["cx","fbt","MessagingForwardingButtonNUX.react","MessengerPhotoViewCloseLinkReact.re","React","SpotlightViewerBottomBarLink","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerPhotoViewCloseLinkReact.re").make;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){c.refs.forwardNUX&&c.refs.forwardNUX.close(),c.props.showForwardDialog&&c.props.showForwardDialog()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{className:"_51an _50-m _3c1i _5l-3",role:"banner",children:[this.$1(),this.$2()]})};d.$2=function(){var a;return b("React").jsx(i,{onClick:(a=this.props.onClose)!=null?a:b("emptyFunction")})};d.$1=function(){var a=this,c,d;this.props.disableForward!==!0&&(c=b("React").jsxs(b("SpotlightViewerBottomBarLink"),{className:"_3c1o",onClick:this.$3,ref:"forwardButton",children:[b("React").jsx("div",{className:"_2msr _3oo2"}),h._("Chuy\u1ec3n ti\u1ebfp")]}),d=b("React").jsx(b("MessagingForwardingButtonNUX.react"),{contextRef:function(){return a.refs.forwardButton},ref:"forwardNUX",children:h._("G\u1eedi h\u00ecnh \u1ea3nh n\u00e0y cho ng\u01b0\u1eddi kh\u00e1c b\u1eb1ng tin nh\u1eafn ri\u00eang.")}));return b("React").jsxs("div",{ref:"buttons",children:[b("React").jsxs(b("SpotlightViewerBottomBarLink"),{ajaxify:this.props.url,className:"_3c1o",rel:"async",children:[b("React").jsx("div",{className:"_3ooo _2msr"}),h._("T\u1ea3i xu\u1ed1ng")]}),c,d,b("React").jsxs(b("SpotlightViewerBottomBarLink"),{className:"_3c1o",href:"#",onClick:this.props.openInfo,ref:"moreInfo",children:[b("React").jsx("div",{className:"_3c1k _2msr"}),h._("Th\u00f4ng tin")]})]},"buttonsContainer")};return c}(b("React").PureComponent);e.exports=a}),null);
__d("XMessagingVideoAttachmentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/attachments/video/",{video_id:{type:"String",required:!0},video_container_id:{type:"String",required:!0},width:{type:"Int",required:!0},height:{type:"Int",required:!0},start_muted:{type:"Bool",defaultValue:!1},no_fullscreen:{type:"Bool",defaultValue:!1},load_player_controller:{type:"Bool",defaultValue:!1},hide_controls_on_finish:{type:"Bool",defaultValue:!1},hide_url_menu_option:{type:"Bool",defaultValue:!1},is_share:{type:"Bool",defaultValue:!1},render_play_button:{type:"Bool",defaultValue:!1},start_timestamp:{type:"Int",defaultValue:0},native_thumbnail:{type:"Bool",defaultValue:!1}})}),null);
__d("MessengerVideoPlayer.react",["cx","ActorURI","AsyncRequest","BackgroundImage.react","Event","FullScreen","MessengerSpinner.react","React","ShimButton.react","SpotlightMercurySharedMediaViewer.react","SubscriptionsHandler","Vector","VideoPlayerReasonTransitionHelper","XMessagingVideoAttachmentController","cssURL","getFullScreenElement","guid","joinClasses","prop-types","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="_ox1",i="_27db";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d,e;e=a.call(this,c)||this;e.$2=!0;e.$3=[];e.$4=-1;e.$5=!1;e.$6=!1;e.state={playerAPI:null,forcePause:!!((d=e.props.videoData)==null?void 0:d.disableAutoplay)};e.$10=function(a){if(e.isVideoControlClicked(a)){a.preventDefault();a.stopPropagation();return}if(!e.isVideoClicked(a))return;a.preventDefault();e.props.isOnStage?(a.stopPropagation(),e.isState("playing")?e.pause("user_initiated"):e.play("user_initiated")):(e.pause("user_initiated"),e.props.onClick&&e.props.onClick())};e.$11=function(a){if(!e.isRightClick(a))return;a.stopPropagation();a.preventDefault();b("setImmediate")(function(){e.props.onSelect&&e.props.onSelect()})};e.$8=function(){if(!e.$2||e.state.forcePause)return;e.$6&&(e.play(new(b("VideoPlayerReasonTransitionHelper"))("page_visibility_initiated")),e.$6=!1)};e.$7=function(){if(!e.$2||e.state.forcePause||!(e.state.playerAPI&&e.state.playerAPI.isMuted()))return;e.$6=!!e.state.playerAPI&&e.state.playerAPI.isState("playing");e.pause()};e.$1=b("guid")();e.$2=!((d=c.videoData)==null?void 0:d.disableAutoplay);e.props.isInThread&&(e.listeners=new(b("SubscriptionsHandler"))(),e.listeners.addSubscriptions(b("Event").listen(window,"blur",e.$7),b("Event").listen(window,"focus",e.$8)));return e}var d=c.prototype;d.shouldComponentUpdate=function(a){var c=document.getElementById(this.$1.toString()),d=b("FullScreen").isFullScreen();if(c!=null&&d&&c.children[0].children[0]===b("getFullScreenElement")())return!1;d=!!(a.stageDimensions&&a.stageDimensions!==this.props.stageDimensions);d&&(this.$4=this.getCurrentTimePosition(),this.$5=!this.isState("playing"));return!this.props.videoData||a.videoData.id!==this.props.videoData.id||d};d.UNSAFE_componentWillReceiveProps=function(a){if(!this.$2)return;this.props.isInThread&&a.isVisible!==this.props.isVisible&&(a.isVisible&&!this.state.forcePause?this.play(new(b("VideoPlayerReasonTransitionHelper"))("video_visibility_initiated")):this.pause())};d.componentDidMount=function(){this.props.videoData&&this.$9()};d.componentDidUpdate=function(){this.$3.forEach(function(a){return a.abandon()}),this.$3=[],this.props.videoData&&this.$9()};d.componentWillUnmount=function(){this.pause("unloaded"),this.seek(0),this.$3.forEach(function(a){return a.abandon()}),this.listeners&&this.listeners.release(),this.state.playerAPI&&this.state.playerAPI.detachRootNode(),this.state.playerAPI&&this.state.playerAPI.destroy&&this.state.playerAPI.destroy()};d.isVideoLoaded=function(){var a=!!this.state.playerAPI;!a;return this.isState("fallback")?!1:a};d.isVideoClicked=function(a){return a.target instanceof HTMLElement?a.target.classList.contains(h):!1};d.isVideoControlClicked=function(a){__p&&__p();var b=document.getElementsByClassName(i);for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;var f=a.target;if(e.contains(f))return!0}return!1};d.isRightClick=function(a){a=a||window.event;return a.button===2};d.play=function(a){if(!this.isVideoLoaded())return;this.state.playerAPI&&this.state.playerAPI.play(a)};d.pause=function(a){if(!this.isVideoLoaded())return;this.state.playerAPI&&this.state.playerAPI.pause(a)};d.seek=function(a){if(!this.isVideoLoaded())return;this.state.playerAPI&&this.state.playerAPI.seek(a)};d.getCurrentTimePosition=function(){return this.isVideoLoaded()&&this.state.playerAPI?this.state.playerAPI.getCurrentTimePosition():-1};d.render=function(){var a=this.props.videoData,c=b("React").jsx("div",{ref:"placeholder",children:b("React").jsx(b("MessengerSpinner.react"),{color:"blue",size:b("MessengerSpinner.react").large_size})}),d={};if(a&&a.url){var e=a.original_dimensions;d.backgroundImage=b("cssURL")(a.url);c=b("React").jsx("div",{ref:"placeholder",children:b("React").jsx(b("BackgroundImage.react"),{className:this.props.className,width:e.x,height:e.y,loadingIndicatorStyle:"large",backgroundSize:"cover",ref:"placeholder",style:d,src:a.url})})}return b("React").jsx(b("ShimButton.react"),{className:b("joinClasses")(this.props.className,"_4-od"),id:this.$1,onClick:this.$10,onMouseDown:this.$11,style:d,children:c})};d.$9=function(){__p&&__p();var a=this,c=this.props.videoData;if(c){var d=c.original_dimensions;this.props.stageDimensions&&(d=b("SpotlightMercurySharedMediaViewer.react").getImageDimensionsForStage(new(b("Vector"))(c.original_dimensions.x,c.original_dimensions.y),this.props.stageDimensions));d=b("XMessagingVideoAttachmentController").getURIBuilder().setString("video_id",c.legacy_attachment_id).setString("video_container_id",this.$1).setInt("width",d.x).setInt("height",d.y).setInt("start_timestamp",this.$4>0?Math.round(this.$4):0).setBool("start_muted",c.start_muted).setBool("no_fullscreen",c.no_fullscreen).setBool("load_player_controller",!0).setBool("hide_controls_on_finish",c.hide_controls_on_finish).setBool("native_thumbnail",c.disableAutoplay).setBool("hide_url_menu_option",Boolean(c.hide_url_menu_option)).setBool("is_share",c.is_share).setBool("render_play_button",this.props.isInThread).getURI();c=this.props.attachment;c&&c.metadata&&c.metadata.pageid&&(d=b("ActorURI").create(d,c.metadata.pageid));var e=new(b("AsyncRequest"))();this.$3.push(e);e.setMethod("GET").setStatusElement(this.refs.placeholder).setURI(d).setRelativeTo(this).setReadOnly(!0).setHandler(function(b){a.$3=a.$3.filter(function(a){return a!==e})}).send()}};d.$12=function(){this.props.isVisible&&this.isState("finished")?(this.seek(0),this.play("loop_initiated")):this.props.isVisible&&this.isState("paused")&&!this.$6?this.setState({forcePause:!0}):this.isState("playing")&&this.setState({forcePause:!1})};d.onVideoLoaded=function(){var a=this;if(!this.$2)return;this.state.playerAPI&&this.state.playerAPI.addListener("stateChange",function(){return a.$12()});this.props.isVisible&&!this.$5&&!this.state.forcePause?this.play("autoplay_initiated"):this.pause();this.$4=-1;this.$5=!1};d.isState=function(a){return!!(this.state.playerAPI&&this.state.playerAPI.isState(a))};return c}(b("React").Component);a.propTypes={attachment:(c=b("prop-types")).object,className:c.string,isInThread:c.bool,isVisible:c.bool,isOnStage:c.bool,stageDimensions:c.instanceOf(b("Vector")),videoData:c.object,onClick:c.func,onSelect:c.func};a.invokeVideoLoaded=function(a,b,c){a.$2=c,b.setAllowCrossPageTransition(!0),b.isState("loading")?a.stateChangeListener=b.addListener("stateChange",function(){if(!b.isState("loading")){if(a.state&&a.state.playerAPI)return;a.setState({playerAPI:b},a.onVideoLoaded);a.stateChangeListener&&a.stateChangeListener.remove()}}):a.setState({playerAPI:b},a.onVideoLoaded)};e.exports=a}),null);
__d("MessagingForwardAttachmentDialog.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("BootloadOnRender.react"),{component:b("React").jsx(b("LazyComponent.react"),babelHelpers["extends"]({},this.props)),loader:b("JSResource")("MessagingForwardAttachmentDialogImpl.react").__setRef("MessagingForwardAttachmentDialog.react"),placeholder:b("React").jsx("div",{})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("SpotlightMessagesViewerPagers.react",["cx","fbt","LeftRight.react","Link.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){return b("React").jsxs(b("LeftRight.react"),{children:[b("React").jsx(b("Link.react"),{"aria-disabled":a.disablePrevArrow,"aria-label":h._("Tr\u01b0\u1edbc"),className:"_322u"+(a.disablePrevArrow?"":" _2bbb")+" _50-m",children:b("React").jsx("div",{className:(a.disablePrevArrow?"":"_4ksl")+(a.disablePrevArrow?"":" _4ksm")})}),b("React").jsx(b("Link.react"),{"aria-disabled":a.disableNextArrow,"aria-label":h._("Ti\u1ebfp"),className:"_322u"+(a.disableNextArrow?"":" _2bbc")+" _50-m",children:b("React").jsx("div",{className:(a.disableNextArrow?"":"_4ksl")+(a.disableNextArrow?"":" _4kso")})})]})};e.exports=a}),null);
__d("XMessagingPhotoDownloadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/attachments/photo/",{photo_id:{type:"String",required:!0}})}),null);
__d("XMessagingShareAttachmentDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/attachments/share/dialog/",{__asyncDialog:{type:"Int"}})}),null);
__d("SpotlightMercurySharedMediaViewer.react",["csx","cx","fbt","invariant","ActorURI","AsyncDialog","AsyncRequest","BootloadedComponent.react","ChatPhotoViewFooterHScroll.react","ChatPhotoViewHeader.react","Event","FunnelLogger","JSResource","KeyEventController","MessagingForwardAttachmentDialog.react","MessengerThreadSharedMediaHelper","MessengerVideoPlayer.react","Parent","PhotoUtils","React","SpotlightMessagesViewerPagers.react","SpotlightViewer","SpotlightViewerImage","SpotlightViewport","SubscriptionsHandler","Vector","XMessagingPhotoDownloadController","XMessagingShareAttachmentDialogController","lazyLoadComponent","prop-types"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=88,l=30,m="WWW_MESSENGER_SHARE_TO_FB_FUNNEL",n="_4-og";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=void 0,d.$2=[],d.state={hasPrevPage:!1,hasNextPage:!1,firstPhotoLoaded:!1,isLoading:!1,mediaData:[],numberInOneBatch:l,photoData:null,showForward:!1,showInfo:!1,stageDimensions:new(b("Vector"))()},d.$11=function(){return!d.state.photoData?null:b("React").jsx(b("ChatPhotoViewFooterHScroll.react"),{onScroll:d.$18,photoID:d.state.photoData.node.id,sharedPhotos:d.state.mediaData,updateNumberInOneBatch:d.$19,width:d.state.stageDimensions.x})},d.$19=function(a){d.setState({numberInOneBatch:a})},d.$18=function(a){if(!d.state.mediaData||d.state.isLoading)return;var b=d.state.mediaData.findIndex(function(b){return b.node.legacy_attachment_id===a});if(b<0)return;var c=d.state.mediaData[b];d.setState({photoData:c});d.$22(b)},d.$5=function(a,c){__p&&__p();if(d.state.photoData==null||d.state.isLoading)return;if(c&&!!b("Parent").bySelector(c.target,"._170l"))return;c&&c.target instanceof HTMLElement&&c.target.className===n&&d.$10();c=d.state.mediaData.findIndex(function(a){d.state.photoData!=null||j(0,1033);return a.node.legacy_attachment_id===d.state.photoData.node.legacy_attachment_id});if(c<0||c===d.state.mediaData.length-1&&!d.state.hasNextPage&&a)return;if(c===0&&!a){d.setState({isLoading:!0},function(){return d.$7(d.state.photoData,1,function(b){if(b===0)return;d.$5(a)})});return}var e=a?d.state.mediaData[c+1]:d.state.mediaData[c-1];d.setState({photoData:e});d.$22(c)},d.$10=function(){if(d.props.photoID===null)return;d.setState({photoData:null});d.props.onClosePhotoView()},d.$16=function(){d.setState({showForward:!0})},d.$20=function(){d.setState({showForward:!1})},d.$15=function(){d.setState({showInfo:!0})},d.$21=function(){d.setState({showInfo:!1})},d.$17=function(){d.setState({showForward:!1,showInfo:!1});b("FunnelLogger").appendAction(m,"click");var a=d.state.photoData;if(!d.$14()||!(a&&a.node))return;a=a.node.legacy_attachment_id;var c=b("XMessagingShareAttachmentDialogController").getURIBuilder().getURI();c=new(b("AsyncRequest"))(c).setData({attachment_id:a}).setMethod("POST");b("AsyncDialog").send(c)},d.$23=function(a,b,c){__p&&__p();var e=Object.keys(a)[0];a=a[e].message_shared_media;e=a.page_info;var f=a.edges.length;if(f!==0){var g=d.state.mediaData;switch(b){case 0:d.setState({photoData:a.edges[0],mediaData:[a.edges[0]],firstPhotoLoaded:!0});break;case 1:g=g.concat(a.edges);d.setState({hasNextPage:e.has_next_page,mediaData:g});break;case-1:g=a.edges;g=g.concat(d.state.mediaData);d.setState({mediaData:g,hasPrevPage:e.has_previous_page});break}}d.setState({isLoading:!1});c(f)},d.$3=function(){var a=new(b("Vector"))(b("Vector").getViewportDimensions().x,b("Vector").getViewportDimensions().y-k);return a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getDefaultProps=function(){return{enableShareToFB:!1}};d.componentDidMount=function(){__p&&__p();var a=this;this.setState({isLoading:!0,stageDimensions:this.$3()},function(){return a.$4(a.props.photoID)});this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Event").listen(window,"resize",function(){a.setState({stageDimensions:a.$3()})}),b("KeyEventController").registerKey("LEFT",function(){a.$5(!1);return!1}),b("KeyEventController").registerKey("RIGHT",function(){a.$5(!0);return!1}));this.props.enableShareToFB&&b("FunnelLogger").startFunnel(m)};d.UNSAFE_componentWillUpdate=function(a,b){var c=this;b.firstPhotoLoaded!==this.state.firstPhotoLoaded&&this.setState({isLoading:!0},function(){c.$6(b.photoData,b.numberInOneBatch,function(){}),c.$7(b.photoData,b.numberInOneBatch,function(){})});b.numberInOneBatch!=this.state.numberInOneBatch&&!b.isLoading&&this.setState({isLoading:!0},function(){return c.$6(b.mediaData[b.mediaData.length-1],b.numberInOneBatch,function(){})})};d.componentWillUnmount=function(){this.$1&&this.$1.release(),this.$1=null,this.$2.forEach(function(a){return a.abandon()})};d.render=function(){var a=this,c=this.$8(),d=this.state.stageDimensions,e=this.state.isLoading||this.props.useloadingindicator&&!this.state.photoData;if(this.state.photoData==null)return null;var f=this.state.mediaData.findIndex(function(b){a.state.photoData!=null||j(0,1033);return b.node.id===a.state.photoData.node.id});f=b("React").jsxs("div",{children:[this.$9(),this.props.disablepaging?null:b("React").jsx(b("SpotlightMessagesViewerPagers.react"),{disablePrevArrow:f<=0&&!this.state.hasPrevPage,disableNextArrow:!this.state.hasNextPage&&f>=this.state.mediaData.length-1})]});return b("React").jsxs("span",{children:[b("React").jsxs(b("SpotlightViewer"),{className:"_53vs",onHide:this.$10,open:this.props.photoID!==null,ref:"spotlightViewer",rootClassName:this.props.rootClassName,children:[b("React").jsx(b("SpotlightViewport"),{active:!1,fadeInNOut:!0,media:c,onClick:this.$5,ref:"viewport",showLoadingIndicator:e,stageDimensions:d,useWidth:!0,children:f}),this.$11()]}),this.$12(),this.$13()]})};d.$9=function(){if(!this.state.photoData)return null;var a=this.state.photoData;a=a.node.legacy_attachment_id;a=b("XMessagingPhotoDownloadController").getURIBuilder().setString("photo_id",a).getURI();this.props.actorid&&(a=b("ActorURI").create(a,this.props.actorid));return b("React").jsx(b("ChatPhotoViewHeader.react"),{disableForward:this.props.disableForward,enableShareToFB:this.$14(),onClose:this.$10,openInfo:this.$15,ref:"photoviewheader",showForwardDialog:this.$16,showShareDialog:this.$17,url:a})};d.$12=function(){if(!this.state.photoData||!this.state.showForward)return null;var a=i._("Chuy\u1ec3n ti\u1ebfp qua nhi\u1ec1u tin nh\u1eafn ri\u00eang");return b("React").jsx(b("MessagingForwardAttachmentDialog.react"),{attachmentID:this.state.photoData.node.legacy_attachment_id,onClose:this.$20,shown:this.state.showForward,title:a})};d.$13=function(){return this.state.showInfo?b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{}),children:b("React").jsx(o,{closeInfo:this.$21,infoOpen:this.state.showInfo,photoID:this.state.photoData.node.id})}):b("React").jsx("xhp",{})};d.$14=function(){var a=this.state.photoData;return!a?!1:!!this.props.enableShareToFB&&a.node.__typename==="MessageImage"&&a.node.image1.uri.indexOf(".gif")<0};d.$22=function(a){var b=this,c=this.state.numberInOneBatch,d=this.state.mediaData;a<=c/2?this.setState({isLoading:!0},function(){return b.$7(d[0],c,function(){})}):a>=d.length-c/2&&this.state.hasNextPage&&this.setState({isLoading:!0},function(){return b.$6(d[d.length-1],c,function(){})})};d.$4=function(a){var c=this;a=b("MessengerThreadSharedMediaHelper").search(this.props.threadID,String(a),function(a){return c.$23(a,0,function(){})});this.$2.push(a)};d.$6=function(a,c,d){var e=this;a=b("MessengerThreadSharedMediaHelper").loadMorePrevious(this.props.threadID,a.cursor,c||1,function(a){return e.$23(a,1,d)});this.$2.push(a)};d.$7=function(a,c,d){var e=this;a=a?a.cursor:null;a=b("MessengerThreadSharedMediaHelper").loadMoreLatest(this.props.threadID,a,c||1,function(a){return e.$23(a,-1,d)});this.$2.push(a)};d.$8=function(){__p&&__p();if(this.state.photoData&&this.state.photoData.node){var a=this.state.photoData.node;if(a.__typename&&a.__typename==="MessageVideo")return this.$24();var d=this.state.stageDimensions,e=this.$25(a,d);if(!e)return null;if(a.photo_encodings&&a.photo_encodings.length!==0)return this.$26(a.legacy_attachment_id,e,a.photo_encodings,d);a=c.getImageDimensionsForStage(new(b("Vector"))(e.width,e.height),d);return this.$27(e,a)}else return null};d.$24=function(){return this.state.photoData?b("React").jsx(b("MessengerVideoPlayer.react"),{isOnStage:!0,isVisible:!0,videoData:this.state.photoData.node,stageDimensions:this.state.stageDimensions}):null};d.$27=function(a,c){return b("React").jsx(b("SpotlightViewerImage"),{dimensions:c,ref:"image",src:a.uri})};d.$26=function(a,c,d,e){return b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SpotlightViewerSphericalPhoto.react").__setRef("SpotlightMercurySharedMediaViewer.react"),bootloadPlaceholder:b("React").jsx("div",{}),height:e.y,width:e.x,fbid:a,thumbnail:c.uri,photoEncodings:d,stageDimensions:this.state.stageDimensions})};d.$25=function(a,c){var d=null;a=b("PhotoUtils").getImagesFromData(a);a=a.sort(function(a,b){return a.width==null?b.width==null?0:1:b.width==null?-1:b.width-a.width});window.devicePixelRatio&&window.devicePixelRatio>1&&(c=new(b("Vector"))(c.x*window.devicePixelRatio,c.y*window.devicePixelRatio));for(var e=0;e<a.length;e++)(!d||a[e].width>=c.x||a[e].height>=c.y)&&(d=a[e]);return d};return c}(b("React").Component);a.propTypes={disableForward:(c=b("prop-types")).bool,enableShareToFB:c.bool,onClosePhotoView:c.func,photoID:c.string,rootClassName:c.string,threadID:c.string};a.getImageDimensionsForStage=function(a,c){var d=a.x;a=a.y;var e=c.x;c=c.y;var f=d/a,g=e/c;d>=e||a>=c?g<f?(d=e,a=Math.round(e/f)):g>f?(d=Math.round(c*f),a=c):(d=e,a=c):f<g?d=Math.round(a*f):a=Math.round(d/f);return new(b("Vector"))(d,a)};var o=b("lazyLoadComponent")(b("JSResource")("MessengerPhotoInfoDialogContainer.react").__setRef("SpotlightMercurySharedMediaViewer.react"));e.exports=a}),null);
__d("SpotlightMessengerSharedMediaViewer.react",["csx","cx","fbt","invariant","ActorURI","BootloadedComponent.react","Event","JSResource","KeyEventController","MessengerForwardAttachmentDialogReact.bs","MessengerPhotoViewBottomBarReact.re","MessengerPhotoViewHeader.react","MessengerPhotoViewHScroll.react","MessengerSharedMediaActions","MessengerVideoPlayer.react","Parent","PhotoUtils","React","ScriptPath","SpotlightMessagesViewerPagers.react","SpotlightViewer","SpotlightViewerImage","SpotlightViewport","SubscriptionsHandler","Vector","XMessagingPhotoDownloadController","lazyLoadComponent","prop-types"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("MessengerForwardAttachmentDialogReact.bs").jsComponent,l=b("MessengerPhotoViewBottomBarReact.re").make,m=88,n=80,o=30,p="_4-og";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=void 0,d.$2=[],d.state={photoData:null,showForward:!1,showInfo:!1,stageDimensions:new(b("Vector"))()},d.$14=function(a){if(!d.props.sharedMedia)return;var b=d.props.sharedMedia.findIndex(function(b){return b.node.legacy_attachment_id===a});if(b<0)return;var c=d.props.sharedMedia[b];d.setState({photoData:c});d.$17(b)},d.$4=function(a,c){__p&&__p();if(d.state.photoData==null)return;var e=d.state.photoData;if(c&&!!b("Parent").bySelector(c.target,"._170l"))return;c&&c.target instanceof HTMLElement&&c.target.className===p&&d.$7();c=d.props.sharedMedia.findIndex(function(a){return a.node.legacy_attachment_id===e.node.legacy_attachment_id});if(c<0||c===d.props.sharedMedia.length-1&&!d.props.hasNextPage&&a)return;if(c===0&&!a){b("MessengerSharedMediaActions").loadMoreLatest(d.props.threadID,d.props.sharedMedia[0].cursor,o);return}a=a?d.props.sharedMedia[c+1]:d.props.sharedMedia[c-1];d.setState({photoData:a});d.$17(c)},d.$7=function(){if(d.props.photoID===null)return;b("ScriptPath").closeOverlayView("spotlight_media_view");d.setState({photoData:null});d.props.onClosePhotoView()},d.$12=function(){d.setState({showForward:!0})},d.$15=function(){d.setState({showForward:!1})},d.$11=function(){d.setState({showInfo:!0})},d.$16=function(){d.setState({showInfo:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this,c=this.props.sharedMedia.find(function(b){return b.node.legacy_attachment_id===a.props.photoID});this.setState({photoData:c,stageDimensions:this.$3()});this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Event").listen(window,"resize",function(){a.setState({stageDimensions:a.$3()})}),b("KeyEventController").registerKey("LEFT",function(){a.$4(!1);return!1}),b("KeyEventController").registerKey("RIGHT",function(){a.$4(!0);return!1}));b("ScriptPath").openOverlayView("spotlight_media_view",{photoID:this.props.photoID,threadID:this.props.threadID})};d.componentWillUnmount=function(){this.$1&&this.$1.release(),this.$1=null,this.$2.forEach(function(a){return a.abandon()})};d.render=function(){var a=this,c=this.$5(),d=this.state.stageDimensions,e=this.props.useloadingindicator&&!this.state.photoData;if(this.state.photoData==null)return null;var f=this.props.sharedMedia.findIndex(function(b){a.state.photoData!=null||j(0,1033);return b.node.id===a.state.photoData.node.id});f=b("React").jsxs("div",{children:[this.$6(),this.props.disablepaging?null:b("React").jsx(b("SpotlightMessagesViewerPagers.react"),{disablePrevArrow:f<=0&&!this.props.hasPrevPage,disableNextArrow:!this.props.hasNextPage&&f>=this.props.sharedMedia.length-1})]});return b("React").jsxs("span",{children:[b("React").jsxs(b("SpotlightViewer"),{className:"_53vs",onHide:this.$7,open:this.props.photoID!==null,ref:"spotlightViewer",rootClassName:this.props.rootClassName,children:[b("React").jsx(b("SpotlightViewport"),{active:!1,fadeInNOut:!0,media:c,onClick:this.$4,ref:"viewport",showLoadingIndicator:e,stageDimensions:d,useWidth:!0,children:f}),this.$8()]}),this.$9(),this.$10()]})};d.$6=function(){if(!this.state.photoData)return null;var a=this.state.photoData.node.legacy_attachment_id;a=b("XMessagingPhotoDownloadController").getURIBuilder().setString("photo_id",a).getURI();this.props.actorid&&(a=b("ActorURI").create(a,this.props.actorid));return b("React").jsx(b("MessengerPhotoViewHeader.react"),{disableForward:this.props.disableForward,onClose:this.$7,openInfo:this.$11,photoID:this.props.photoID,ref:"photoviewheader",showForwardDialog:this.$12,url:a})};d.$13=function(a){return a?Math.ceil(a/n):o};d.$8=function(){var a=this;if(!this.state.photoData)return null;var c=this.state.photoData,d=b("React").jsx("button",{className:"_2n5b",onClick:function(){return a.props.openAlbum(c.node.legacy_attachment_id)},type:"button",children:b("React").jsx("div",{"aria-label":i._("Th\u01b0 vi\u1ec7n \u1ea3nh to\u00e0n m\u00e0n h\u00ecnh"),className:"_3por"})});return b("React").jsxs(l,{children:[b("React").jsx(b("MessengerPhotoViewHScroll.react"),{onScroll:this.$14,photoID:c.node.legacy_attachment_id,sharedPhotos:this.props.sharedMedia,width:this.state.stageDimensions.x}),d]})};d.$9=function(){if(!this.state.photoData||this.props.disableForward)return null;var a=i._("Chuy\u1ec3n ti\u1ebfp qua nhi\u1ec1u tin nh\u1eafn ri\u00eang");return b("React").jsx(k,{attachmentID:this.state.photoData.node.legacy_attachment_id,onClose:this.$15,shown:this.state.showForward,title:a})};d.$10=function(){return this.state.showInfo?b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{}),children:b("React").jsx(q,{closeInfo:this.$16,infoOpen:this.state.showInfo,photoID:this.state.photoData.node.id})}):b("React").jsx("xhp",{})};d.$17=function(a){var c=this.$13(this.state.stageDimensions.x),d=this.props.sharedMedia;a<=c/2?(b("MessengerSharedMediaActions").loadMoreLatest(this.props.threadID,d[0].cursor,c),d.length<c&&this.props.hasNextPage&&b("MessengerSharedMediaActions").loadMorePrevious(this.props.threadID,d[d.length-1].cursor,c)):a>=d.length-c/2&&this.props.hasNextPage&&b("MessengerSharedMediaActions").loadMorePrevious(this.props.threadID,d[d.length-1].cursor,c)};d.$3=function(){var a=new(b("Vector"))(b("Vector").getViewportDimensions().x,b("Vector").getViewportDimensions().y-m);return a};d.$5=function(){__p&&__p();if(this.state.photoData&&this.state.photoData.node){var a=this.state.photoData.node;if(a.__typename&&a.__typename==="MessageVideo")return this.$18();var d=this.state.stageDimensions,e=this.$19(a,d);if(!e)return null;if(a.photo_encodings&&a.photo_encodings.length!==0)return this.$20(a.legacy_attachment_id,e,a.photo_encodings,d);a=c.getImageDimensionsForStage(new(b("Vector"))(e.width,e.height),d);return this.$21(e,a)}else return null};d.$18=function(){return this.state.photoData?b("React").jsx(b("MessengerVideoPlayer.react"),{isVisible:!0,isOnStage:!0,videoData:this.state.photoData.node,stageDimensions:this.state.stageDimensions}):null};d.$21=function(a,c){return b("React").jsx(b("SpotlightViewerImage"),{dimensions:c,ref:"image",src:a.uri})};d.$20=function(a,c,d,e){return b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SpotlightViewerSphericalPhoto.react").__setRef("SpotlightMessengerSharedMediaViewer.react"),bootloadPlaceholder:b("React").jsx("div",{}),height:e.y,width:e.x,fbid:a,thumbnail:c.uri,photoEncodings:d,stageDimensions:this.state.stageDimensions})};d.$19=function(a,c){c=b("PhotoUtils").getImagesFromData(a);return c[c.length-1]};return c}(b("React").Component);a.propTypes={disableForward:(c=b("prop-types")).bool,hasPrevPage:c.bool,hasNextPage:c.bool,onClosePhotoView:c.func,openAlbum:c.func,photoID:c.string,rootClassName:c.string,threadID:c.string,sharedMedia:c.arrayOf(c.object)};a.getImageDimensionsForStage=function(a,c){var d=a.x;a=a.y;var e=c.x;c=c.y;var f=d/a,g=e/c;d>=e||a>=c?g<f?(d=e,a=Math.round(e/f)):g>f?(d=Math.round(c*f),a=c):(d=e,a=c):f<g?d=Math.round(a*f):a=Math.round(d/f);return new(b("Vector"))(d,a)};var q=b("lazyLoadComponent")(b("JSResource")("MessengerPhotoInfoDialogContainer.react").__setRef("SpotlightMessengerSharedMediaViewer.react"));e.exports=a}),null);
__d("SpotlightMessengerSharedMediaViewerContainer.react",["FluxContainer","MessengerSharedMediaActions","MessengerSharedMediaStore","React","SpotlightMessengerSharedMediaViewer.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("MessengerSharedMediaStore")]};c.calculateState=function(a,c){a=b("MessengerSharedMediaStore").getState();var d=a.sharedMedia.get(c.threadID);a=a.isLoading.get(c.threadID);return{sharedMedia:d,isLoading:a}};var d=c.prototype;d.componentDidMount=function(){b("MessengerSharedMediaActions").loadCurrent(this.props.threadID,this.props.photoID)};d.render=function(){var a=this;if(!this.state.sharedMedia)return null;var c=this.state.sharedMedia&&this.state.sharedMedia.edges.find(function(b){return b.node.legacy_attachment_id===a.props.photoID});return!c?null:b("React").jsx(b("SpotlightMessengerSharedMediaViewer.react"),{disableForward:this.props.disableForward,hasPrevPage:this.state.sharedMedia&&this.state.sharedMedia.has_previous_page,hasNextPage:this.state.sharedMedia&&this.state.sharedMedia.has_next_page,onClosePhotoView:this.props.onClosePhotoView,openAlbum:this.props.openAlbum,photoID:this.props.photoID,rootClassName:this.props.rootClassName,sharedMedia:this.state.sharedMedia&&this.state.sharedMedia.edges,threadID:this.props.threadID})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MessengerThreadSharedPhotos.react",["cx","MessengerSharedPhotosAlbumViewContainer.react","React","SpotlightMessengerSharedMediaViewerContainer.react","SpotlightViewer","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={photoView:c.props.findFBID,albumView:""},c.$3=function(a){c.setState({albumView:a,photoView:""})},c.$4=function(){c.setState({albumView:""})},c.$5=function(a){c.setState({albumView:"",photoView:a})},c.$6=function(){c.setState({photoView:""})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(){!this.state.photoView&&!this.state.albumView&&this.props.onCloseSharedPhotos()};d.render=function(){var a=this.state.photoView?this.$1():null,c=this.state.albumView?this.$2():null;return b("React").jsxs("div",{children:[c,a]})};d.$1=function(){return b("React").jsx(b("SpotlightMessengerSharedMediaViewerContainer.react"),{disableForward:!1,onClosePhotoView:this.$6,openAlbum:this.$3,photoID:this.state.photoView,rootClassName:"",threadID:this.props.threadFBID})};d.$2=function(){return b("React").jsx(b("SpotlightViewer"),{className:"_3ode",onHide:this.$4,open:!0,ref:"spotlightViewer",children:b("React").jsx(b("MessengerSharedPhotosAlbumViewContainer.react"),{onClick:this.$5,onCloseSharedPhotos:this.props.onCloseSharedPhotos,threadID:this.props.threadFBID,viewedPhoto:this.state.albumView})})};return c}(b("React").Component);a.propTypes={findFBID:b("prop-types").string,onCloseSharedPhotos:b("prop-types").func,threadFBID:b("prop-types").string};e.exports=a}),null);
__d("MessengerThreadSharedPhotosReact.bs",["ReasonReact.bs","MessengerThreadSharedPhotos.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerThreadSharedPhotos.react"),{findFBID:a,onCloseSharedPhotos:c,threadFBID:d},e)}f.make=a}),null);
__d("MessengerVideoPlayerReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerVideoPlayer.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k){var l;return b("ReasonReact.bs").wrapJsForReason(b("MessengerVideoPlayer.react"),{attachment:(l=b("bs_js_null_undefined")).fromOption(a),className:l.fromOption(c),isInThread:l.fromOption(d),isVisible:l.fromOption(e),isOnStage:l.fromOption(f),stageDimensions:l.fromOption(g),videoData:h,onClick:l.fromOption(i),onSelect:l.fromOption(j)},k)}f.make=a}),null);
__d("MessengerVideoReact.bs",["cx","ix","bs_curry","Image.bs","React","bs_caml_option","ReasonReact.bs","joinClasses","MessengerPhotoReact.bs","MessengerVideoPlayerReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){a=a.metadata;if(!(a==null)&&!(a.fbid==null)){var b=window.screen.width>1800&&!(a.large_size==null)&&!(a.large_preview==null),c=a.fbid,d=b?a.large_size:a.inbox_size;d=d==null?{x:0,y:0}:{x:d.width,y:d.height};b=b?a.large_preview:a.inbox_preview;return{legacy_attachment_id:c,original_dimensions:d,start_muted:!0,hide_controls_on_finish:!0,url:b,is_share:!1}}return{legacy_attachment_id:null,original_dimensions:null,start_muted:!0,hide_controls_on_finish:!0,url:null,is_share:!1}}function j(a){var b=a%60,c=b<10;return String(a/60|0)+(":"+((c?"0":"")+String(b)))}function a(a){__p&&__p();var c=a.className,d=a.attachment,e=a.isSingle,f=a.onAttachmentLoad,g=a.isVisible,k=a.onClick,l=a.onSelect,m=c!==void 0?c:"";a=function(a){a=d.metadata;var c=d.media;c=a==null?c==null?void 0:b("bs_caml_option").nullable_to_opt(c.duration):b("bs_caml_option").nullable_to_opt(a.duration);if(c!==void 0)return j(c);else return null};var n=function(a){if(k!==void 0)return b("bs_curry")._1(k,d);else return 0};c=function(a){var c=a.legacy_attachment_id;if(c==null)return;else return b("bs_caml_option").some(b("ReasonReact.bs").element(void 0,void 0,b("MessengerVideoPlayerReact.bs").make(b("bs_caml_option").some(d),b("joinClasses")(m,"_ccq","_4tsk","_3o67",e?"_52mr":"",e?"_1byr":""),!0,g,void 0,void 0,a,n,l,[])))};var o=i(d);c=c(o);if(c!==void 0)return b("bs_caml_option").valFromOption(c);else{o={className:b("joinClasses")(m,"_ccq"),attachment:d,isSingle:e,children:[b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make("_ccr",void 0,void 0,void 0,h("27983"),void 0,void 0,void 0,void 0,[])),b("React").createElement("span",{className:"_ccs"},a(0))]};f!==void 0&&(o.onAttachmentLoad=b("bs_caml_option").valFromOption(f));k!==void 0&&(o.onClick=b("bs_caml_option").valFromOption(k));return b("React").createElement(b("MessengerPhotoReact.bs").make,o)}}c=1800;d=a;f.large_window_width=c;f.constructVideoData=i;f.formatDuration=j;f.make=d}),null);
__d("MessengerXMATextBlock.react",["cx","LineClamp.react","React","ShimButton.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=26;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.url!=null&&c.props.url!=""&&window.open(c.props.url)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){if(!this.props)return b("React").jsx("div",{className:"__6j"});var a=this.props.width!=null?{maxWidth:this.props.width-h,textAlign:"left"}:{textAlign:"left"},c={textDecoration:"none"};return b("React").jsx("div",{className:b("joinClasses")(this.props.className,"__6j _43kk _6ude"),style:a,children:b("React").jsxs(b("ShimButton.react"),{form:"link",onClick:this.$1,style:c,children:[this.renderTitle(),this.renderDescription(),this.renderSource()]})})};d.renderTitle=function(){return this.props.title==null?null:b("React").jsx("div",{className:"__6k",children:b("React").jsx(b("LineClamp.react"),{lines:2,lineHeight:16,children:this.props.title})})};d.renderDescription=function(){if(this.props.description==null)return null;var a=this.props.width!=null?{maxWidth:this.props.width-h}:{};return b("React").jsx("div",{className:"__6l",style:a,children:b("React").jsx(b("LineClamp.react"),{lines:2,lineHeight:15,children:this.props.description})})};d.renderSource=function(){return this.props.source==null?null:b("React").jsx("div",{className:"__6m",children:b("React").jsx(b("LineClamp.react"),{lines:1,lineHeight:14,children:this.props.source})})};return c}(b("React").Component);a.propTypes={className:(c=b("prop-types")).string,description:c.string,source:c.string,title:c.string,url:c.string,width:c.number,isFromViewer:c.bool,attachment:c.object};e.exports=a}),null);
__d("MessengerXMATextBlockReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerXMATextBlock.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k){var l;return b("ReasonReact.bs").wrapJsForReason(b("MessengerXMATextBlock.react"),{className:(l=b("bs_js_null_undefined")).fromOption(a),description:l.fromOption(c),source:l.fromOption(d),title:l.fromOption(e),url:l.fromOption(f),width:l.fromOption(g),threadID:l.fromOption(h),isFromViewer:l.fromOption(i),attachment:l.fromOption(j)},k)}f.make=a}),null);
__d("MessengerVideoXMAReact.bs",["cx","React","bs_caml_option","ReasonReact.bs","joinClasses","MessengerVideoPlayerReact.bs","MessengerXMATextBlockReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){__p&&__p();if(a==null)return null;else{var b=a.width>a.height?a.width:a.height,c=window.screen.width>1800;c=c?640:450;if(b<=c)return{x:a.width,y:a.height};else{c=c/b;b=a.width*c|0;a=a.height*c|0;return{x:b,y:a}}}}function i(a){var b=a.media;a=a.target;if(b==null||a==null||b.image_size==null||a.video_id==null)return;else{var c=b.image_size;return{legacy_attachment_id:a.video_id,original_dimensions:h(c),start_muted:!0,hide_controls_on_finish:!0,url:b.image,is_share:!0}}}function a(a){__p&&__p();var c=a.className,d=a.attachment,e=a.isVisible,f=a.onSelect,g=a.threadID,h=a.isFromViewer,j=c!==void 0?c:"";a=function(a){if(a!==void 0)return b("ReasonReact.bs").element(void 0,void 0,b("MessengerVideoPlayerReact.bs").make(b("bs_caml_option").some(d),b("joinClasses")(j,"_ccq","_4tsk","_3o67","_52mr","_1byr"),!0,e,void 0,void 0,b("bs_caml_option").valFromOption(a),void 0,f,[]));else return null};c=function(a){var c;return b("ReasonReact.bs").element(void 0,void 0,b("MessengerXMATextBlockReact.bs").make("_2f5n _4br2 _29ew _3dug",(c=b("bs_caml_option")).nullable_to_opt(d.description),c.nullable_to_opt(d.source),c.nullable_to_opt(d.video_title),c.nullable_to_opt(d.uri),a!==void 0?b("bs_caml_option").valFromOption(a).x:void 0,g,h,b("bs_caml_option").some(d),[]))};var k=i(d);a=a(k);return b("React").createElement("div",{className:"_3duc"},a,c(k!==void 0?b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(k).original_dimensions):void 0))}c=640;d=450;e=1800;g=a;f.large_preview_dim=c;f.thumbinail_inbox_dim=d;f.large_window_width=e;f.adjustSize=h;f.constructVideoData=i;f.make=g}),null);
__d("MessengerPhotosGroupReact.bs",["cx","URI","bs_block","bs_curry","React","Utils.bs","ActorURI","bs_belt_Array","LogHistory","MercuryIDs","bs_belt_Option","bs_caml_option","ReasonReact.bs","joinClasses","bs_caml_primitive","bs_js_null_undefined","MessagesViewerSetID","MessengerPhotoReact.bs","MessengerVideoReact.bs","MercuryAttachmentType","getPageIDFromThreadID","MessengerVideoXMAReact.bs","bs_caml_builtin_exceptions","ChatSpeakingStickerReact.bs","MercuryAttachmentPayload.bs","MessengerAttachmentViewer","MessengerThreadSharedPhotosReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i="empty-spacer";a=b("LogHistory").getInstance("messenger_photo_group");var j=b("ReasonReact.bs").reducerComponent("MessengerPhotosGroup");function k(a,c,d,e,f,g,k,l,m,n,o,p,q,r){__p&&__p();var s=d!==void 0?d:"",t=function(a){a=a.length;var c=a===2||a===4;return b("joinClasses")(s,"_2n8h",a===1?"_2n8i":"",c?"_4ksk":"",a>1&&!c?"_2n8k":"","_5fk1")},u=function(a){__p&&__p();if(l!==void 0){a=b("bs_caml_option").valFromOption(l);var c=a.thread_fbid;if(c==null)return b("MercuryIDs").getThreadFBIDFromThreadID(a.thread_id);else{var d=b("bs_caml_primitive").caml_string_compare(c,"")===0;if(d)return b("MercuryIDs").getThreadFBIDFromThreadID(a.thread_id);else return c}}else return null},v=function(a,c){var d=u(0);c=c.metadata;c=c==null?null:c.fbid;return b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadSharedPhotosReact.bs").make(c,function(c){return b("bs_curry")._1(a[3],0)},d,[]))},w=function(d,j,l,r){__p&&__p();var s=j.deduplication_key,t=j.metadata;if(s==null)if(t==null){var v=j.upload_id;v=v==null?"":v}else{t=t.fbid;v=t==null?"":t}else v=s;var w;if(l||f===!0){t=j.large_preview_url==null;if(t)w=void 0;else{var x=j.large_preview_url;w=function(a){return window.open(x)}}}else{var y=j.metadata;s=0;if(y==null||y.fbid==null)s=1;else{l=j.app_attribution==null;w=l?function(a){return b("bs_curry")._1(d[3],[a])}:function(c){__p&&__p();var d=y;c=c;if(b("Utils.bs").isTruthy(c.preview_uploading))return 0;else if(c.attach_type===b("MercuryAttachmentType").VIDEO){var f=d.dimensions;f=f==null?{x:null,y:null}:{x:f.width,y:f.height};b("MessengerAttachmentViewer").renderVideo({pageID:b("bs_js_null_undefined").fromOption(o),rootClassName:"_1j1h",videoID:d.fbid,videoSize:f,videoURI:c.url});return 0}else if(c.attach_type===b("MercuryAttachmentType").PHOTO||c.attach_type===b("MercuryAttachmentType").THIRDPARTYSTICKER||c.attach_type===b("MercuryAttachmentType").ANIMATED_IMAGE){f=a.length===1;var i=c.url;if(g!==!0&&c.attach_type===b("MercuryAttachmentType").PHOTO&&e!==void 0){var j=u(0),k=e===1;j=new(h||(h=b("URI")))("/ajax/messaging/attachments/sharedphotos.php").setQueryData({thread_id:j,image_id:d.fbid});j=o!==void 0?new(b("ActorURI").create)(j,b("bs_caml_option").valFromOption(o)):j;j=[b("MessagesViewerSetID").MESSAGES_VIEW_ALL_IN_THREAD,j,k]}else j=[null,i,f];b("MessengerAttachmentViewer").bootstrapWithConfig({actorid:b("bs_js_null_undefined").fromOption(o),dimensions:d.dimensions,disableForward:o!==void 0,disablePaging:j[2],endpoint:j[1],fbid:d.fbid,rootClassName:"_1j1h",setID:j[0],snapToPhoto:!0,src:c.preview_url});return 0}else if(c.uri==null)return 0;else return window.open(c.uri)}}if(s===1){t=j.uri==null;if(t)w=void 0;else{var z=j.uri;w=function(a){return window.open(z)}}}}l=b("bs_belt_Option").getWithDefault(c,j.attach_type);if(l===b("MercuryAttachmentType").PHOTO||l===b("MercuryAttachmentType").ANIMATED_IMAGE||l===b("MercuryAttachmentType").THIRDPARTYSTICKER){s={attachment:j,isSingle:r,children:[]};k!==void 0&&(s.isVisible=b("bs_caml_option").valFromOption(k));m!==void 0&&(s.onAttachmentLoad=b("bs_caml_option").valFromOption(m));w!==void 0&&(s.onClick=b("bs_caml_option").valFromOption(w));return b("React").jsx(b("MessengerPhotoReact.bs").make,s,v)}else if(l===b("MercuryAttachmentType").VIDEO){t=j.metadata;if(!(t==null)&&b("Utils.bs").isTruthy(t.render_as_sticker)){s=t.dimensions;t=s==null?{height:null,width:null}:{height:s.height,width:s.width};s=j.url;return b("ReasonReact.bs").element(void 0,void 0,b("ChatSpeakingStickerReact.bs").make(s,t,[]))}if(g===!0){s={attachment:j};k!==void 0&&(s.isVisible=b("bs_caml_option").valFromOption(k));n!==void 0&&(s.onSelect=b("bs_caml_option").valFromOption(n));p!==void 0&&(s.threadID=b("bs_caml_option").valFromOption(p));q!==void 0&&(s.isFromViewer=b("bs_caml_option").valFromOption(q));return b("React").jsx(b("MessengerVideoXMAReact.bs").make,s,v)}else{t={attachment:j,isSingle:r};m!==void 0&&(t.onAttachmentLoad=b("bs_caml_option").valFromOption(m));k!==void 0&&(t.isVisible=b("bs_caml_option").valFromOption(k));w!==void 0&&(t.onClick=b("bs_caml_option").valFromOption(w));n!==void 0&&(t.onSelect=b("bs_caml_option").valFromOption(n));return b("React").jsx(b("MessengerVideoReact.bs").make,t,v)}}else if(l===i){s={className:"_4tsk _4rf-"};r=b("bs_caml_option").nullable_to_opt(j.key);r!==void 0&&(s.key=b("bs_caml_option").valFromOption(r));return b("React").createElement("div",s)}else throw[b("bs_caml_builtin_exceptions").invalid_argument,l+" is not handled by MessengerPhotosGroup"]},x=function(c,a,d){__p&&__p();if(a.length!==1){var e=a.length===2||a.length===4,f=e?2:3;e=[];var g=[0],j=a.length;while(g[0]<j){var k=b("bs_caml_primitive").caml_int_min(f,j-g[0]|0);k=b("bs_belt_Array").makeBy(f,function(e){return function(k){var j=k<e;if(j)return w(c,a[g[0]+k|0],d,!1);else{j="ghost"+String(f-k|0);k=b("MercuryAttachmentPayload.bs").create(i,b("bs_caml_option").some(j),new(h||(h=b("URI")))(""));return w(c,k,d,!1)}}}(k));e.push(b("React").createElement("div",{key:String(g[0]),className:"_2n8g"},k));g[0]=g[0]+f|0}return e}else{k=a[0];return w(c,k,d,!0)}};return[j[0],j[1],j[2],j[3],function(a){b("MessengerAttachmentViewer").preload();return 0},j[5],j[6],j[7],function(c){var d=l!==void 0?!(b("getPageIDFromThreadID")(b("bs_caml_option").valFromOption(l).thread_id)==null):!1;d=x(c,a,d);var e=c[1][0];c=e!==void 0?v(c,b("bs_caml_option").valFromOption(e)):null;return b("React").createElement("div",{className:t(a),tabIndex:0},c,d)},function(a){return[void 0]},j[10],function(a,c){if(a)return b("bs_block").__(0,[[b("bs_caml_option").some(a[0])]]);else return b("bs_block").__(0,[[void 0]])},j[12]]}c=b("ReasonReact.bs").wrapReasonForJs(j,function(a){var c;return k(a.attachments,(c=b("bs_caml_option")).nullable_to_opt(a.attachType),c.nullable_to_opt(a.className),c.nullable_to_opt(a.count),c.nullable_to_opt(a.isPageMessage),c.nullable_to_opt(a.isXMA),c.nullable_to_opt(a.isVisible),c.nullable_to_opt(a.message),c.nullable_to_opt(a.onAttachmentLoad),c.nullable_to_opt(a.onSelect),c.nullable_to_opt(a.pageID),c.nullable_to_opt(a.threadID),c.nullable_to_opt(a.isFromViewer),[])});d=b("bs_belt_Option").getWithDefault;f.$pipe$question=d;f.empty_spacer_type=i;f.history=a;f.component=j;f.make=k;f.jsComponent=c}),null);
__d("MessengerPhotosGroup.react",["MessengerPhotosGroupReact.bs"],(function(a,b,c,d,e,f){"use strict";a=b("MessengerPhotosGroupReact.bs").jsComponent;e.exports=a}),null);
__d("MessengerStickerUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){return!!(a&&a.attach_type==="sticker")}function h(a){var b=a.attachments;return!!(a.is_like_preview||a.sticker_id||b&&b.length===1&&g(b[0]))}function a(a){return a.size===1&&h(a.first())}e.exports={isStickerMessageGroup:a,isStickerMessage:h,isStickerAttachment:g}}),null);
__d("MercuryShareAttachmentRenderLocations.bs",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){if(a!==void 0)return a===1;else return!1}function b(a){switch(a){case 0:return"chat";case 1:return"chat_preview";case 2:return"messenger";case 3:return"pages_inbox"}}f.isPreview=a;f.getValue=b}),null);
__d("MessengerVoiceClipAttachmentReact.bs",["cx","cssVar","React","ReactStyle.bs","bs_caml_option","MessengerColors","MessengerCustomColorUtils.bs","MessengerDotComAndInboxM4Check.bs","MercuryAttachmentAudioClip.react","WorkChatRedesignedMessageListCheck.bs","MercuryShareAttachmentRenderLocations.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.attachment,d=a.customColor,e=a.message;a=a.thread;var f=c.metadata,g;if(f==null)g=0;else{f=f.duration;g=f==null?0:f/1e3}f=c.app_attribution!==null;var h=d!==void 0;a=d!==void 0?b("MessengerDotComAndInboxM4Check.bs").yes?b("ReactStyle.bs").unsafeAddProp(b("MessengerColors").makeLinearGradient(a.gradient_colors,a.solid_color,b("MessengerCustomColorUtils.bs").defaultColor(0)),"backgroundAttachment","fixed"):{backgroundColor:d}:b("WorkChatRedesignedMessageListCheck.bs").enabled?{backgroundColor:"#ece9e7"}:{};e="audio:"+e.message_id;c={src:c.url.toString(),duration:g,location:b("MercuryShareAttachmentRenderLocations.bs").getValue(2),rootClassName:"_3czg"+(f?" _4yjw":"")+" _2poz _ui9",showHelp:!1,width:200};d!==void 0&&(c.customColor=b("bs_caml_option").valFromOption(d));return b("React").jsx("div",{children:b("React").jsx(b("MercuryAttachmentAudioClip.react"),c,e),className:(b("WorkChatRedesignedMessageListCheck.bs").enabled?"":"_hh7")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6ybn":"")+(b("WorkChatRedesignedMessageListCheck.bs").enabled?"":" _s1-")+(h?" _5sxi":"")+(f?"":" _52mr")+(f?" _mxz":"")+" _1fz8"+(f?" _1-wa":"")+" _1nqp",style:a})}c=a;f.make=c}),null);
__d("MessengerVoiceClipAttachmentReact.re",["MessengerVoiceClipAttachmentReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerVoiceClipAttachmentReact.bs").make;f.make=a}),null);
__d("XStickerInTrayController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stickers/in_tray/",{pack_id:{type:"Int",required:!0}})}),null);
__d("StickersPackInTrayQuery",["Promise","AsyncRequest","RelayFBEnvironment","RelayModern","XStickerInTrayController","StickersPackInTrayQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").fetchQuery;b("RelayModern").graphql;var i=g!==void 0?g:g=b("StickersPackInTrayQuery.graphql");a={onIsPackInTray:function(a,c,d){__p&&__p();return h(b("RelayFBEnvironment"),i,{stickerInterface:c}).then(function(c){__p&&__p();c=c&&c.length>0?c[0]:null;var e=c==null?void 0:(c=c.sticker_store)==null?void 0:(c=c.tray_packs)==null?void 0:c.edges;if(e)return new(b("Promise"))(function(b,c){return b({in_sticker_tray:e.filter(function(b){return b.node.id===a}).length>0})}).then(d);var f=b("XStickerInTrayController").getURIBuilder().setInt("pack_id",a).getURI();return new(b("Promise"))(function(a,c){return new(b("AsyncRequest"))(f).setHandler(function(b){return a(b.getPayload())}).setAllowCrossPageTransition(!0).send()}).then(d)})}};e.exports=a}),null);
__d("isRetina",[],(function(a,b,c,d,e,f){"use strict";e.exports=function(){return(window.devicePixelRatio||1)>1}}),null);
__d("MessengerAttachmentRenderer",["cx","requireCond","EmojiSticker.react","MercuryAttachment","MercuryAudioType","MercuryIDs","MercuryShareAttachment.react","MercuryShareAttachmentRenderLocations","MessengerErrorAttachment.react","MessengerFileAttachment.re","MessengerFromViewerUtils","MessengerHotLikePreview.react","MessengerHotLikeUtils","MessengerPhotosGroup.react","MessengerStickerUtils","MessengerSupportedEmojiUtils","MessengerVoiceClipAttachmentReact.re","React","Sticker.react","StickerConstants","StickersActions","StickersPackInTrayQuery","StickersStoreController","StickerUtils","cr:1083029","XStickerAssetController","isRetina"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerFileAttachment.re").make,i=b("MessengerVoiceClipAttachmentReact.re").make,j=700,k="sticker:",l="share:",m="_1c_u",n="_3o6m",o=function(a){return a===Object(a)};a={getAttachmentsInsideBubble:function(a,c){var d=this,e=b("MercuryAttachment").get(a).filter(o).filter(function(a){return!d.attachmentShouldAppearOutsideBubble(a)});return this._getAttachmentComponents(e,a,c)},getAttachmentsOutsideBubble:function(a,c,d,e,f){var g=this,h=b("MercuryAttachment").get(a).filter(o).filter(function(a){return g.attachmentShouldAppearOutsideBubble(a)});return this._getAttachmentComponents(h,a,c,d,e,f)},_getAttachmentComponents:function(a,c,d,e,f,g){var h=this,i=this._getPhotosGroup(a.filter(b("MercuryAttachment").isPhotoGroupAttachment),c,d,e);a=a.filter(function(a){return!b("MercuryAttachment").isPhotoGroupAttachment(a)}).map(function(a){return h._getAttachmentComponent(a,c,d,e,f,g)});i&&a.push(i);return a},_getAttachmentComponent:function(a,c,d,e,f,g){__p&&__p();var h=e&&e.customColor,i=e&&e.onUnwrap,j=e&&e.isVisible,k=e&&e.isFromViewer,l=e&&e.isPageMessage;e=e&&e.onSelect;if(b("MessengerStickerUtils").isStickerAttachment(a))return this._getStickerComponent(a,c,h,i,g);if(this.isEmojiLikeAttachment(a))return this._getEmojiLikeAttachment(a,c,i);if(this.isVoiceClip(a))return this._getVoiceClip(a,c,h,i,g);if(this.isFileAttchment(a))return this._getFileComponent(a,c);if(this.isP2P(a)||this.isShareAttachment(a))return this._getShareAttachment(a,c,d,j,k,l,e,f);return this.isErrorAttachment(a)?this._getErrorAttachment(a,c):null},_getStickerComponent:function(a,c,d,e,f){__p&&__p();if(c.is_like_preview)return b("React").jsx(b("MessengerHotLikePreview.react"),{customColor:d,customLike:c.customLike,since:c.like_preview_since,thread:f,location:b("MercuryShareAttachmentRenderLocations").MESSENGER},"hlp:"+c.like_preview_since);e=a.metadata;if(!e){e=b("MessengerHotLikeUtils").getMetadataForHotLike(c.sticker_id);if(!e){e={};a=b("StickerUtils").getScaledDimensions(b("StickerConstants").THREAD_SIZE,b("StickerConstants").THREAD_SIZE,b("StickerConstants").THREAD_SIZE);var g=a.height;a=a.width;e.height=g;e.width=a}e.stickerID=c.sticker_id}g=b("XStickerAssetController").getURIBuilder().setInt("sticker_id",e.stickerID);a=null;var h=null;b("isRetina")()?(a=e.paddedSpriteURI2x,h=e.spriteURI2x):(a=e.paddedSpriteURI,h=e.spriteURI);var i=e.stickerID.toString();d=b("React").jsx(b("Sticker.react"),{accessibilityLabel:e.accessibilityLabel,className:"_2poz _ui9",animationTrigger:"hover",customColor:(d=d)!=null?d:void 0,frameCount:e.frameCount||1,frameRate:e.frameRate||b("StickerConstants").DEFAULT_FRAME_RATE,framesPerCol:e.framesPerCol||1,framesPerRow:e.framesPerRow||1,onStickerClick:function(d,a){if(d==null)return;b("StickersPackInTrayQuery").onIsPackInTray(d,"messages",function(a){a.in_sticker_tray?(b("StickersActions").selectTrayPack(d),b("StickersActions").showStickerFlyout(c.thread_id)):b("StickersStoreController").showStore(d)})},packID:e.packID&&e.packID.toString(),paddedSpriteURI:a,sourceHeight:e.height,sourceURI:g.setEnum("image_type","BestEffortImage").getURI().toString(),sourceWidth:e.width,spriteURI:h,stickerID:i,testID:"sticker",thread:f},k+c.message_id);return d},_getEmojiLikeAttachment:function(a,c,d){d=b("MessengerSupportedEmojiUtils").transferSize(a.size);d=b("MessengerSupportedEmojiUtils").getHotLikeEmojiData(c.body,d)||b("MessengerSupportedEmojiUtils").getHotLikeEmojiDataTransition(c.body,d);if(!d)return this._getErrorAttachment(a,c);a=d.emoji;d=b("React").jsx(b("EmojiSticker.react"),{className:"_2poz _ui9",emoji:c.body,emojiImage:a,sourceURI:""},k+c.message_id);return d},_getShareAttachment:function(a,c,d,e,f,g,h,i){var k,m,n=null;c&&c.platform_xmd&&(n=JSON.parse(c.platform_xmd));m=(m=a)!=null?(m=m.share)!=null?(m=m.messenger_ctas)!=null?(m=m[0])!=null?m.page_id:m:m:m:m;k=(k=a)!=null?(k=k.share)!=null?(k=k.target)!=null?(k=k.items)!=null?(k=k[0])!=null?(k=k.call_to_actions)!=null?(k=k[0])!=null?k.page_id:k:k:k:k:k:k:k;m=m||k;k=m?b("MercuryIDs").getParticipantIDFromUserID(m):c.author;return b("React").jsx(b("MercuryShareAttachment.react"),{attachment:a.share,isFromViewer:f,isPageMessage:g,isSponsored:c.is_sponsored,isVisible:!!e,location:b("MercuryShareAttachmentRenderLocations").MESSENGER,maxWidth:j,messageID:c.message_id,mnMessageType:n&&n.template_type,onComponentLoaded:d,onSelect:h,pageID:k,threadID:c.thread_id,afterDecorators:i,timestamp:c.timestamp,author:c.author},l+c.message_id)},_getVoiceClip:function(a,c,d,e,f){d=b("MessengerFromViewerUtils").isFromViewer(c)?d||void 0:void 0;return b("React").jsx(i,{thread:f,attachment:a,customColor:d,message:c},"audio:"+c.message_id)},_getErrorAttachment:function(a,c){return b("React").jsx(b("MessengerErrorAttachment.react"),{attachment:a},"error:"+c.message_id)},_getPhotosGroup:function(a,c,d,e){if(!a.length)return null;var f=e&&e.onUnwrap;d=e&&e.isVisible;var g=e&&e.onSelect,h=e&&e.isPageMessage;e=e&&e.pageID;return b("React").jsx(b("MessengerPhotosGroup.react"),{attachments:a,className:"_2poz _52mr _ui9",count:a.length,isPageMessage:h,isVisible:!!d,message:c,onSelect:g,onUnwrap:function(){f&&f()},pageID:e},"photos:"+c.message_id)},getVideoElem:function(a,b){b=b.getMessageElement(a);if(!b)return null;a=b.getElementsByClassName(m);return a&&a.length?a[0]:b},getSphericalPhotoElem:function(a,b){b=b.getMessageElement(a);if(!b)return null;a=b.getElementsByClassName(n);return a&&a.length?a[0]:b},_rendersWithoutAttribution:function(a){return a.length!=1||!b("MercuryAttachment").hasAttribution(a[0])},_getFileComponent:function(a,c){return b("cr:1083029")!=null?b("React").jsx(b("cr:1083029"),{attachment:a,message:c},"file:"+a.url):b("React").jsx(h,{attachment:a},"file:"+a.url)},attachmentShouldAppearOutsideBubble:function(a){return b("MessengerStickerUtils").isStickerAttachment(a)||b("MercuryAttachment").isPhotoGroupAttachment(a)||this.isShareAttachment(a)||this.isP2P(a)||this.isVoiceClip(a)||this.isErrorAttachment(a)||this.isEmojiLikeAttachment(a)||this.isWorkFileAttachment(a)},isPhotosGroupAttachment:function(a){a=a.props.attachments;return!!a&&a.length>1&&a.some(function(a){return!!a&&b("MercuryAttachment").isPhotoGroupAttachment(a)})},isRenderedShareAttachment:function(a){return!!(a.key&&a.key.startsWith(l))},isFileAttchment:function(a){return a.attach_type==="file"},isShareAttachment:function(a){return!!(this._isStoryBased(a)&&!this.isP2P(a)&&(a.share.style_list.indexOf("share")>-1||a.share.style_list.indexOf("fallback")>-1))},isSharedVideoAttachment:function(a){a=a.attach_type==="share"&&a.share&&a.share.subattachments&&a.share.subattachments[0];return!!(a&&a.target&&a.target.video_id)},isP2P:function(a){return!!(this._isStoryBased(a)&&a.share.style_list.indexOf("orion")>-1)},_isStoryBased:function(a){return!!(a.attach_type==="share"&&a.share&&a.share.style_list)},isEmojiLikeAttachment:function(a){return a.attach_type==="emoji_like"},isWorkFileAttachment:function(a){return this.isFileAttchment(a)&&b("cr:1083029")!=null},isVoiceClip:function(a){a=a.metadata;return!!a&&(!!a.isAudio||a.type===b("MercuryAudioType").AudioClip||a.type===b("MercuryAudioType").VoiceMessageWithTranscript)},isVoiceClipAttachment:function(a){var c=this;a=b("MercuryAttachment").get(a).filter(o).filter(function(a){return c.isVoiceClip(a)});return!!a.length},isP2PAttachment:function(a){var c=this;a=b("MercuryAttachment").get(a).filter(function(a){return o(a)&&c.isP2P(a)});return!!a.length},isSingleVideoAttachment:function(a){a=b("MercuryAttachment").get(a).filter(o).filter(function(a){return b("MercuryAttachment").isVideoAttachment(a)});return a.length===1},isSharedVideoAttachmentMessage:function(a){var c=this;a=b("MercuryAttachment").get(a).filter(o).filter(function(a){return c.isSharedVideoAttachment(a)||c.isGenieSharedVideoAttachment(a)});return a.length===1},isGenieSharedVideoAttachment:function(a){return!!(a.attach_type==="share"&&a.share&&a.share.style_list.indexOf("genie_message")>-1&&a.share.target&&a.share.target.attachment&&this.isSharedVideoAttachment(a.share.target.attachment))},isSingleSphericalPhotoAttachment:function(a){a=b("MercuryAttachment").get(a).filter(o);if(a.length!==1)return!1;a=a.filter(function(a){return a.photo_encodings&&a.photo_encodings.length!==0}).length===1;return a},isErrorAttachment:function(a){return a.attach_type==="error"}};e.exports=a}),null);
__d("MessengerCodePasteUtils",["cx","BanzaiODS","MessengerBubble.react","MessengerFormattingUtils","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=/`{3,}/,i=3,j=/^\s+/,k=/\s+$/;function a(a){return!!(a!=null&&a.search(h)!==-1)}function l(a,b){__p&&__p();var c=0;if(b-2>=0){c+=a[b-2].trim().length;var d=a[b-2].match(k);d&&(c+=d[0].length)}b-1>=0&&(c+=a[b-1].length+2*i);d=a[b].match(j);d&&(c+=d[0].length);return c}function m(a,b,c){if(a)return a.map(function(a){return Object.assign(Object.assign({},a),{offset:a.offset-b})}).filter(function(a){return 0<=a.offset&&a.offset<c});else return a}function n(a){a=a.split("\n");return a.length===1?{language:"",code:a[0]}:{language:a[0].replace(/[^a-zA-Z]+/g,""),code:a.slice(1).join("\n")}}function o(a){__p&&__p();var c=b("MessengerFormattingUtils").getRanges(a).filter(function(a){return a.formatter===b("MessengerFormattingUtils").formatConfigs.blockquote.formatter||a.formatter===b("MessengerFormattingUtils").formatConfigs.blockcode.formatter}).sort(function(a,b){return a.offset!==b.offset?a.offset-b.offset:b.length-a.length}),d=[],e=0,f=0;for(var g=0;g<c.length;g++){var h=c[g];if(h.offset<f)continue;h.formatter===b("MessengerFormattingUtils").formatConfigs.blockcode.formatter&&(d.push(a.substring(e,h.offset)),d.push(h.innerText),e=h.offset+h.length);f=h.offset+h.length}d.push(a.substring(e));return d}function c(a,c,d,e,f,g){__p&&__p();a=o(a);var h=[],i=0;for(var j=0;j<a.length;j+=2){var k=a[j].trim();if(k&&k.length>0){i+=l(a,j);var p=c?m(c,i,k.length):c;h.push(b("React").jsx(b("MessengerBubble.react"),{body:k,customColor:e!=null?e:void 0,className:"clearfix _3058 _ui9",isFromViewer:f,ranges:p,threadID:d,thread:g},j))}if(j+1<a.length&&a[j+1]){k=n(a[j+1]);p=k.code;b("BanzaiODS").bumpEntityKey(3303,"messenger_code_paste","render_bubble");h.push(b("React").jsx("div",{className:"_3058 _wu0 _52mr",children:p},j+1))}}return h}e.exports={containsCodeBlock:a,getCodeAndMessageBubbles:c}}),null);
__d("MNRTCCallabilityStore",["MessengerDispatcher","RTCCallabilityStore"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("RTCCallabilityStore"))(b("MessengerDispatcher"))}),null);
__d("shouldNotRenderSegoe",["MessengerConfig","UserAgent"],(function(a,b,c,d,e,f){"use strict";var g=new RegExp("[\u0530-\u05f4\u10a0-\u10ff]"),h=b("UserAgent").isBrowser("Chrome")&&b("UserAgent").isPlatform("Windows 10");e.exports=function(a){return!b("MessengerConfig").SegoeUIDisabled&&h&&g.test(a)}}),null);
__d("MessengerBubble.react",["cx","fbt","invariant","requireCond","EmojiOnlyMessage.react","FlexLayout.react","MercuryIDs","MercuryMessageBody.react","MercuryMessageRenderLocations","MessageReplyPermissions","MessengerActions","MessengerCodeBubble.re","MessengerColors","MessengerContactActions.bs","MessengerCustomColorUtils.bs","MessengerDecorator","MessengerDotComAndInboxM4Check.bs","MessengerEnvironment","cr:1144065","MessengerSupportedEmojiUtils","React","RepliedToMessageContent.react","SimpleXUIDialog","cr:1144066","WorkChatRedesignedMessageListCheck.re","gkx","goURI","immutable","joinClasses","prop-types","shouldNotRenderSegoe"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MessengerCodeBubble.re").make,k=b("MessengerContactActions.bs").actions,l=0;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,e;for(var f=arguments.length,g=new Array(f),j=0;j<f;j++)g[j]=arguments[j];return(c=e=a.call.apply(a,[this].concat(g))||this,e.state={emojis:void 0},e.$2=function(a,c,f){__p&&__p();switch(a){case k.MESSAGE:e.$3(c,f);break;case k.PROFILE:a=b("MercuryIDs").getParticipantIDFromUserID(c.id);a=e.props.participants&&e.props.participants.get(a);if(a&&a.href){var g=b("MessengerEnvironment").messengerdotcom;g?window.open(a.href):b("goURI")(a.href)}else e.$3(c,f);break;case k.FREE_CALL:d(["FBRTCCore","MNRTCCallabilityStore"],function(a,d){var e=c.id;e||i(0,1247);a.isAvailableForWebrtcCalling(e)||d.isCallable(e)?a.startOutgoingCall(e,"messenger_bubble_free_call",!1):b("SimpleXUIDialog").show(h._("Hi\u1ec7n kh\u00f4ng th\u1ec3 li\u00ean h\u1ec7 v\u1edbi {firstname}.",[h._param("firstname",c.contactName)]),h._("Kh\u00f4ng th\u1ec3 k\u1ebft n\u1ed1i cu\u1ed9c g\u1ecdi"))});break}},c)||babelHelpers.assertThisInitialized(e)}var e=c.prototype;e.componentDidMount=function(){if(!this.props.emojis){var a=this.props.body||"";a=b("MessengerSupportedEmojiUtils").getEmojiOnlyContents(a);a&&a.length&&this.setState({emojis:a})}};e.$1=function(){__p&&__p();if(this.props.message!=null&&this.props.message.thread_id!=null&&this.props.message.tags!=null&&this.props.message.attachments!=null&&this.props.message.attachments.length>0){var a,c,d=this.props.message;a=(a=d.attachments[0].share)==null?void 0:(a=a.target)==null?void 0:a.sender_wec_number;c=(c=d.attachments[0].share)==null?void 0:(c=c.target)==null?void 0:c.sender_wec_number_formated;var e=d.thread_id.replace("user:",""),f=d.tags[l]!=="source:wa_callback",g=this.props.participants!=null&&this.props.participants.last()!=null&&this.props.participants.last().wec_group_participant_count==null;d=(d=d.attachments[0].share)==null?void 0:(d=d.target)==null?void 0:d.sender_wec_name;if(f||e===a||!this.props.wecFirstMessage||g)return null;if(a!=null&&d!=null)if(a===d)return b("React").jsx("div",{className:"_7ox8",children:c});else return b("React").jsxs("div",{className:"_7ox8",children:[c,"  ~",d]})}return null};e.render=function(){__p&&__p();var a=this,c=!1,d=null;this.state.emojis?d=b("React").jsx(b("EmojiOnlyMessage.react"),{contents:this.state.emojis}):(c=!0,d=b("React").jsx(b("MercuryMessageBody.react"),{ref:this.props.bodyRef,body:this.props.body,className:"_3oh-"+(b("shouldNotRenderSegoe")(this.props.body||"")?" _2por":"")+" _58nk",threadCustomColor:this.props.threadCustomColor,isFromViewer:this.props.isFromViewer,ranges:this.props.ranges,metaRanges:this.props.metaRanges,plainText:this.props.plainText,threadID:this.props.threadID,customLike:this.props.customLike,onContactSelect:this.$2,renderLocation:b("MercuryMessageRenderLocations").MESSENGER}));var e=[],f=[],g=this.props.message,h=!!this.props.isFromViewer;g&&!this.props.excludeAfterDecorators&&(b("MessengerDecorator").getAfterDecorators().forEach(function(b){b.check(g,h)&&(e.push(b.render(g,h,a.props)),f.push(b.getAdditionalClassNames()))}),b("MessengerDecorator").getBeforeDecorators().forEach(function(a){a.check(g,h)&&f.push(a.getAdditionalClassNames())}));var i=f.join(" "),k=null;this.props.body&&(this.props.containsCode?k=b("React").jsx(j,{body:this.props.body,className:this.props.className,customColor:this.props.customColor,isFromViewer:this.props.isFromViewer===!0,ranges:this.props.ranges||[],threadID:this.props.threadID||"",thread:this.props.thread}):this.props.is_forwarded&&b("gkx")("974812")?k=b("React").jsxs("blockquote",{className:"_8720",children:[b("React").jsx("div",{className:"_8721"}),d]}):k=b("React").jsxs("div",{className:"_aok"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7i2m":"")+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w6-":""),tabIndex:0,"aria-label":this.props.body,children:[d,this.props.attachments]}));var l=this.props.repliedToMessage&&b("MessageReplyPermissions").bubbleContainsRepliedToMessage(this.props.repliedToMessage,!!(!this.props.containsCode&&this.state.emojis))?b("React").jsx(b("RepliedToMessageContent.react"),{isFromViewer:this.props.isFromViewer,isLinkified:!0,isMessengerUI:!0,repliedToMessageData:this.props.repliedToMessage,scrollToRepliedMessage:this.props.scrollToRepliedMessage,replyInOneBubble:!0}):null,m=this.props.tooltip||{},n=this.props.isFromViewer&&!this.state.emojis&&!this.props.containsCode,o=b("MessengerDotComAndInboxM4Check.bs").yes&&this.props.thread&&n?babelHelpers["extends"]({backgroundAttachment:"fixed"},b("MessengerColors").makeLinearGradient(this.props.thread.gradient_colors,this.props.thread.solid_color,b("MessengerCustomColorUtils.bs").defaultColor())):{};return b("React").jsxs("div",babelHelpers["extends"]({},b("WorkChatRedesignedMessageListCheck.re").enabled?{}:m,{style:o,className:b("joinClasses")(i,this.props.className,(this.props.containsCode?"":"_hh7")+(b("MessengerDotComAndInboxM4Check.bs")&&!this.props.containsCode?" _6ybn":"")+(this.props.containsCode?" _4qoc":"")+(!this.props.isFromViewer&&this.props.containsCode?" _65sp":"")+(this.props.isFromViewer&&this.props.containsCode?" _65sq":"")+(this.props.containsCode?"":" _s1-")+(!this.props.containsCode&&!this.props.notBubblish?" _52mr":"")+(!this.props.containsCode&&this.props.isP2PAttachment?" _4z55":"")+(!this.props.containsCode&&!!this.state.emojis?" _2f5r":"")+(!this.props.containsCode&&!!this.state.emojis?" _581a":"")+(n?" _43by":"")+(b("MessengerDotComAndInboxM4Check.bs").yes&&n?" _6ybp":"")+(!this.props.containsCode&&c?" _3oh-":"")+(l?" _6uum":"")+(this.props.is_forwarded?" _8722":"")),children:[g==null||this.props.isPageMessage||this.props.isSavedView?null:b("cr:1144066")!=null?b("React").jsx(b("cr:1144066"),{message:g,hovered:this.props.isHovered,messageProps:{isFromViewer:this.props.isFromViewer===!0,onReplyToMessage:this.props.onReplyToMessage,handleToggleOriginal:this.props.handleToggleOriginal,hasFormatting:this.props.hasFormatting,isShowingOriginal:this.props.plainText}}):b("cr:1144065")!=null&&b("React").jsx(b("cr:1144065"),{className:"_1z_2",message:g,isFromViewer:!!this.props.isFromViewer,hovered:this.props.isHovered,onReplyToMessage:this.props.onReplyToMessage,messageProps:babelHelpers["extends"]({},this.props,{handleToggleOriginal:this.props.handleToggleOriginal,hasFormatting:this.props.hasFormatting,isShowingOriginal:this.props.plainText}),isSavedView:this.props.isSavedView}),l,this.$1(),k,k?null:d,k?null:this.props.attachments,e.length>1?b("React").jsx(b("FlexLayout.react"),{align:"center",className:"_7moe",children:e}):e]}))};e.$3=function(a,c){c&&c.preventDefault();c=b("MercuryIDs").getThreadIDFromUserID(a.id);c&&b("MessengerActions").selectThread(c)};return c}(b("React").PureComponent);a.propTypes={attachments:(c=b("prop-types")).instanceOf(b("immutable").List),body:c.string,customColor:c.string,customLike:c.object,excludeAfterDecorators:c.bool,isFromViewer:c.bool,message:c.object,metaRanges:c.array,notBubblish:c.bool,onUnwrap:c.func,participants:c.object,plainText:c.bool,ranges:c.array,threadID:c.string,threadCustomColor:c.string,onReplyToMessage:c.func,isHovered:c.bool,handleToggleOriginal:c.func,hasFormatting:c.func,isPageMessage:c.bool,isSavedView:c.bool,repliedToMessage:c.object,scrollToRepliedMessage:c.func,thread:c.object,wecFirstMessage:c.bool,is_forwarded:c.bool};e.exports=a}),null);
__d("MessengerCodeBubble.bs",["React","bs_caml_option","MessengerCodePasteUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var c=a.body,d=a.className,e=a.customColor,f=a.isFromViewer,g=a.ranges,h=a.threadID;a=a.thread;c=b("MessengerCodePasteUtils").getCodeAndMessageBubbles(c,g,h,e,f,a);g={children:c};d!==void 0&&(g.className=b("bs_caml_option").valFromOption(d));return b("React").jsx("div",g)}c=a;f.make=c}),null);
__d("MessengerCodeBubble.re",["MessengerCodeBubble.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerCodeBubble.bs").make;f.make=a}),null);
__d("MercuryAttachmentAttribution.react",["cx","fbt","Image.react","ImmutableObject","Link.react","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.$1();return!a?null:b("React").jsxs("div",{className:b("joinClasses")(this.props.className,"_29ew"),children:[b("React").jsx(b("Image.react"),{src:a.icon_url,className:"_29ex"}),b("React").jsx("span",{className:"_29ey",children:a.name}),this.$2()]})};d.$1=function(){return this.props.attachment&&this.props.attachment.app_attribution};d.$2=function(){var a=this.$1();if(!a||!a.metadata)return null;var c="_439n";try{a=JSON.parse(a.metadata)}catch(a){return null}return a.spotify_link?b("React").jsx(b("Link.react"),{className:c,href:a.spotify_link,target:"_blank",children:h._("M\u1edf")}):null};return c}(b("React").PureComponent);a.propTypes={attachment:b("prop-types").instanceOf(b("ImmutableObject"))};e.exports=a}),null);
__d("MessengerAttachmentAttribution.react",["cx","ImmutableObject","MercuryAttachmentAttribution.react","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("MercuryAttachmentAttribution.react"),{attachment:this.props.attachment,className:"_2f5n _4br2"})};return c}(b("React").Component);a.propTypes={attachment:b("prop-types").instanceOf(b("ImmutableObject"))};e.exports=a}),null);
__d("MessengerBubbleBlock.react",["cx","React","WorkChatRedesignedMessageListCheck.re"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:(b("WorkChatRedesignedMessageListCheck.re").enabled?"":"_52mr")+" _4h13"+(b("WorkChatRedesignedMessageListCheck.re").enabled?"":" _3058"),children:this.props.children})};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerMessageActionsWrapper.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.wrapper=null,c.mouseOverListenerAdded=!1,c.$4=function(){c.props.onShowMenu(c.props.message.message_id,!0),c.$2()},c.$3=function(){c.props.onShowMenu(c.props.message.message_id,!1),c.$1()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.componentWillUnmount=function(){this.$2()};d.render=function(){var a=this;return b("React").jsx("div",{onMouseLeave:this.$3,className:this.props.className,ref:function(b){return a.wrapper=b},children:this.props.children})};d.$1=function(){this.wrapper&&!this.mouseOverListenerAdded&&(this.wrapper.addEventListener("mouseover",this.$4),this.mouseOverListenerAdded=!0)};d.$2=function(){this.wrapper&&this.mouseOverListenerAdded&&(this.wrapper.removeEventListener("mouseover",this.$4),this.mouseOverListenerAdded=!1)};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerHotLikeOutlineSVG.react",["cssVar","fbt","CurrentUser","MercuryShareAttachmentRenderLocations","React","uniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="transparent",j=h._("D\u1ea5u hi\u1ec7u gi\u01a1 ng\u00f3n c\u00e1i");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={titleId:b("uniqueID")()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a,c;a=(a=this.props.color)!=null?a:b("CurrentUser").isWorkUser()?"#373e4c":"#0084ff";c={height:(c=this.props.height)!=null?c:"85%",width:this.props.width};if(this.props.location!==b("MercuryShareAttachmentRenderLocations").CHAT&&this.props.location!==b("MercuryShareAttachmentRenderLocations").PAGES_INBOX){var d;c.width=(d=this.props.width)!=null?d:"66%"}return b("React").jsxs("svg",{"aria-labelledby":this.state.titleId,version:"1.1",viewBox:"0 0 40.16 42.24",preserveAspectRatio:"xMinYMax meet",style:c,children:[b("React").jsx("title",{id:this.state.titleId,children:j}),b("React").jsx("path",{d:"M935.36,1582.44a0,0,0,0,0,0,.06,3.59,3.59,0,0,1-.72,6.53,0,0,0,0,0,0,0,3.56,3.56,0,0,1,.71,2.13,3.6,3.6,0,0,1-3,3.54, 0,0,0,0,0,0,.05,3.56,3.56,0,0,1,.38,1.61,3.61,3.61,0,0,1-3.42,3.6H910v-19.6l5.27-7.9a4,4,0,0,0,.66-2.31l-0.1-4c-0.22-2.4-.09-2.06, 1.13-2.37,2-.51,7.16,1.59,5.13,12.17h11.06A3.59,3.59,0,0,1,935.36,1582.44ZM899,1581h7v22h-7v-22Z",transform:"translate(-898.5 -1563.26)",fill:i,fillRule:"evenodd",stroke:a,strokeLinecap:"round",strokeWidth:"5%"})]})};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerHotLikeButtonInnerIcon.react",["cssVar","CurrentUser","EmojiLikeConstants","Image.react","MessengerCustomColorUtils.bs","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeOutlineSVG.react","MessengerSupportedEmojiUtils","React","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerHotLikeIconSVGM4React.bs").make;function a(a){__p&&__p();var c=a.CustomRenderer,d=a.customLike,e=a.customColor,f=a.location,g=a.disabled,i=a.renderSize;i=i===void 0?16:i;a=a.thread;var j=null,k={};if(d&&d.emoji){d=d.emoji;d=b("MessengerSupportedEmojiUtils").getNewEmojiData(d,b("EmojiLikeConstants").size.SMALL);k.background="none";j=b("React").jsx(b("Image.react"),{src:d&&d.url,style:{padding:i==16?0:3,display:"block",height:i,width:i}})}else if(c)j=b("React").jsx(c,{color:e,location:f,renderSize:i});else if(e)if(!b("CurrentUser").isWorkUser()||b("gkx")("1072568")){k=a&&a.gradient_colors&&a.gradient_colors.length?a.gradient_colors[a.gradient_colors.length-1]:e;j=b("React").jsx(h,{color:k})}else j=b("React").jsx(b("MessengerHotLikeOutlineSVG.react"),{color:e,location:f});else if(!b("CurrentUser").isWorkUser()){d=g?"rgba(0, 0, 0, 0.12)":b("MessengerCustomColorUtils.bs").defaultColor();j=b("React").jsx(h,{color:d})}return j}e.exports=a}),null);
__d("WorkQuickchatHotLikeInnerButton.react",["cssVar","cx","EmojiLikeConstants","Image.react","MessengerCustomColorUtils.bs","MessengerDotComAndInboxM4Check.bs","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeOutlineSVG.react","MessengerSupportedEmojiUtils","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerHotLikeIconSVGM4React.bs").make;function a(a){__p&&__p();var c=a.CustomRenderer,d=a.customLike,e=a.customColor,f=a.location,g=a.disabled,h=a.renderSize;a=a.thread;var j=null;if(d&&d.emoji){d=d.emoji;d=b("MessengerSupportedEmojiUtils").getNewEmojiData(d,b("EmojiLikeConstants").size.SMALL);j=b("React").jsx(b("Image.react"),{className:"_7rpg",src:d&&d.url})}else if(c){d=this.props.CustomRenderer;j=b("React").jsx(d,{color:e,location:f,renderSize:h})}else if(e)if(b("MessengerDotComAndInboxM4Check.bs").yes){c=a&&a.gradient_colors&&a.gradient_colors.length?a.gradient_colors[a.gradient_colors.length-1]:e;j=b("React").jsx(i,{color:c})}else j=b("React").jsx(b("MessengerHotLikeOutlineSVG.react"),{height:"100%",width:"100%",color:e,location:f});else b("MessengerDotComAndInboxM4Check.bs").yes&&(j=i.make(g?"rgba(0, 0, 0, 0.12)":b("MessengerCustomColorUtils.bs").defaultColor()));return j}e.exports=a}),null);
__d("MessengerHotLikeButton.react",["cx","fbt","Bootloader","EmojiLikeConstants","ImmutableObject","Keys","KeyStatus","Link.react","MercuryMessageObject","MessengerEnvironment","MessengerHotLikeButtonInnerIcon.react","MessengerHotLikePreviewEvents","MessengerHotLikeUtils","MessengerSurfaceType.re","MessengerSurfaceContext.re","prop-types","React","StickerConstants","WorkQuickchatHotLikeInnerButton.react","clearInterval","clearTimeout","ifRequired","joinClasses","setIntervalAcrossTransitions","setTimeoutAcrossTransitions","withMessengerSource"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MercuryMessageObject").get(),j=b("MessengerSurfaceContext.re").context,k=b("React").useContext,l=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){__p&&__p();var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.$1=null,d.$2=null,d.$3=null,d.$4=null,d.$6=function(a){(d.props.disabled||d.$3)&&(a.preventDefault(),a.stopPropagation());if(d.props.disabled||a.button!==0)return;d.props.onMouseDown&&d.props.onMouseDown();d.$3=Date.now();d.$9();d.$10()},d.$8=function(){if(!(d.props.threadID&&d.$3))return;d.$3=0;d.$11();d.$12()},d.$14=function(){if(!d.props.threadID)return;b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").POP,d.props.threadID)},d.$7=function(){d.$3&&(d.$3=0,d.$11(),d.$14())},d.$5=function(a){a.stopPropagation();if(d.props.disabled)return;if(b("KeyStatus").getKeyDownCode()===b("Keys").RETURN||!d.props.threadID){a=d.props.sendCustomLike;d.props.customLike&&a?a(d.props.customLike,b("MessengerHotLikeUtils").getEmojiSizeForTime(1)):d.props.sendSticker(b("MessengerHotLikeUtils").getStickerIDForTime(1))}},a)||babelHelpers.assertThisInitialized(d)}var d=a.prototype;d.componentDidMount=function(){var a=this;this.$4=b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").FINISH_ANIMATION,function(c,d,e){c===a.props.threadID&&(a.props.forGameChat&&b("Bootloader").loadModules(["GamesQuicksilverFunnelLogger"],function(a){a.logGameChatSendHotLike(a.getDefaultFunnelName())},"MessengerHotLikeButton.react"),e&&a.props.customLike&&a.props.sendCustomLike?a.props.sendCustomLike(a.props.customLike,e,b("EmojiLikeConstants").source.HOT_LIKE):a.props.forGameChat||a.props.sendSticker(d))})};d.componentWillUnmount=function(){this.$4&&this.$4.remove()};d.render=function(){var a=h._("G\u1eedi l\u01b0\u1ee3t th\u00edch"),c={};this.props.customLike&&this.props.customLike.emoji&&(c.background="none");var d=this.props.surface===b("MessengerSurfaceType.re").workQuickchat?b("WorkQuickchatHotLikeInnerButton.react"):b("MessengerHotLikeButtonInnerIcon.react");return b("React").jsx(b("Link.react"),{"aria-label":a,className:b("joinClasses")(this.props.customColor||this.props.CustomRenderer?"_5j_u":"",this.props.className),"data-testid":"send_a_like_button",disabled:this.props.disabled,href:"#",onClick:this.$5,onDragStart:function(a){return a.preventDefault()},onMouseDown:this.$6,onMouseLeave:this.$7,onMouseUp:this.$8,role:"button",style:c,title:a,children:b("React").jsx(d,{CustomRenderer:this.props.CustomRenderer,customLike:this.props.customLike,customColor:this.props.customColor,location:this.props.location,disabled:this.props.disabled,renderSize:this.props.renderSize,thread:this.props.thread})})};d.$9=function(){if(!this.props.threadID)return;b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").START,this.$13(),this.props.threadID)};d.$12=function(){__p&&__p();var a=this;if(!this.props.threadID)return;!b("MessengerEnvironment").messengerui?b("ifRequired")("MessengerHotLikePreview.react",function(){b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").STOP,a.props.threadID)},function(){if(a.$1!==null)return;a.$1=b("setIntervalAcrossTransitions")(function(){b("ifRequired")("MessengerHotLikePreview.react",function(){a.$1!==null&&(b("clearInterval")(a.$1),a.$1=null),b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").STOP,a.props.threadID)})},100)}):b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").STOP,this.props.threadID)};d.$13=function(){__p&&__p();var a=this.props.threadID;if(!a)return null;a=i.constructStickerMessageObject(b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID,this.props.source,a);i.normalizeNewMessage(a);a.is_like_preview=!0;a.like_preview_since=this.$3;a.customLike=this.props.customLike&&this.props.customLike.emoji?this.props.customLike:null;a.body="";return new(b("ImmutableObject"))(a)};d.$10=function(){this.$11(),this.$2=b("setTimeoutAcrossTransitions")(this.$14,b("MessengerHotLikeUtils").SizeTimes.large)};d.$11=function(){b("clearTimeout")(this.$2)};return a}(b("React").PureComponent);l.propTypes={CustomRenderer:(c=b("prop-types")).func,onMouseDown:c.func,customLike:c.object,customColor:c.string,forGameChat:c.bool,location:c.string,sendSticker:c.func.isRequired,sendCustomLike:c.func,threadID:c.string,disabled:c.bool,renderSize:c.number,thread:c.object,surface:c.string.isRequired};function a(a){var c=k(j);return b("React").jsx(l,babelHelpers["extends"]({},a,{surface:c}))}e.exports=b("withMessengerSource")(a)}),null);
__d("getFBTSafeGenderFromGenderConst",["GenderConst","IntlVariations"],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case b("GenderConst").MALE_SINGULAR:return b("IntlVariations").GENDER_MALE;case b("GenderConst").FEMALE_SINGULAR:return b("IntlVariations").GENDER_FEMALE;default:return b("IntlVariations").GENDER_UNKNOWN}}e.exports=a}),null);
__d("MessengerMessageSeenHeadsReact.bs",["cx","fbt","cssVar","Image.bs","React","immutable","ReasonReact.bs","joinClasses","MessengerConfig","MercuryTimestamp","MessengerMessage.bs","MercuryAttachment","getViewportDimensions","MessengerSurfaceQuickChat.bs","getFBTSafeGenderFromGenderConst"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MessengerConfig").MaxSeenHeadCount;function k(a){a=b("getViewportDimensions")().width;if(a<parseInt("920px".replace("px",""),10))if(j<8)return j;else return 8;else if(a<parseInt("1211px".replace("px",""),10)&&j>=3)return 3;else return j}function a(a){__p&&__p();var c=a.className,d=a.isFromViewer,e=a.message,f=a.nextTimestamp,g=a.participants;a=a.readReceipts;var i=b("MessengerSurfaceQuickChat.bs").useIsQuickChatSurface(0);if(b("MessengerMessage.bs").isSending(e)||a.isEmpty()||b("MessengerMessage.bs").hasError(e))return null;else{a=b("immutable").Seq(a).filter(function(a){a=a.watermark>=e.timestamp&&a.watermark<f;if(a)return!0;else return!1}).sort(function(a,b){return a.action-b.action|0});if(a.isEmpty())return null;else{i=i?1:d?j:k(0);d=a.count()>(i+1|0);var l=d?a.slice(0,i):a;l=l.map(function(a,c,d){d=g.get(c);if(d==null)return null;else{a=h._({"*":"{full name} \u0111\u00e3 xem l\u00fac {seen time}"},[h._name("full name",d.name,b("getFBTSafeGenderFromGenderConst")(d.gender)),h._param("seen time",b("MercuryTimestamp").getPreciseTimestamp(a.action))]);return b("ReasonReact.bs").element(String(c),void 0,b("Image.bs").make("_jf2",a,void 0,void 0,d.image_src,void 0,a,void 0,void 0,[]))}}).toArray();if(l.length!==0){d=d?a.slice(i,void 0).count():0;if(d>0){a=a.slice(i,void 0).map(function(a,b,c){a=g.get(b);if(a==null)return"";else return a.name}).filter(function(a){a=a==="";if(a)return!1;else return!0}).join("\n")+" ";l.unshift(b("React").createElement("span",{key:"overflow",className:"_jf3",title:a},"+"+String(d)))}return b("React").createElement("span",{className:b("joinClasses")(c,"_jf4"+((l.length+d|0)===1?" _jf5":"")+(b("MercuryAttachment").isSinglePhotoGroupAttachment(e)?" _ba3":""))},l)}else return null}}}c={make:a};d=b("ReasonReact.bs").statelessComponent("MessengerMessageSeenHeadsReact");e=a;g=a;f.maxSeenHeads=j;f.calculateSliceNumber=k;f.MessengerMessageSeenHeadsWrapper=c;f.component=d;f.make=e;f.jsComponent=g}),null);
__d("XUICloseButtonReact.bs",["ReasonReact.bs","bs_js_null_undefined","XUICloseButton.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f,g){var h;switch(d){case 0:h="small";break;case 1:h="medium";break;case 2:h="large";break}return b("ReasonReact.bs").wrapJsForReason(b("XUICloseButton.react"),{className:b("bs_js_null_undefined").fromOption(a),onClick:e,tooltip:b("bs_js_null_undefined").fromOption(f),shade:c?"dark":"light",size:h},g)}f.make=a}),null);
__d("CustomColorHighlighting.react",["cssVar","csx","cx","React","UserAgent","guid","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a="._fy2";c="._43by";d="._mh6";f=b("UserAgent").isEngine("Gecko")?"._mh6 *::-moz-selection":"._mh6 ::selection";g=b("UserAgent").isEngine("Gecko")?"._43by *::-moz-selection":"._43by ::selection";var j=a+a,k=c+c,l=d+f,m=d+d,n=c+g,o="rgba(255, 255, 255, 0.3)";h=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;c.state={id:"cch_"+b("guid")()};return c}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1()};d.componentWillUnmount=function(){this.$2(),this.state.styleTag&&document.head.removeChild(this.state.styleTag)};d.UNSAFE_componentWillReceiveProps=function(a){this.props.customColor&&!a.customColor?this.$2():a.customColor!==this.props.customColor&&this.$3(a.customColor)};d.render=function(){return b("React").jsx("span",{className:b("joinClasses")("_mh6",this.props.className),id:this.state.id,children:this.props.children})};d.$1=function(){var a=this,b=document.createElement("style");b.appendChild(document.createTextNode(""));document.head.appendChild(b);this.setState({styleSheet:b.sheet,styleTag:b},function(){return a.$3(a.props.customColor)})};d.$4=function(a,b,c){try{a.insertRule?a.insertRule(b+"{"+c+"}",0):a.addRule&&a.addRule(b,c,0)}catch(a){}};d.$5=function(a){"removeRule"in a?a.removeRule(0):"deleteRule"in a&&a.deleteRule(0)};d.$2=function(){if(this.state.styleSheet){if(this.state.styleSheet.rules)while(this.state.styleSheet.rules.length)this.$5(this.state.styleSheet);if(this.state.styleSheet.cssRules)while(this.state.styleSheet.cssRules.length)this.$5(this.state.styleSheet)}};d.$6=function(a){a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);var b=parseInt(a[1],16),c=parseInt(a[2],16);a=parseInt(a[3],16);return"rgba("+b+","+c+","+a+",0.2)"};d.$3=function(a){__p&&__p();this.$2();a=a||this.props.customColor;if(a){var b=this.$6(a);b="background: "+b;this.$4(this.state.styleSheet,"#"+this.state.id+l,b);this.$4(this.state.styleSheet,"#"+this.state.id+" "+j,"color: "+a);this.$4(this.state.styleSheet,"#"+this.state.id+" "+k,"background-color: "+a);this.$4(this.state.styleSheet,"#"+this.state.id+m+" "+n,"background-color: "+o)}};return c}(b("React").PureComponent);h.propTypes={className:b("prop-types").string,customColor:b("prop-types").string};e.exports=h}),null);
__d("MessengerMentionSource",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({REPLY:"reply",ATSIGN:"@",TYPEAHEAD:"typeahead"});e.exports=a}),null);
__d("ReasonBootloadOnRender.react",["LoadOnRender.react","React","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("promiseDone")(d.props.loader.load(),a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsx(b("LoadOnRender.react"),{placeholder:this.props.placeholder,loader:this.$1,component:this.props.component})};return c}(b("React").Component);e.exports=a}),null);
__d("ReasonResource",["Promise","JSResourceReference","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.load=function(){var a=this;return new(b("Promise"))(function(c){b("promiseDone")(a.getFullComponent(),function(a){c(a.jsComponent)})})};d.getFullComponent=function(){return this.__reference.load()};d.setResourceReference=function(a){this.__reference=a;return this};return a}(b("JSResourceReference"));function a(a){return new g(a.getModuleId()).setResourceReference(a)}e.exports=a}),null);
__d("applyMessengerEmoticonToContentBlock",["CharacterMetadata","EmoticonEmojiList"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){if(!b("EmoticonEmojiList").names[d])return c;var f=c.getCharacterList(),g=a.createEntity("EMOTICON","IMMUTABLE",{type:b("EmoticonEmojiList").names[d],originalEmoticon:d}).getLastCreatedEntityKey();return c.merge({characterList:f.slice(0,e).concat(f.slice(e,e+d.length).map(function(a){return b("CharacterMetadata").applyEntity(a,g)}),f.slice(e+d.length))})}e.exports=a}),null);
__d("getTextAfterNearestEntity",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=b;while(c>0&&a.getEntityAt(c-1)===null)c--;return a.getText().slice(c,b)}e.exports=a}),null);
__d("applyMessengerEmoticonToContentState",["EmoticonEmojiList","applyMessengerEmoticonToContentBlock","getTextAfterNearestEntity"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();var d=c.getAnchorKey(),e=c.getAnchorOffset(),f=a.getBlockForKey(d),g=b("getTextAfterNearestEntity")(f,e),h=b("EmoticonEmojiList").regexp.exec(g);if(!h)return a;var i=h[1];if(!i&&e!==g.length)return a;i=h[2];g=e-g.length;g=g+h.index+h[1].length;h=a.getBlockMap().set(d,b("applyMessengerEmoticonToContentBlock")(a,f,i,g));return a.merge({blockMap:h,selectionBefore:c,selectionAfter:c.merge({anchorOffset:e,focusOffset:e})})}e.exports=a}),null);
__d("MessengerEmoticonSpan.react",["cx","EmojiLikeConstants","EmoticonEmojiList","MessengerSupportedEmojiUtils","React","cssURL","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.entityKey==null)return null;var a=this.props.contentState.getEntity(this.props.entityKey);a=a.getData();a=a.type;a=b("EmoticonEmojiList").emote2emojis[a];a=b("MessengerSupportedEmojiUtils").getUrl(a,b("EmojiLikeConstants").size.XSMALL);a=a?a:"";return b("React").jsx("span",{className:"_21wj",style:{backgroundImage:b("cssURL")(a)},"data-offset-key":this.props.offsetKey,children:b("React").jsx("span",{className:"_7464",children:this.props.children})})};return c}(b("React").PureComponent);a.propTypes={children:(c=b("prop-types")).arrayOf(c.object),contentState:c.object.isRequired,entityKey:c.string,offsetKey:c.string};e.exports=a}),null);
__d("MessengerMentionsEntityDecorator.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("span",{className:"_fy2",children:this.props.children})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("createMessengerMentionDraftEntity",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.createEntity("MENTION","SEGMENTED",{mid:b.getUniqueID()})}e.exports=a}),null);
__d("getProfileRangesForContentState",["emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("emptyFunction").thatReturnsTrue;function a(a,b){__p&&__p();var c=[],d=0;a.getBlockMap().forEach(function(e){__p&&__p();var f=e.getText();e.findEntityRanges(g,function(f,g){__p&&__p();var h=e.getEntityAt(f);if(h){h=a.getEntity(h);if(h.getType()==="MENTION"){var i=f+d;h=h.getData().mid;var j=null;b&&h===b?j="t":b&&h===b+"-active"?(h=b,j="a"):/^\d+$/.test(h)&&(j="p");j!==null&&c.push({id:h,offset:i,length:g-f,type:j})}}});d+=f.length+1});return c}e.exports=a}),null);
__d("handleBeforeInputForMessengerEmoticon",["DraftModifier","EditorState","applyMessengerEmoticonToContentState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new RegExp(/[\s\'\".,!?]/);function a(a,c){var d=a.getSelection();if(!d.isCollapsed()||!c||!g.test(c))return a;var e=a.getCurrentContent();d=b("applyMessengerEmoticonToContentState")(e,d);if(d===e)return a;e=b("DraftModifier").insertText(d,d.getSelectionAfter(),c);return b("EditorState").push(a,e,"insert-characters")}e.exports=a}),null);
__d("handleSoftNewlineForMessengerEmoticon",["DraftModifier","EditorState","applyMessengerEmoticonToContentState"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.getCurrentContent(),d=a.getSelection(),e=b("applyMessengerEmoticonToContentState")(c,d);c=b("DraftModifier").splitBlock(e,c===e?d:e.getSelectionAfter());return b("EditorState").push(a,c,"split-block")}e.exports=a}),null);
__d("MercuryReadOnlyReason",["fbt","Link.react","MercuryConfig","React","URI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a={getReason:function(a){__p&&__p();a===void 0&&(a=!1);if(a){a=b("MercuryConfig").DYIDeepLink;return g._("R\u1ea5t ti\u1ebfc, cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y kh\u00f4ng ho\u1ea1t \u0111\u1ed9ng n\u1eefa v\u00ec kh\u00f4ng th\u1ec3 g\u1eedi tin nh\u1eafn \u0111\u1ebfn c\u00e1c \u0111\u1ecba ch\u1ec9 email n\u1eefa. Sau ng\u00e0y 1 th\u00e1ng 5 n\u0103m 2016, c\u00e1c cu\u1ed9c tr\u00f2 chuy\u1ec7n c\u00f3 \u0111\u1ecba ch\u1ec9 email s\u1ebd ch\u1ec9 c\u00f3 trong b\u1ea3n sao d\u1eef li\u1ec7u Facebook c\u1ee7a b\u1ea1n. {download your information}",[g._param("download your information",b("React").jsx("a",{href:a,children:g._("T\u00ecm hi\u1ec3u th\u00eam")}))])}else if(b("MercuryConfig").ViewerIsReadOnly)return g._("B\u1ea1n t\u1ea1m th\u1eddi b\u1ecb ch\u1eb7n g\u1eedi tin nh\u1eafn. {learn more about blocks}",[g._param("learn more about blocks",b("React").jsx(b("Link.react"),{href:new(h||(h=b("URI")))("https://www.facebook.com/help/181183045316843"),target:"_blank",children:"Learn more"}))]);else if(b("MercuryConfig").ColdOpenBlock)return g._("B\u1ea1n \u0111ang t\u1ea1m th\u1eddi b\u1ecb ch\u1eb7n, kh\u00f4ng th\u1ec3 b\u1eaft \u0111\u1ea7u cu\u1ed9c tr\u00f2 chuy\u1ec7n m\u1edbi. {learn more about blocks}",[g._param("learn more about blocks",b("React").jsx(b("Link.react"),{href:new(h||(h=b("URI")))("https://www.facebook.com/help/181183045316843"),target:"_blank",children:"Learn more"}))]);else return g._("B\u1ea1n kh\u00f4ng th\u1ec3 tr\u1ea3 l\u1eddi cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y")}};e.exports=a}),null);
__d("CoworkerThreadContextBanner.react",["ix","cx","fbt","FlexLayout.react","Image.react","MessengerEnvironment","React","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){a=b("MessengerEnvironment").messengerui;return b("React").jsx("div",{className:(a?"":"_80n8")+(a?" _1li-":""),children:b("React").jsxs(b("FlexLayout.react"),{className:(a?"":"_80n9")+(a?" _80nc":""),align:"center",children:[b("React").jsx("div",{className:"_80nd"+(a?"":" _80ne")+(a?" _80nf":""),children:b("React").jsx(b("Image.react"),{src:g("558200")})}),b("React").jsxs("div",{className:"_80ng",children:[b("React").jsx(b("XUIText.react"),{className:"_80nh",children:i._("Th\u00e0nh vi\u00ean Nh\u00f3m \u0111\u1ed3ng nghi\u1ec7p")}),b("React").jsx(b("XUIText.react"),{className:"_80ni",children:i._("Cu\u1ed9c tr\u00f2 chuy\u1ec7n v\u1edbi \u0111\u1ed3ng nghi\u1ec7p")})]})]})})}e.exports=a}),null);
__d("MessengerRTCCallButton.react",["ImmutableObject","Link.react","MercuryIDs","MessengerRTCInvokeHandler","MessengerRTCVideoCallButtonReact.bs","MessengerRTCVoiceCallButtonReact.bs","MNRTCCallabilityStore","React","StoreAndPropBasedStateMixin","createReactClass_DEPRECATED","immutable","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("MessengerRTCVideoCallButtonReact.bs").jsComponent,h=b("MessengerRTCVoiceCallButtonReact.bs").jsComponent;c=b("createReactClass_DEPRECATED")({displayName:"MessengerRTCCallButton",mixins:[b("StoreAndPropBasedStateMixin")(b("MNRTCCallabilityStore"))],statics:{calculateState:function(a){return{isCallable:b("MessengerRTCInvokeHandler").isCallable(a.threadID,a.thread)}}},propTypes:{className:(a=b("prop-types")).string.isRequired,customColor:a.string.isRequired,isVideo:a.bool.isRequired,participants:a.instanceOf(b("immutable").Map).isRequired,thread:a.instanceOf(b("ImmutableObject")).isRequired,threadID:a.string.isRequired,viewer:a.string.isRequired,calleeName:a.string.isRequired,isCalleeActive:a.bool},render:function(){var a={customColor:this.props.customColor,isAvailable:this.state.isCallable,isGroupChat:b("MercuryIDs").isGroupChat(this.props.threadID)};return b("React").jsx(b("Link.react"),{className:this.props.className,onClick:this._handleStartCall,role:"button",children:this.props.isVideo?b("React").jsx(g,babelHelpers["extends"]({},a)):b("React").jsx(h,babelHelpers["extends"]({},a))})},_handleStartCall:function(a){a.preventDefault(),b("MessengerRTCInvokeHandler").handleStartCall(this.props.threadID,this.props.thread,this.props.isVideo,this.props.viewer,this.props.participants,this.props.calleeName,this.state.isCallable,this.props.isCalleeActive)}});e.exports=c}),null);
__d("WorkChatExtensionsDrawersQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1696600907120234"};b.getQueryID=function(){return"148385269340310"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("WorkChatExtensionAvailabilityFetcher",["Promise","WebGraphQL","WebStorage","WorkChatExtensionsDrawersQueryWebGraphQLQuery"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=36e5;function i(a){(g||(g=b("WebStorage"))).setItemGuarded(g.getLocalStorage(),"hasWorkChatExtension",a.toString()),g.setItemGuarded(g.getLocalStorage(),"hasWorkChatExtensionFetchTime",Date.now().toString())}e.exports={checkHasChatExtension:function(){return new(b("Promise"))(function(a,c){c=(g||(g=b("WebStorage"))).getLocalStorageForRead();var d=c?c.getItem("hasWorkChatExtension"):null;c=c?c.getItem("hasWorkChatExtensionFetchTime")||0:0;return d==="true"&&Date.now()-parseInt(c,10)<h?a(!0):b("WebGraphQL").exec(new(b("WorkChatExtensionsDrawersQueryWebGraphQLQuery"))({})).then(function(a){a=((a=a)!=null?(a=a.viewer)!=null?(a=a.messenger_platform_drawers_info)!=null?(a=a[0])!=null?a.drawer_elements:a:a:a:a)||[];a=a.length>0;i(a);return a})})},setChatExtensionAvailability:i}}),null);
__d("WorkChatFileAttachment.react",["fbt","React","WorkGalahadContentFileAttachmentCardContainer.react","XWorkFilePreviewAsyncController","getWorkGalahadChatAttachmentIcon","stylex"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){var c,d=a.attachment,e=d.message_file_fbid,f=d.mime_type,h=d.name,i=d.preview,j=d.preview_url;d=d.url;a=babelHelpers.objectWithoutPropertiesLoose(a,["attachment"]);c=((c=a.message)==null?void 0:c.message_id)!=null;j=c&&j!=null?b("XWorkFilePreviewAsyncController").getURIBuilder().setFBID("file_id",e).setEnum("surface","CHAT").getURI():null;c=c?{attachment_file_type:f,content_id:e,content_type:"MESSAGE_FILE",surface_type:"CHAT_MAIN",additional_data:{message_id:(a=(c=a.message)==null?void 0:c.message_id)!=null?a:"",file_viewer_enabled:(j!=null).toString()}}:void 0;return b("React").jsx("div",{className:"h3hcfol1 hdazlnic mu99tzkh",children:b("React").jsx(b("WorkGalahadContentFileAttachmentCardContainer.react"),{asyncPreviewURI:j,attachment:{name:(a=h)!=null?a:g._("Ch\u01b0a \u0111\u1eb7t t\u00ean"),type:"",icon:b("getWorkGalahadChatAttachmentIcon")(f),category:"FILE",uri:d,previewImageURI:i==null?void 0:i.uri,fileID:e},isFullSize:!0,isOnComposer:!1,loggerData:c,surface:"CHAT"})})}e.exports=a}),null);
__d("P2PAbstractSendMoneyButton.react",["cx","fbt","React","TooltipLink.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,c.$3=function(){c.props.onMouseDown&&c.props.onMouseDown(),c.$1=c.props.isActive},c.$2=function(a){a.stopPropagation();if(c.$1){c.$1=!1;return}c.props.onClick()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").jsx(b("TooltipLink.react"),{alignH:"center",className:b("joinClasses")(this.props.className,(this.props.isActive?"open":"")+(this.props.isDisabled?" disabled":"")+(this.props.isActive?" _10gz":"")+(this.props.isDisabled?" _10g-":"")+(!this.props.isMessenger&&!this.props.className?" _5uqy":"")+(this.props.isMessenger?" _3ggc":"")),href:"#",onClick:this.$2,onMouseDown:this.$3,onMouseOver:this.props.onMouseOver,position:"above",role:"button",title:this.$4(),children:this.getButton()})};d.getButton=function(){return this.props.button?this.props.button:b("React").jsx("i",{className:"_5s8l"})};d.$4=function(){return this.props.isDisabled?null:h._("G\u1eedi ti\u1ec1n")};return c}(b("React").Component);e.exports=a}),null);
__d("P2PSendMoneyContainerBootloader.react",["cx","Bootloader","DeferredComponent.react","MercuryIDs","MessengerEnvironment","P2PAbstractSendMoneyButton.react","P2PActions","P2PLoadingMask.react","P2PLogger","P2PSendMoneyDialogStore","React","ReactLayeredComponentMixin_DEPRECATED","XUIContextualDialog.react","createReactClass_DEPRECATED","emptyFunction","getPageIDFromThreadID","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerEnvironment").messengerui,i=h?282:260;a=b("createReactClass_DEPRECATED")({displayName:"P2PSendMoneyContainerBootloader",propTypes:{button:b("prop-types").node,className:b("prop-types").string,ContextualDialog:b("prop-types").func,flyoutAlignment:b("prop-types").oneOf(["left","center","right"]),fromChatTab:b("prop-types").bool,onTrigger:b("prop-types").func,participantIDs:b("prop-types").array,referrer:b("prop-types").string,threadID:b("prop-types").string},refs_dialog:null,refs_placeholderButton:null,getInitialState:function(){return{showPlaceholderDialog:!1,shouldBootloadImmediately:b("P2PSendMoneyDialogStore").isAnyChatSendViewOpen()}},mixins:[b("ReactLayeredComponentMixin_DEPRECATED")],_clicked:!1,_onComponentLoad:b("emptyFunction"),_bootloadCalled:!1,_sendMoneyDialogStoreSub:null,log:function(a,c){b("P2PLogger").log(a,babelHelpers["extends"]({www_event_referrer:this.props.referrer,www_event_flow:"UI_Flow_P2P_Send"},c))},componentWillUnmount:function(){this.removeDialogStoreSub()},onDialogStoreChange:function(){this._bootloadComponentNow(),this.removeDialogStoreSub()},removeDialogStoreSub:function(){this._sendMoneyDialogStoreSub&&(this._sendMoneyDialogStoreSub.remove(),this._sendMoneyDialogStoreSub=null)},onPlaceholderClick:function(){var a=this.props.threadID?b("MercuryIDs").tokenize(this.props.threadID).value:null;this._handleDialogVisibility(!this.state.showPlaceholderDialog);this.log("UI_Actn_Send_Money_Button_Placeholder_Clicked",{object_id:a});this._bootloadComponentNow();this._clicked=!1},_handleDialogVisibility:function(a){!a?b("P2PActions").chatSendViewClosed({threadID:this.props.threadID}):b("P2PActions").chatSendViewOpened({referrer:this.props.referrer,threadID:this.props.threadID,fromChatTab:this.props.fromChatTab}),this.setState({showPlaceholderDialog:a})},renderLayers:function(){var a=this,c={};if(this.state.showPlaceholderDialog){var d=this.props.ContextualDialog||b("XUIContextualDialog.react");c.placeholderDialog=b("React").jsx(d,{alignment:this.props.flyoutAlignment?this.props.flyoutAlignment:h?"right":"left",contextRef:function(){return a.refs_placeholderButton},onBlur:function(){a._clicked||a._handleDialogVisibility(!1),a._clicked=!1},ref:function(b){return a.refs_dialog=b},shown:!0,width:i,position:"above",children:b("React").jsx("div",{className:"_c_5",children:b("React").jsx(b("P2PLoadingMask.react"),{visible:!0})})})}return c},render:function(){return this._isPageChat()?null:b("React").jsx(b("DeferredComponent.react"),babelHelpers["extends"]({deferredComponent:this._bootloadComponent,deferredPlaceholder:this._renderPlaceholder()},this.props))},_renderPlaceholder:function(){var a=this;return b("React").jsx(b("P2PAbstractSendMoneyButton.react"),{button:this.props.button,className:this.props.className,isActive:!1,isDisabled:!1,isMessenger:h,onClick:this.onPlaceholderClick,onMouseDown:function(){a._clicked=!0},onMouseOver:this._bootloadComponentNow,ref:function(b){return a.refs_placeholderButton=b}})},_bootloadComponent:function(a){this._onComponentLoad=a.bind(this),this.state.shouldBootloadImmediately?this._bootloadComponentNow():this._sendMoneyDialogStoreSub=b("P2PSendMoneyDialogStore").addListener("change",this.onDialogStoreChange)},_bootloadComponentNow:function(){var a=this;if(this._bootloadCalled)return;this._bootloadCalled=!0;b("Bootloader").loadModules(["P2PSendMoneyContainer.react"],function(b){a.removeDialogStoreSub(),a._onComponentLoad(b),a.setState({showPlaceholderDialog:!1})},"P2PSendMoneyContainerBootloader.react")},_isPageChat:function(){return!!this._getPageID()},_getPageID:function(){return b("getPageIDFromThreadID")(this.props.threadID)}});e.exports=a}),null);
__d("MessengerBusinessAutoCompleteQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2397726383591642"};b.getQueryID=function(){return"1369134433234452"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("AutocompleteSearchSource",["AbstractSearchSource","MessengerBusinessAutoCompleteQueryWebGraphQLQuery","SearchableEntry","WebGraphQL","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d){b=a.call(this)||this;b.numResults=c;b.requestType=d;return b}var d=c.prototype;d.searchImpl=function(a,c,d){if(!a){c([],a);return}d={num_results:this.numResults,query:a,search_type:this.requestType};b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerBusinessAutoCompleteQueryWebGraphQLQuery"))({query_params:d})),function(d){d=d.in_thread_auto_complete_search.map(function(a){return new(b("SearchableEntry"))({title:String(a.title),uniqueID:String(a.title)})});c(d,a)})};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("AutocompleteStrategy",[],(function(a,b,c,d,e,f){a={name:"AutocompleteStrategy",findMentionableString:function(a){return{matchingString:a,leadOffset:a.length}}};e.exports=a}),null);
__d("applyEmoticonToContentBlock",["CharacterMetadata","EmoticonsList","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").List,h="\u3000";function a(a,c,d,e){if(!b("EmoticonsList").emotes[c])return a;e=e.createEntity("EMOTICON","IMMUTABLE",{type:b("EmoticonsList").emotes[c],originalEmoticon:c});e=e.getLastCreatedEntityKey();var f=a.getText(),i=a.getCharacterList();c=c.length;var j=i.get(d);return a.merge({text:f.slice(0,d)+h+f.slice(d+c),characterList:i.slice(0,d).concat(g.of(b("CharacterMetadata").applyEntity(j,e)),i.slice(d+c))})}e.exports=a}),null);
__d("insertEmoticonIntoContentState",["DraftModifier","applyEmoticonToContentBlock"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e=b("DraftModifier").replaceText(c,d,a),f=d.getAnchorKey(),g=d.getAnchorOffset(),h=e.getBlockForKey(f);e=e.getBlockMap().set(f,b("applyEmoticonToContentBlock")(h,a,g,c));g++;return c.merge({blockMap:e,selectionBefore:d,selectionAfter:d.merge({anchorOffset:g,focusOffset:g})})}e.exports=a}),null);
__d("insertEmoticonIntoEditorState",["DraftModifier","EditorState","insertEmoticonIntoContentState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=" ";function a(a,c){var d=c.getSelection(),e=c.getCurrentContent(),f=d.getStartOffset(),h=d.getEndOffset(),i=e.getBlockForKey(d.getStartKey()).getText(),j=e.getBlockForKey(d.getEndKey()).getText(),k="";h<=j.length&&j[h]!==g&&(k=g);f>0&&i[f-1]!==g&&(e=b("DraftModifier").insertText(e,d,g),d=e.getSelectionAfter());j=b("insertEmoticonIntoContentState")(a,e,d);e=b("DraftModifier").insertText(j,j.getSelectionAfter(),k);return b("EditorState").push(c,e,"insert-characters")}e.exports=a}),null);
__d("isWebGLEnabled",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null;function h(){try{var a=document.createElement("canvas");return Boolean(window.WebGLRenderingContext)&&Boolean(a.getContext("webgl")||a.getContext("experimental-webgl"))}catch(a){return!1}}function a(){g===null&&(g=h());return g}e.exports=a}),null);
__d("MessengerUserInputUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.createEntity("AUTOCOMPLETE","MUTABLE",{mid:b.getUniqueID()})}e.exports=a}),null);