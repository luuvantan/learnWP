if (self.CavalryLogger) { CavalryLogger.start_js(["EQARn"]); }

__d("WorkGalahadGroupChatSideColumnFilesQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"threadFBID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"after",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"count",type:"Int",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"threadFBID"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"message_shared_media_type",value:"FILE_AND_AUDIO"}],e={kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www"}],storageKey:'url(site:"www")'},f={kind:"ScalarField",alias:null,name:"filename",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"mimetype",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},i={kind:"LinkedField",alias:null,name:"creator",storageKey:null,args:null,concreteType:null,plural:!1,selections:[h]},j={kind:"ScalarField",alias:null,name:"creation_time",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"message_file_fbid",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"preview_url",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"legacy_attachment_id",args:null,storageKey:null},n={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]},o={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};h={kind:"LinkedField",alias:null,name:"creator",storageKey:null,args:null,concreteType:null,plural:!1,selections:[o,h,c]};return{kind:"Request",fragment:{kind:"Fragment",name:"WorkGalahadGroupChatSideColumnFilesQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"message_thread",storageKey:null,args:b,concreteType:"MessageThread",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"message_shared_media",storageKey:null,args:d,concreteType:"MessageSharedMediaConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessageSharedMediaEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"MessageFile",selections:[c,e,f,g,i,j,k,l]},{kind:"InlineFragment",type:"MessageAudio",selections:[c,e,f,g,i,j,m]}]}]},n]}]}]},operation:{kind:"Operation",name:"WorkGalahadGroupChatSideColumnFilesQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"message_thread",storageKey:null,args:b,concreteType:"MessageThread",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"message_shared_media",storageKey:null,args:d,concreteType:"MessageSharedMediaConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessageSharedMediaEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[o,c,{kind:"InlineFragment",type:"MessageFile",selections:[e,f,g,h,j,k,l]},{kind:"InlineFragment",type:"MessageAudio",selections:[e,f,g,h,j,m]}]}]},n]}]}]},params:{operationKind:"query",name:"WorkGalahadGroupChatSideColumnFilesQuery",id:"2496540987105210",text:null,metadata:{}}}}();e.exports=a}),null);
__d("WorkGalahadGroupChatSideColumnMediaQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"threadFBID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"after",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"count",type:"Int",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"threadFBID"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"message_shared_media_type",value:"PHOTO_AND_VIDEO"}],e={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"legacy_attachment_id",args:null,storageKey:null},g={kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},h={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},j={kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"gender",args:null,storageKey:null}]},k={kind:"ScalarField",alias:null,name:"creation_time",args:null,storageKey:null},l=[f,g,h,{kind:"LinkedField",alias:null,name:"creator",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,j]},k],m={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]};f=[f,g,h,{kind:"LinkedField",alias:null,name:"creator",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,i,c,j]},k];return{kind:"Request",fragment:{kind:"Fragment",name:"WorkGalahadGroupChatSideColumnMediaQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"message_thread",storageKey:null,args:b,concreteType:"MessageThread",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"message_shared_media",storageKey:null,args:d,concreteType:"MessageSharedMediaConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessageSharedMediaEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,{kind:"InlineFragment",type:"MessageImage",selections:l},{kind:"InlineFragment",type:"MessageVideo",selections:l}]}]},m]}]}]},operation:{kind:"Operation",name:"WorkGalahadGroupChatSideColumnMediaQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"message_thread",storageKey:null,args:b,concreteType:"MessageThread",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"message_shared_media",storageKey:null,args:d,concreteType:"MessageSharedMediaConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessageSharedMediaEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,c,{kind:"InlineFragment",type:"MessageImage",selections:f},{kind:"InlineFragment",type:"MessageVideo",selections:f}]}]},m]}]}]},params:{operationKind:"query",name:"WorkGalahadGroupChatSideColumnMediaQuery",id:"2170739563052504",text:null,metadata:{}}}}();e.exports=a}),null);
__d("MercuryMessageStore",["CurrentUser","LogHistory","MercuryAPIArgsSource","MercuryThreadInformer","MercuryThreadlistConstants","MessengerState.bs","SubscriptionsHandler","mixInEventEmitter","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LogHistory").getInstance("mercury_message_store");a=function(){__p&&__p();function a(a,c,d){__p&&__p();var e=this;this.$5=a;this.$1=d||b("CurrentUser").getID();this.$2=1;this.$3=c||b("MercuryThreadlistConstants").RECENT_MESSAGES_LIMIT;this.$6=d?b("MercuryThreadInformer").getForFBID(d):b("MercuryThreadInformer").get();this.$4=new(b("SubscriptionsHandler"))();this.$4.addSubscriptions(this.$6.subscribe("messages-received",function(a,b){return e.$7(b)}),this.$6.subscribe("messages-updated",function(a,b){return b[e.$5]&&e.$8(b[e.$5])}),this.$6.subscribe("messages-deleted",function(a,b){return b[e.$5]&&e.$9(b[e.$5])}),this.$6.subscribe("messages-reordered",function(a,b){return b[e.$5]&&e.$10()}),this.$6.subscribe("thread-invalidated",function(a,b){return b[e.$5]&&e.$11()}));a=this.$12();g.debug("constructed",JSON.stringify({threadID:this.$5,messageCount:a}));a<this.$3?this.$13():b("setImmediate")(function(){e.$10()})}var c=a.prototype;c.destroy=function(){this.$4&&this.$4.release(),g.debug("destroyed",JSON.stringify({threadID:this.$5}))};c.subscribe=function(a){return this.addRetroactiveListener("updated",a)};c.fetchMoreMessages=function(){if(this.hasFetchedAll())return!1;this.$13();return!0};c.hasFetchedAll=function(){return b("MessengerState.bs").hasLoadedAllMessages(this.$1,this.$5)||b("MessengerState.bs").isNewEmptyLocalThread(this.$1,this.$5)};c.$12=function(){return b("MessengerState.bs").getCurrentlyLoadedMessages(this.$1,this.$5).length};c.$13=function(){var a=this,c=this.$3;b("MessengerState.bs").getThreadMessagesRange(this.$1,this.$5,this.$12(),c,this.$14.bind(this),null,b("MercuryAPIArgsSource").MERCURY);this.$2<10&&(this.$2+=1);b("MessengerState.bs").hasLoadedNMessages(this.$1,this.$5,c+this.$12())&&b("setImmediate")(function(){a.$10()})};c.$14=function(b){g.debug("fetch_messages",JSON.stringify({threadID:this.$5,fetchedMessagesCount:b&&b.length||0,messageCount:this.$12()})),b&&!b.length&&!this.$12()&&this.$15(a.THREAD_IS_EMPTY)};c.$7=function(b){var c=[];b=b[this.$5];b&&b.length&&(c=c.concat(b.filter(function(a){return!!a})));c.length&&this.$15(a.MESSAGES_RECEIVED)};c.$8=function(b){this.$15(a.MESSAGES_CHANGED)};c.$9=function(b){this.$15(a.MESSAGES_DELETED,b)};c.$10=function(){this.$15(a.MESSAGES_REORDERED)};c.$11=function(){this.$2=1,this.$13()};c.$15=function(a,c){var d=b("MessengerState.bs").getCurrentlyLoadedMessages(this.$1,this.$5);this.releaseHeldEventType("updated");this.emitAndHold("updated",{messages:d,deletedMessages:c,eventType:a})};return a}();Object.assign(a,{MESSAGES_FETCHED:"fetched",MESSAGES_CHANGED:"changed",MESSAGES_RECEIVED:"received",MESSAGES_REORDERED:"reordered",MESSAGES_DELETED:"deleted",THREAD_IS_EMPTY:"thread-is-empty"});b("mixInEventEmitter")(a,{updated:!0});e.exports=a}),null);
__d("WorkGalahadClipboardLink.react",["fbt","Clipboard","React","WIGPressable.react","WIGTooltip.react","wigPushToast"],(function(a,b,c,d,e,f,g){"use strict";var h=b("wigPushToast").wigPushToast,i={"default":g._("Sao ch\u00e9p v\u00e0o b\u1ed9 nh\u1edb t\u1ea1m"),copied:g._("\u0110\u00e3 sao ch\u00e9p v\u00e0o b\u1ed9 nh\u1edb t\u1ea1m")};function a(a){var c=a.content,d=a.onCopy,e=a.value;a=babelHelpers.objectWithoutPropertiesLoose(a,["content","onCopy","value"]);return!b("Clipboard").isSupported()?e:b("React").jsx(b("WIGTooltip.react"),babelHelpers["extends"]({},a,{tooltip:i["default"],children:b("React").jsx(b("WIGPressable.react"),{display:"inline",onPress:function(){b("Clipboard").copy(e.toString()),h({message:i.copied}),d&&d()},overlayDisabled:!0,children:c})}))}e.exports=a}),null);
__d("WorkChatSideColumnEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("EventEmitter"))()}),null);
__d("WorkGalahadChatSideColumnMediaEmpty.react",["fbt","React","WIGText.react"],(function(a,b,c,d,e,f,g){"use strict";function a(){return b("React").jsx(b("WIGText.react"),{type:"body4",children:g._("\u0110\u00e2y l\u00e0 n\u01a1i t\u1eadp h\u1ee3p c\u00e1c \u1ea3nh & video b\u1ea1n chia s\u1ebb trong \u0111o\u1ea1n chat n\u00e0y \u0111\u1ec3 v\u1ec1 sau d\u1ec5 t\u00ecm l\u1ea1i.")})}e.exports=a}),null);
__d("WorkGalahadEntitySideColumnListItem.react",["React","WIGTextPairing.react","WorkGalahadHoverHelper","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("WorkGalahadHoverHelper").useHover;function a(a){var c=a.ItemRenderer,d=a.action,e=a.image,f=a.isImagelessList,h=a.showActionOnHover,i=a.subtitle;a=a.title;var j=g(),k=j[0];j=j[1];c=c!=null?c:b("React").Fragment;h=h!==!0||h===!0&&k;return b("React").jsx("div",babelHelpers["extends"]({className:"k9goi8dt lenub8rc pbvk33mw"},j,{children:b("React").jsx(c,{children:b("React").jsxs("div",{className:"t36ehdhz sulwup3a rpt3ley2 hal92y33 zfmvpfxx eimatuwp m3p3afjb a3m408la f0w9ysip eg3o40xf kyu6y8np mq32vg4l ouhd256r jgcuv4po akl1aaa0 kqlegusg ftjbd6cl mu99tzkh tdgv6ycz j6ngj7h7 olwqhsk7",children:[f===!0?null:b("React").jsx("div",{className:"nabn9mys ik1wvm6v rdbp6ao3 kh7dz1kp o0foh442 aeqptlwn",children:e}),b("React").jsx("div",{className:"f0w9ysip trztskah kqlegusg ftjbd6cl",children:b("React").jsx(b("WIGTextPairing.react"),{body:a,bodyLineLimit:1,meta:i,metaLineLimit:1,level:4,reduceEmphasis:!0})}),d!=null&&h&&b("React").jsx("div",{className:"th886wed",children:d})]})})}))}e.exports=a}),null);
__d("WorkGalahadEntitySideColumnSeeMoreLink.react",["fbt","Link.react","React","WIGText.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.onClick;return b("React").jsx("div",{className:"lenub8rc gzdapie8",children:b("React").jsx(b("WIGText.react"),{type:"meta4",color:"secondary",children:b("React").jsx(b("Link.react"),{href:"#",onClick:a,className:"b69vs25w exwtzifa",children:g._("Xem th\u00eam...")})})})}e.exports=a}),null);
__d("getWorkGalahadChatAttachmentIcon",["ix","MercuryAttachment","asset"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();a=b("MercuryAttachment").getAttachTypeByMime(a);switch(a){case"attach:image":return g("1069404");case"attach:video":return g("1069431");case"attach:music":return g("1069422");case"attach:voice":return g("1069422");case"attach:text":return g("1069428");case"attach:pdf":return g("1069407");case"attach:richtext":return g("1069419");case"attach:spreadsheet":return g("1069425");case"attach:presentation":return g("1069413");case"attach:archive":return g("1069386");case"attach:ms:word":return g("1069434");case"attach:ms:xls":return g("1069389");case"attach:ms:ppt":return g("1069410");default:return g("1069392")}}e.exports=a}),null);
__d("WorkGalahadGroupChatSideColumnFiles.react",["fbt","Image.react","MercuryAttachment","MercuryMessageStore","Middot.react","React","RelayFBEnvironment","RelayModern","Timestamp.react","WIGLink.react","WIGPressable.react","WIGProgressIndicator.react","WIGText.react","WorkChatSideColumnEventEmitter","WorkGalahadEntitySideColumnBlock.react","WorkGalahadEntitySideColumnListItem.react","WorkGalahadEntitySideColumnSeeMoreLink.react","WorkGalahadSideColumnStyles","compactArray","emptyFunction","formatDate","getWorkGalahadChatAttachmentIcon","gkx","promiseDone","stylex","useFileViewLazyDialog","WorkGalahadGroupChatSideColumnFilesQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=b("React").useCallback,k=b("React").useEffect,l=b("React").useState,m=b("RelayModern").fetchQuery;b("RelayModern").graphql;var n={spinnerContainer:{alignSelf:"t1pia6h7",marginTop:"gzdapie8",textAlign:"an5vjm4i"}},o=3,p=7,q=g._("File"),r=h!==void 0?h:h=b("WorkGalahadGroupChatSideColumnFilesQuery.graphql"),s=function(a){return b("compactArray")(((a==null?void 0:(a=a.message_thread)==null?void 0:(a=a.message_shared_media)==null?void 0:a.edges)||[]).map(function(a){return a.node}).filter(function(a){return a.id!=null}).map(function(a){return{id:a.id,url:a.url,filename:a.filename,mimetype:a.mimetype,creator:a.creator,creation_time:a.creation_time,message_file_fbid:a.message_file_fbid||a.legacy_attachment_id,preview_url:a.preview_url}}))};function t(a){var c=a.file;a=a.children;var d=b("useFileViewLazyDialog")({workplaceFileID:c.message_file_fbid},!0,{surface:"CHAT_RHC",is_async:!0,markerInstance:Date.now(),onClose:b("emptyFunction")});return b("React").jsx(b("WIGPressable.react"),{display:"inline",onPress:d,children:a},c.id)}function a(a){__p&&__p();var c=a.threadFBID,d=a.threadID;a=a.title;var e=l(!1),f=e[0],h=e[1];e=l(!1);var u=e[0],v=e[1];e=l(null);var w=e[0],x=e[1];e=l([]);var y=e[0],z=e[1];e=l(null);var A=e[0],B=e[1];k(function(){return function(){A&&window.clearTimeout(A)}},[A]);var C=j(function(a,d,e){e===void 0&&(e=!0);e&&h(!0);return m(b("RelayFBEnvironment"),r,{threadFBID:c,after:a,count:d})["finally"](function(){h(!1)})},[c]),D=j(function(a){a===void 0&&(a=!0),z([]),b("promiseDone")(C(null,o,a).then(function(a){var b;z(s(a));v(!!(a==null?void 0:(b=a.message_thread)==null?void 0:(b=b.message_shared_media)==null?void 0:(b=b.page_info)==null?void 0:b.has_next_page));x(a==null?void 0:(b=a.message_thread)==null?void 0:(a=b.message_shared_media)==null?void 0:(b=a.page_info)==null?void 0:b.end_cursor)}))},[C]),E=j(function(){return C(w,p).then(function(a){var b;z([].concat(y,s(a)));v(!!(a==null?void 0:(b=a.message_thread)==null?void 0:(b=b.message_shared_media)==null?void 0:(b=b.page_info)==null?void 0:b.has_next_page));x(a==null?void 0:(b=a.message_thread)==null?void 0:(a=b.message_shared_media)==null?void 0:(b=a.page_info)==null?void 0:b.end_cursor)})},[C,y,w]);k(function(){D()},[D]);k(function(){__p&&__p();var a=new(b("MercuryMessageStore"))(d);a.subscribe(function(a){__p&&__p();var c=a==null?void 0:a.eventType;if(c===b("MercuryMessageStore").MESSAGES_CHANGED&&a.messages&&a.messages.length){c=a.messages[a.messages.length-1];if(c.has_attachment){var d=y.map(function(a){return a.message_file_fbid});a=c.attachments.filter(function(a){return b("MercuryAttachment").isFileAttachment(a)}).filter(function(a){a=a.message_file_fbid||a.legacy_attachment_id;return d.includes(a)}).length;a>0&&b("promiseDone")(C(null,a,!1).then(function(a){a=s(a);z([].concat(a,y))}))}else c.message_unsendability_status==="deny_tombstone_message"&&D(!1)}});return function(){return a.destroy()}},[d,c,C,y,D]);k(function(){var a=b("WorkChatSideColumnEventEmitter").addListener("message_remove_local",function(a){if(a.threadID===d&&a.message.has_attachment){a=a.message.attachments.filter(b("MercuryAttachment").isFileAttachment).length;a>0&&B(window.setTimeout(function(){D(!1)},1e3))}});return a.remove},[D,d]);return b("React").jsxs(b("WorkGalahadEntitySideColumnBlock.react").Unit,{title:a!=null?a:q,children:[!f&&y.length===0&&b("React").jsx(b("WIGText.react"),{type:"body4",children:g._("\u0110\u00e2y l\u00e0 n\u01a1i t\u1eadp h\u1ee3p c\u00e1c file b\u1ea1n chia s\u1ebb trong \u0111o\u1ea1n chat n\u00e0y \u0111\u1ec3 v\u1ec1 sau d\u1ec5 t\u00ecm l\u1ea1i.")}),y.map(function(a){var c;c=(c=a.creator)==null?void 0:c.name;var d=a.creation_time;return b("React").jsx(b("WorkGalahadEntitySideColumnListItem.react"),{ItemRenderer:function(c){c=c.children;return a.preview_url!=null?b("React").jsx(t,{file:a,children:c}):b("React").jsx(b("WIGLink.react"),{target:"_blank",href:a.url,children:b("React").jsx("div",{className:(i||(i=b("stylex")))(b("WorkGalahadSideColumnStyles").listItemLink),children:c})},a.id)},image:b("React").jsx(b("Image.react"),{height:32,width:32,src:b("getWorkGalahadChatAttachmentIcon")(a.mimetype)}),title:a.filename,subtitle:b("React").jsxs(b("React").Fragment,{children:[c&&b("React").jsx("span",{children:c}),c&&d&&b("React").jsx(b("Middot.react"),{}),d&&b("React").jsx(b("Timestamp.react"),{time:d,shorten:!1,text:b("formatDate")(d,"m/d/Y g:ia")})]})},a.id)}),f&&b("React").jsx("div",{className:(i||(i=b("stylex")))(n.spinnerContainer),children:b("React").jsx(b("WIGProgressIndicator.react"),{})}),!f&&u&&b("React").jsx(b("WorkGalahadEntitySideColumnSeeMoreLink.react"),{onClick:function(){E()}})]})}e.exports=a}),null);
__d("WorkGalahadSideColumnMediaTiles.react",["ix","fbt","GraphQLGender","Image.react","React","WIGText.react","WorkGalahadImage.react","asset","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j={root:{borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",display:"mu99tzkh",flexGrow:"ftjbd6cl",flexShrink:"kqlegusg",marginBottom:"jgcuv4po",marginEnd:"ouhd256r",marginStart:"mq32vg4l",marginTop:"kyu6y8np",minHeight:"eg3o40xf",minWidth:"f0w9ysip",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",position:"hal92y33",zIndex:"rpt3ley2",flexDirection:"sulwup3a",alignItems:"foph6o47",justifyContent:"oitujibm",flexWrap:"mhnqdiy5"},tileRoot:{alignItems:"qzq7978s",borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",display:"mu99tzkh",flexDirection:"tv52aht6",flexShrink:"kqlegusg",justifyContent:"akl1aaa0",minHeight:"eg3o40xf",minWidth:"f0w9ysip",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",zIndex:"rpt3ley2",flexGrow:"aeqptlwn",marginTop:"prqhm3cj",marginEnd:"od72kdex",marginBottom:"pc5scjqj",marginStart:"piex8o3r",position:"hal92y33",width:"hp4fv2nf"},mediaAlbumImage:{boxShadow:"hq73nqej",marginEnd:"s6ldrmtw",borderTopStartRadius:"qcplsvq8",borderTopEndRadius:"lbj7a7zq",borderBottomEndRadius:"qd9vfp32",borderBottomStartRadius:"ex16komz"},mediaVideoIconContainer:{position:"i8ovu4tj",start:"ho67y7f4",top:"ijq9shbx",transform:"o2gluci3"},mediaHoverInfo:{alignItems:"qzq7978s",borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",display:"mu99tzkh",flexDirection:"tv52aht6",flexGrow:"ftjbd6cl",flexShrink:"kqlegusg",marginBottom:"jgcuv4po",marginEnd:"ouhd256r",marginStart:"mq32vg4l",marginTop:"kyu6y8np",minHeight:"eg3o40xf",minWidth:"f0w9ysip",zIndex:"rpt3ley2",backgroundColor:"hsvx19fz",borderTopStartRadius:"qcplsvq8",borderTopEndRadius:"lbj7a7zq",borderBottomEndRadius:"qd9vfp32",borderBottomStartRadius:"ex16komz",boxSizing:"tdgv6ycz",justifyContent:"gyidwt2h",opacity:"fchkd3bi",overflowX:"ib0kwflm",overflowY:"qbbcxcfp",paddingTop:"s9o98cno",paddingBottom:"sgyxnsb9",paddingStart:"cnk4obvj",paddingEnd:"m6istlwj",position:"i8ovu4tj",start:"akkqc5af",top:"xdo5vwd7",height:"cfk3jyev",width:"lenub8rc",":hover":{opacity:"kh39u4sc"}}};function a(a){var c=a.media,d=a.render;return b("React").jsx("div",{className:(i||(i=b("stylex")))(j.root),children:c.map(function(a){var c=k(a);return b("React").jsx("div",{className:(i||(i=b("stylex")))(j.tileRoot),children:d(a,b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("span",{className:"accessible_elem",children:c}),b("React").jsx(b("WorkGalahadImage.react"),{xstyle:a.mediaType==="Album"&&j.mediaAlbumImage,src:a.imageURI,type:"rounded"}),a.mediaType==="Video"&&b("React").jsx("div",{className:(i||(i=b("stylex")))(j.mediaVideoIconContainer),children:b("React").jsx(b("Image.react"),{src:g("773250")})}),b("React").jsx("div",{className:i(j.mediaHoverInfo),children:b("React").jsx(b("WIGText.react"),{type:"meta4",color:"white",children:c})})]}))},a.id)})})}function k(a){var c=new(b("GraphQLGender"))(a.gender).toIntlVariationsEnum();switch(a.mediaType){case"Album":return h._("{name}",[h._param("name",a.name)]);case"Photo":if(a.name!=null)return h._({"*":"{name} \u0111\u00e3 t\u1ea3i l\u00ean m\u1ed9t \u1ea3nh"},[h._param("name",a.name,[1,c])]);break;case"Video":if(a.name!=null)return h._({"*":"{name} \u0111\u00e3 t\u1ea3i l\u00ean m\u1ed9t video"},[h._param("name",a.name,[1,c])]);break}}e.exports=a}),null);
__d("WorkGalahadGroupChatSideColumnMedia.react",["fbt","DisplayGenderConst","FBLogger","JSResource","MercuryMessageStore","React","RelayFBEnvironment","RelayModern","WIGPressable.react","WIGProgressIndicator.react","WorkChatSideColumnEventEmitter","WorkGalahadChatSideColumnMediaEmpty.react","WorkGalahadEntitySideColumnBlock.react","WorkGalahadEntitySideColumnSeeMoreLink.react","WorkGalahadPlaceholder.react","WorkGalahadSideColumnMediaTiles.react","compactArray","getJSEnumSafe","lazyLoadComponent","nullthrows","promiseDone","stylex","WorkGalahadGroupChatSideColumnMediaQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("React").useCallback,j=b("React").useEffect,k=b("React").useState,l=b("RelayModern").fetchQuery;b("RelayModern").graphql;var m=b("lazyLoadComponent")(b("JSResource")("MessengerThreadSharedPhotos.react").__setRef("WorkGalahadGroupChatSideColumnMedia.react")),n=h!==void 0?h:h=b("WorkGalahadGroupChatSideColumnMediaQuery.graphql"),o=6,p=g._("Ph\u01b0\u01a1ng ti\u1ec7n truy\u1ec1n th\u00f4ng"),q={MessageVideo:"Video",MessageImage:"Photo"},r=function(a){return b("compactArray")(((a==null?void 0:(a=a.message_thread)==null?void 0:(a=a.message_shared_media)==null?void 0:a.edges)||[]).map(function(a){var c;a=a.node;if(!a)return null;if(a.__typename!=="MessageImage"&&a.__typename!=="MessageVideo")return null;((c=a.creator)==null?void 0:c.name)==null&&b("FBLogger")("work_chat_rhc").warn("Expected creator name for this attachment to not be null %s",a.legacy_attachment_id);return{mediaType:q[a.__typename],id:b("nullthrows")(a.legacy_attachment_id),name:((c=a.creator)==null?void 0:c.name)||"",createdTime:b("nullthrows")(a.creation_time),url:b("nullthrows")(a.url),imageURI:b("nullthrows")((c=a.image)==null?void 0:c.uri),gender:(a=b("getJSEnumSafe")(b("DisplayGenderConst"),(c=a.creator)==null?void 0:c.gender))!=null?a:"UNKNOWN"}}))};function a(a){__p&&__p();var c=a.threadFBID,d=a.threadID;a=a.title;var e=k(!1),f=e[0],g=e[1];e=k("");var h=e[0],q=e[1];e=k([]);var s=e[0],t=e[1];e=k(!1);var u=e[0],v=e[1];e=k(null);var w=e[0],x=e[1];e=k(null);var y=e[0],z=e[1];j(function(){return function(){y&&window.clearTimeout(y)}},[y]);var A=i(function(a,d,e){e===void 0&&(e=!0);e&&g(!0);return l(b("RelayFBEnvironment"),n,{threadFBID:c,after:a,count:d})["finally"](function(){g(!1)})},[c]),B=i(function(a){a===void 0&&(a=!0),t([]),b("promiseDone")(A(null,o,a).then(function(a){var b;t(r(a));v(!!(a==null?void 0:(b=a.message_thread)==null?void 0:(b=b.message_shared_media)==null?void 0:(b=b.page_info)==null?void 0:b.has_next_page));x(a==null?void 0:(b=a.message_thread)==null?void 0:(a=b.message_shared_media)==null?void 0:(b=a.page_info)==null?void 0:b.end_cursor)}))},[A]),C=i(function(){return A(w,o).then(function(a){var b;t([].concat(s,r(a)));v(!!(a==null?void 0:(b=a.message_thread)==null?void 0:(b=b.message_shared_media)==null?void 0:(b=b.page_info)==null?void 0:b.has_next_page));x(a==null?void 0:(b=a.message_thread)==null?void 0:(a=b.message_shared_media)==null?void 0:(b=a.page_info)==null?void 0:b.end_cursor)})},[A,w,s]),D=i(function(a){__p&&__p();var c=a==null?void 0:a.eventType;if(c===b("MercuryMessageStore").MESSAGES_CHANGED&&a.messages!=null&&a.messages.length>0){c=a.messages[a.messages.length-1];if(c.has_attachment){var d=s.map(function(a){return a.id});a=c.attachments.filter(function(a){return["video","photo"].includes(a.attach_type)}).filter(function(a){return!d.includes(a==null?void 0:(a=a.metadata)==null?void 0:a.fbid)}).length;a>0&&b("promiseDone")(A(null,a,!1).then(function(a){a=r(a);t([].concat(a,s.slice(0,u&&a.length%3!==0?s.length-a.length:s.length)))}))}else c.message_unsendability_status==="deny_tombstone_message"&&B(!1)}},[A,B,u,s]);j(function(){var a=b("WorkChatSideColumnEventEmitter").addListener("message_remove_local",function(a){var b;if(a.threadID===d&&((b=a.message)==null?void 0:b.has_attachment)){b=a.message.attachments.filter(function(a){return["video","photo"].indexOf(a.attach_type)>-1}).length;b>0&&z(window.setTimeout(function(){B(!1)},1e3))}});return a.remove},[B,d]);j(function(){var a=new(b("MercuryMessageStore"))(d);a.subscribe(D);return function(){return a.destroy()}},[D,d]);j(function(){B()},[B]);return b("React").jsxs(b("WorkGalahadEntitySideColumnBlock.react").Unit,{title:a!=null?a:p,children:[!f&&s.length===0&&b("React").jsx(b("WorkGalahadChatSideColumnMediaEmpty.react"),{}),h!=""?b("React").jsx(b("WorkGalahadPlaceholder.react"),{fallback:null,children:b("React").jsx(m,{findFBID:h,onCloseSharedPhotos:function(){return q("")},threadFBID:c})}):null,b("React").jsx(b("WorkGalahadSideColumnMediaTiles.react"),{media:s,render:function(a,c){return b("React").jsx(b("WIGPressable.react"),{display:"inline",overlayDisabled:!0,onPress:function(){return q(a.id)},children:c})}}),f&&b("React").jsx("div",{className:"an5vjm4i gzdapie8 t1pia6h7",children:b("React").jsx(b("WIGProgressIndicator.react"),{})}),!f&&u?b("React").jsx(b("WorkGalahadEntitySideColumnSeeMoreLink.react"),{onClick:function(){C()}}):null]})}e.exports=a}),null);
__d("WorkGalahadEntitySideColumnInlinePrompt.react",["ix","React","WIGIcon.react","WIGPressable.react","WIGRow.react","WIGRowItem.react","WIGText.react","fbicon","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i={icon:{display:"mu99tzkh"},inlinePrompt:{backgroundColor:"tez52i33",borderTopStartRadius:"qcplsvq8",borderTopEndRadius:"lbj7a7zq",borderBottomEndRadius:"qd9vfp32",borderBottomStartRadius:"ex16komz",display:"nfce3akt",paddingTop:"s9o98cno",paddingEnd:"q8ag7aew",paddingBottom:"sgyxnsb9",paddingStart:"spg5mz9m",position:"hal92y33",width:"lenub8rc"}};function a(a){var c,d=a.onClick;a=a.placeholder;return(c=b("React")).jsx(b("WIGPressable.react"),{onPress:d,xstyle:i.inlinePrompt,overlayDisabled:!0,children:c.jsxs(b("WIGRow.react"),{paddingHorizontal:0,paddingTop:0,spacing:8,verticalAlign:"center",children:[c.jsx(b("WIGRowItem.react"),{children:c.jsx("div",{className:(h||(h=b("stylex")))(i.icon),children:b("React").jsx(b("WIGIcon.react"),{icon:b("fbicon")._(g("483767"),12),color:"highlight"})})}),b("React").jsx(b("WIGRowItem.react"),{expanding:!0,children:b("React").jsx(b("WIGText.react"),{type:"bodyLink4",color:"highlight",children:a})})]})})}e.exports=a}),null);
__d("TextAreaWithLineLimit.react",["cx","AbstractTextArea.react","React","TextAreaControl","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(a){a=a.target.value;c.$3(a)&&c.props.onChange(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this.refs.textArea.getTextFieldDOM();this.$1=new(b("TextAreaControl"))(a);this.$1.setAutogrow(!0);this.$1.onupdate()};d.componentDidUpdate=function(){this.$1.onupdate()};d.componentWillUnmount=function(){this.$1=null};d.$3=function(a){a=a.split(/\r\n|\r|\n/);if(this.props.maxLines>0&&a.length>this.props.maxLines)return!1;if(this.props.maxCharacterPerLine>0)for(var b=0;b<a.length;b++)if(a[b].length>this.props.maxCharacterPerLine)return!1;return!0};d.render=function(){var a=b("joinClasses")(this.props.className,"_3_8b");return b("React").jsx(b("AbstractTextArea.react"),babelHelpers["extends"]({},this.props,{className:a,onBlur:this.props.onLostFocus,onChange:this.$2,ref:"textArea"}))};return c}(b("React").PureComponent);a.defaultProps={maxLines:-1,maxCharacterPerLine:-1};e.exports=a}),null);
__d("WorkGalahadSideColumnTextareaWithActions.react",["cx","fbt","React","TextAreaWithLineLimit.react","WIGButtonGroup.react","WIGText.react","stylex","useFocusState"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("React").useCallback,j=b("React").useState;function a(a){__p&&__p();var c=a.initialValue;c=c===void 0?"":c;var d=a.loading;d=d===void 0?!1:d;var e=a.maxLength,f=e===void 0?0:e;e=a.onCancel;var g=a.onChange,k=a.onConfirm;a=j(c);var l=a[0],m=a[1];a=b("useFocusState")();var n=a[0],o=a[1];a=a[2];var p=i(function(){k(l)},[l,k]);return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("div",{className:"lenub8rc b3dg2zbw sgyxnsb9 mnzdkzh8 s9o98cno tdgv6ycz sp55aj51 mhhz7anb q1nbkmyk jp8o2j3k hyca1csc twcw8f7e euopemi8 dc1ehlf7 tez52i33"+(n?" lesyzev8 nhehdgye i5j6ltbc i9ema4lm ldwmcmbq":""),children:b("React").jsx("span",{className:"_8p8q",children:b("React").jsx(b("WIGText.react"),{type:"body4",children:b("React").jsx(b("TextAreaWithLineLimit.react"),{useLabel:!1,autoFocus:!0,value:l,onChange:function(a){(a.length<=f||f===0)&&(m(a),g&&g(a))},onFocus:o,onLostFocus:a,disabled:d})})})}),b("React").jsx("div",{className:"s9o98cno q95klpaw mu99tzkh",children:b("React").jsx(b("WIGButtonGroup.react"),{paddingHorizontal:0,paddingTop:0,primary:{label:h._("L\u01b0u"),onPress:p,disabled:l.trim()===c.trim()||d},secondary:{label:h._("H\u1ee7y"),onPress:e,disabled:d}})})]})}e.exports=a}),null);
__d("WorkGalahadEntitySideColumnDescriptionWithEntities.react",["React","WIGText.react","WIGTextWithEntities.react","WIGTextWithEntitiesRenderers","WIGTextWithEntitiesTransforms","WorkGalahadEntitySideColumnInlinePrompt.react","WorkGalahadSideColumnTextareaWithActions.react","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("WIGTextWithEntitiesRenderers").WIGLinkedEntityRenderer;d=b("WIGTextWithEntitiesTransforms").WIGEmojiTransform;f=b("WIGTextWithEntitiesTransforms").WIGEmoticonTransform;var g=b("WIGTextWithEntitiesTransforms").WIGLineBreakTransform,h=[d(),f(),g],i={"*":[c]};function a(a){var c=a.canChangeDescription,d=a.descriptionWithEntities,e=a.isEditing,f=a.onChangeIsEditing,g=a.onUpdateDescription;a=a.placeholder;var j=d!=null&&d.text!=null&&d.text.trim()!=="";return!j&&!c?null:e?b("React").jsx(b("WorkGalahadSideColumnTextareaWithActions.react"),{initialValue:b("nullthrows")(d.text),onConfirm:function(a){g(a),f(!1)},onCancel:function(){f(!1)}}):j?b("React").jsx(b("WIGText.react"),{type:"body4",children:b("React").jsx(b("WIGTextWithEntities.react"),{ranges:d.ranges,text:b("nullthrows")(d.text),maxLines:3,maxLength:200,renderers:i,transforms:h,truncationStyle:"see-more-and-less"})}):c&&b("React").jsx(b("WorkGalahadEntitySideColumnInlinePrompt.react"),{placeholder:a,onClick:function(){f(!0)}})}e.exports=a}),null);