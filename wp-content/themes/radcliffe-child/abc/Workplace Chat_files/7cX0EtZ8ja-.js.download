if (self.CavalryLogger) { CavalryLogger.start_js(["n0i0B"]); }

__d("FBTilesMapZoomOverlay__DEPRECATED.react",["cx","fbt","ix","Image.react","React","XUIButton.react","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("React").jsx(b("Image.react"),{src:i("22148")}),k=b("React").jsx(b("Image.react"),{src:i("22147")});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props,d=c.onZoomIn,e=c.onZoomOut;c=babelHelpers.objectWithoutPropertiesLoose(c,["onZoomIn","onZoomOut"]);return(a=b("React")).jsxs("div",babelHelpers["extends"]({},c,{children:[a.jsx("div",{children:a.jsx(b("XUIButton.react"),{disabled:d==null,image:j,label:h._("Ph\u00f3ng to"),labelIsHidden:!0,onClick:d,type:"button"})}),a.jsx("div",{children:a.jsx(b("XUIButton.react"),{className:"_3d8x",disabled:e==null,image:k,label:h._("Thu nh\u1ecf"),labelIsHidden:!0,onClick:e,type:"button"})}),this.props.onRecenter?b("React").jsx("div",{style:{marginTop:8},children:b("React").jsx(b("XUIButton.react"),{className:"_6bti",image:b("React").jsx(b("Image.react"),{src:i("22149")}),label:h._("Chuy\u1ec3n tr\u1ecdng t\u00e2m"),labelIsHidden:!0,onClick:this.props.onRecenter,type:"button"})}):null]}))};return c}(b("React").PureComponent);a.propTypes={onZoomIn:b("prop-types").func,onZoomOut:b("prop-types").func};e.exports=a}),null);
__d("FBMapFunnelLogger",["FunnelLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="MAP_WEB_FUNNEL";a=function(){__p&&__p();function a(c,d){var e;this.instanceId=++a.instanceCounter;this.firstTileLoaded=!1;this.allVisibleTilesLoaded=!1;(e=b("FunnelLogger")).startFunnel(g,this.instanceId);e.setFunnelTrackFocus(g,this.instanceId,!0);e.addFunnelTag(g,this.instanceId,"surface="+c);e.addFunnelTag(g,this.instanceId,"component_name="+d)}var c=a.prototype;c.setMapTileSource=function(a){b("FunnelLogger").addFunnelTag(g,this.instanceId,"source="+a);return this};c.endFunnel=function(){b("FunnelLogger").endFunnel(g,this.instanceId);return this};c.sendInteractiveEvent=function(a){b("FunnelLogger").appendActionWithTagIfNew(g,this.instanceId,a,"is_interactive");return this};c.onMapReady=function(){this.$1("map_ready");return this};c.onTileLoaded=function(){this.firstTileLoaded||(this.$1("first_tile_loaded"),this.firstTileLoaded=!0);return this};c.onAllVisibleTilesLoaded=function(){this.allVisibleTilesLoaded||(this.$1("all_visible_tiles_loaded"),this.allVisibleTilesLoaded=!0);return this};c.$1=function(a){b("FunnelLogger").appendAction(g,this.instanceId,a);return this};a.get=function(b,c){return new a(b,c)};return a}();a.instanceCounter=0;e.exports=a}),null);
__d("TilesMapTheme",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DEFAULT:"default",CROWDSOURCING_OSM:"crowdsourcing_osm",ROAD_MASK_OSM_EDITING:"road_mask_osm_editing",LIVE_MAPS:"live_maps",INDOOR_OSM:"indoor_osm",MAP_DIFF:"map_diff"})}),null);
__d("FBTilesMap__DEPRECATED.react",["cx","FBMapFunnelLogger","FBMapFunnelLoggerConstants","FBMapInfoButton.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","FBTilesMapZoomOverlay__DEPRECATED.react","LeafletMap__DEPRECATED.react","LeafletMarker.react","LeafletTileLayer.react","LeafletUtils","LeafletView","React","TilesMapConfig","TilesMapTheme","TilesMapUtils","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBMapFunnelLoggerConstants").MAP_TILE_SOURCES,i={maxZoom:b("TilesMapConfig").ZOOM_RANGE.MAX,minZoom:b("TilesMapConfig").ZOOM_RANGE.MIN};function j(a,c){return c!=null&&typeof c==="object"&&Object.prototype.hasOwnProperty.call(c,"type")&&c.type===b("FBOverlayElement.react")?a?c:void 0:a?void 0:c}var k=function(a){return b("React").Children.map(a,function(a){return j(!1,a)}).filter(function(a){return a!=null})},l=function(a){return b("React").Children.map(a,function(a){return j(!0,a)}).filter(function(a){return a!=null})},m=function(a){return a!=null?{overlays:l(a),others:k(a)}:{overlays:null,others:null}};c=(a=b("prop-types")).shape({horizontal:a.oneOf(["left","right","fit"]),vertical:a.oneOf(["top","bottom","fit"])});d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$2=new(b("FBMapFunnelLogger"))(d.props.surface,"FBTilesMap"),d.state={size:null},d.$6=function(a){d.setState({size:a}),d.props.onSizeSettled!=null&&d.props.onSizeSettled(a)},d.$7=function(){var a=d.props,b=a.view;a=a.onViewChange;if(b==null||a==null)return;a(b.setZoom(b.zoom+1))},d.$8=function(){var a=d.props,b=a.view;a=a.onViewChange;if(b==null||a==null)return;a(b.setZoom(b.zoom-1))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.children,d=a.className,e=a.style;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","style"]);c=m(c);var f=c.others;c=c.overlays;return b("React").jsxs(b("FBOverlayContainer.react"),{className:d,style:e,children:[b("React").jsx(b("FBOverlayBase.react"),{children:this.$3(f,a)}),c,this.$4(),this.$5()]})};d.componentDidMount=function(){this.$2.setMapTileSource(h.FACEBOOK)};d.componentWillUnmount=function(){this.$1&&this.$1.abort(),this.$2.endFunnel()};d.$4=function(){var a=this;if(this.state.size==null)return null;var c=function(){return{mapUrl:null,mapBounds:a.$9(),zoom:a.props.view==null?null:a.props.view.zoom}};return b("React").jsx(b("FBOverlayElement.react"),babelHelpers["extends"]({},this.props.infoButtonPosition,{children:b("React").jsx(b("FBMapInfoButton.react"),{popoverPosition:this.props.infoButtonPosition,fetchMapInfo:c,surface:this.props.surface})}))};d.$3=function(a,c){var d=this,e=babelHelpers["extends"]({},c.options,{zoomControl:!1}),f=null;a!=null&&(f=a.map(function(a,c){return a!=null&&typeof a==="object"&&Object.prototype.hasOwnProperty.call(a,"type")&&a.type===b("LeafletMarker.react")?b("React").cloneElement(a,{funnelLogger:d.$2}):a}));return b("React").jsxs(b("LeafletMap__DEPRECATED.react"),babelHelpers["extends"]({},c,{className:"_5db7",onSizeSettled:this.$6,options:e,controlOptions:this.props.controlOptions,funnelLogger:this.$2,children:[b("React").jsx(b("LeafletTileLayer.react"),{options:Object.assign({},this.props.tileOptions,i),urlTemplate:b("TilesMapUtils").getTileURLTemplate(null,this.props.theme),funnelLogger:this.$2}),f]}))};d.$5=function(){__p&&__p();var a=this.props,c=a.view,d=a.options,e=d.minZoom;d=d.maxZoom;var f=a.initialView,g=a.onViewChange,h=a.showZoomControls;a=a.setZoomPosition;if(c==null||g==null||!h)return null;h=b("TilesMapConfig").ZOOM_RANGE;var i=h.MAX;h=h.MIN;d=d!==void 0?Math.min(d,i):i;i=e!==void 0?Math.max(e,h):h;e=c.zoom<d?this.$7:void 0;h=c.zoom>i?this.$8:void 0;d=f&&g?function(){return g(f)}:null;return b("React").jsx(b("FBOverlayElement.react"),babelHelpers["extends"]({},a,{children:b("React").jsx(b("FBTilesMapZoomOverlay__DEPRECATED.react"),{className:"_3-8j _1yx0",onZoomIn:e,onZoomOut:h,onRecenter:d})}))};d.$9=function(){return this.state.size==null||this.props.view===void 0?null:b("LeafletUtils").getViewBounds(this.props.view,{width:this.state.size.x,height:this.state.size.y})};return c}(b("React").Component);d.propTypes={className:a.string,showZoomControls:a.bool,setZoomPosition:c,style:a.object,theme:a.string,view:a.instanceOf(b("LeafletView")),tileOptions:a.object,infoButtonPosition:c,surface:a.string};d.defaultProps={theme:"default",setZoomPosition:{vertical:"top",horizontal:"left"},infoButtonPosition:{vertical:"bottom",horizontal:"right"},options:{},onViewChange:null,initialView:null};e.exports=d}),null);
__d("XCommentPlaceTypeaheadBootstrapController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/async/place_list/comment_place_typeahead/bootstrap/",{comment_fbid:{type:"String"}})}),null);
__d("XCommentPlaceTypeaheadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/async/place_list/comment_place_typeahead/",{comment_fbid:{type:"String"},place_list_id:{type:"String"},value:{type:"String",defaultValue:""}})}),null);
__d("CommentPlaceTypeahead.react",["cx","fbt","invariant","React","WebAsyncSearchSource","XCommentPlaceTypeaheadBootstrapController","XCommentPlaceTypeaheadController","XUITypeahead.react","joinClasses"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b.commentID||b.placeListID||i(0,4977);b=a.call(this,b)||this;b.$1=b.$2();b.state={query:""};return b}var d=c.prototype;d.render=function(){var a=this,c={focusedOnInit:!0,placeholder:h._("Nh\u1eadp \u0111\u1ec1 xu\u1ea5t c\u1ee7a b\u1ea1n"),showEntriesOnFocus:!0,viewStyle:"rich",onEnterWithoutSelection:function(a){a.preventDefault(),a.stopPropagation()}};return b("React").jsx(b("XUITypeahead.react"),babelHelpers["extends"]({},c,this.props,{className:b("joinClasses")(this.props.className,"_4kol"),onChange:function(b){return a.setState({query:b.target.value})},onSelectAttempt:this.props.onSelectPlace,queryString:this.state.query,searchSource:this.$1}))};d.$2=function(){return new(b("WebAsyncSearchSource"))({getAllForEmptyQuery:!this.props.showNoResultsForEmptyQuery,queryRequests:[{uri:b("XCommentPlaceTypeaheadController").getURIBuilder().setString("comment_fbid",this.props.commentID).setString("place_list_id",this.props.placeListID).getURI()}],bootstrapRequests:[{uri:b("XCommentPlaceTypeaheadBootstrapController").getURIBuilder().setString("comment_fbid",this.props.commentID).getURI()}]})};return c}(b("React").Component);e.exports=a}),null);
__d("XPlaceListUpdateFeedStoryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/async/placelist/update_feed_story/",{comment_fbid:{type:"String"},dom_id:{type:"String",required:!0},post_id:{type:"String"}})}),null);
__d("PlaceListCommentFeedStoryUpdater",["csx","ActorURI","DOM","Parent","XAsyncRequest","XPlaceListUpdateFeedStoryController","ge","getOrCreateDOMID"],(function(a,b,c,d,e,f,g){__p&&__p();var h={};a={refreshFeedStoryForUFIRootID:function(a,c,d,e,f){a=b("ge")(a);if(!a)return;this.refreshFeedStory(a,c,d,e,f)},refreshFeedStory:function(a,b,c,d,e){a=this._findTargetNode(a);a&&this._updateNode(a,b,c,d,e)},registerFeedContext:function(a,c){a=this._findTargetWithinTree(a);h[b("getOrCreateDOMID")(a)]=c},_updateNode:function(a,c,d,e,f){a=b("getOrCreateDOMID")(a);d=b("XPlaceListUpdateFeedStoryController").getURIBuilder().setString("comment_fbid",d).setString("post_id",c).setString("dom_id",a).getURI();f!=null&&(d=b("ActorURI").create(d,f));c=e!=null?e:h[a];new(b("XAsyncRequest"))(d).setData(c!=null?{feed_context:c}:{}).send()},_findTargetNode:function(a){a=b("Parent").bySelector(a,"._5pcr");return this._findTargetWithinTree(a)},_findTargetWithinTree:function(a){return a?b("DOM").find(a,"._3x-2"):null}};e.exports=a}),null);
__d("PlaceListEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f){a=new(b("EventEmitter"))();e.exports=a}),null);
__d("PlaceListMapEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACTIVE_MAP_PAGE_UPDATE:"PlaceListInteractiveMap/activeMapPageUpdate",COMMENT_ATTACHMENT_HOVER_ON:"PlaceListInteractiveMap/commentAttachmentHoverOn",COMMENT_ATTACHMENT_HOVER_OFF:"PlaceListInteractiveMap/commentAttachmentHoverOff",PLACE_UPDATE:"PlaceListInteractiveMap/placeUpdate",PLACE_REMOVED_FROM_MAP:"PlaceListInteractiveMap/placeRemoved",COMMENT_REMOVED_PLACE:"PlaceListInteractiveMap/commentPlaceRemoved",UPDATE_TO_FEED_STORY_COMMENTS:"AddPlaceToMapComponent/placeAddedToComment"})}),null);
__d("PlaceListMapUpdater",["PlaceListCommentFeedStoryUpdater","PlaceListEventEmitter","PlaceListFeedAttachmentMapper","PlaceListMapEvents"],(function(a,b,c,d,e,f){__p&&__p();e.exports={updateMap:function(a,c,d){var e=a.ufiNode,f=a.commentFBID;a=a.feedContext;b("PlaceListCommentFeedStoryUpdater").refreshFeedStory(e,null,f,a,d);this._broadcastMapUpdate(c)},updateMapForUFIRootID:function(a,c,d){var e=a.ufiRootID,f=a.commentFBID;a=a.feedContext;b("PlaceListCommentFeedStoryUpdater").refreshFeedStoryForUFIRootID(e,null,f,a,d);this._broadcastMapUpdate(c)},updateMapForPostID:function(a,c,d){b("PlaceListFeedAttachmentMapper").getFeedStoryDOMIDsForPostID(a).forEach(function(c){return b("PlaceListCommentFeedStoryUpdater").refreshFeedStoryForUFIRootID(c,a,null,null,d)}),this._broadcastMapUpdate(c)},_broadcastMapUpdate:function(a){a=a;a instanceof Array&&(a={mapBoundingPoints:null,pins:a});if(a==null)return;b("PlaceListEventEmitter").emit(b("PlaceListMapEvents").PLACE_UPDATE,a)}}}),null);
__d("XPlaceListAddCommentFreePlaceController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/async/placelist/add_comment_free_place/",{m_dom_id:{type:"String"},place_list_id:{type:"String",required:!0},place_id:{type:"String",required:!0}})}),null);
__d("PlaceListCommentFreeAddingComponent.react",["ix","cx","fbt","ActorURI","AsyncRequest","CommentPlaceTypeahead.react","Image.react","PlaceListEventEmitter","PlaceListMapEvents","PlaceListMapUpdater","React","XPlaceListAddCommentFreePlaceController","XUIButton.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isShowingTypeahead:!1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=this.state.isShowingTypeahead?b("React").jsx(b("CommentPlaceTypeahead.react"),{className:"_2cog",onBlur:function(){return a.setState({isShowingTypeahead:!1})},onSelectPlace:this.$1.bind(this),placeListID:this.props.placeListID,tallInput:!0}):b("React").jsx(b("XUIButton.react"),{image:b("React").jsx(b("Image.react"),{src:g("115410")}),label:i._("Th\u00eam \u0111\u1ecba \u0111i\u1ec3m"),onClick:function(){return a.setState({isShowingTypeahead:!0})},placeholder:i._("T\u00ecm ki\u1ebfm \u0111\u1ecba \u0111i\u1ec3m"),size:"large",use:"confirm"});return b("React").jsx("div",{className:this.props.className,children:c})};d.$1=function(a){var c=this;a=b("XPlaceListAddCommentFreePlaceController").getURIBuilder().setString("place_list_id",this.props.placeListID).setString("place_id",a.getUniqueID()).getURI();this.props.actorID!=null&&(a=b("ActorURI").create(a,this.props.actorID));new(b("AsyncRequest"))().setURI(a).setHandler(function(a){b("PlaceListMapUpdater").updateMapForPostID(a.payload.postID,{mapBoundingPoints:a.payload.newMapBounds,pins:[{data:a.payload.addedPageData,operation:"add"}]},c.props.actorID),b("PlaceListEventEmitter").emit(b("PlaceListMapEvents").ACTIVE_MAP_PAGE_UPDATE,{placeID:a.payload.addedPageData.id,highlight:!0})}).send();this.setState({isShowingTypeahead:!1})};return c}(b("React").Component);e.exports=a}),null);
__d("PlaceListMapMarker.react",["cx","GeoCoordinates","LeafletMarker.react","React","joinClasses","leaflet"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=Object.assign({},{className:b("joinClasses")(this.props.uniqueClass,"_183r")},this.props.isActive?this.props.icons.pin:this.props.icons.dot);return b("React").jsx(b("LeafletMarker.react"),{coordinates:new(b("GeoCoordinates"))(this.props.placeData.location.latitude,this.props.placeData.location.longitude),eventHandlers:Object.assign({},this.props.eventHandlers),options:{clickable:!1,icon:b("leaflet").icon(a)}})};return c}(b("React").Component);e.exports=a}),null);
__d("PlaceListInteractiveMap.react",["csx","cx","invariant","ActorURI","DOM","Event","FBTilesMap__DEPRECATED.react","HovercardLink","LeafletUtils","Parent","PlaceListCommentFreeAddingComponent.react","PlaceListEventEmitter","PlaceListMapEvents","PlaceListMapMarker.react","React","ReactDOM","SubscriptionsHandler","leaflet","setTimeout","uniqueID"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j={iconAnchor:[12,32],iconSize:[24,32]},k={iconAnchor:[12,12],iconSize:[24,24]},l={width:800,height:600},m={zoomRange:[3,16]};a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=this,c,d,e={};this.props.placesData.forEach(function(a){return e[a.id]=a});this.setState({mapBoundingPoints:this.props.initialBounds.boundingPoints,mapView:this.$2(this.props.initialBounds.boundingPoints),placesData:e});this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions((c=b("PlaceListEventEmitter")).addListener((d=b("PlaceListMapEvents")).PLACE_UPDATE,this.$3.bind(this)),c.addListener(d.ACTIVE_MAP_PAGE_UPDATE,this.$4.bind(this)),c.addListener(d.COMMENT_ATTACHMENT_HOVER_ON,function(b){return a.$5(b)}),c.addListener(d.COMMENT_ATTACHMENT_HOVER_OFF,function(){return a.$6()}))};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.render=function(){var a=this;return b("React").jsxs("div",{className:"_4wp7",children:[b("React").jsx(b("FBTilesMap__DEPRECATED.react"),{className:"_3301",eventHandlers:this.$7(),onViewChange:function(b){return a.$8(b)},onSizeSettled:this.$9.bind(this),showZoomControls:!0,surface:"place_list",view:this.state.mapView,children:this.$10()}),this.props.allowCommentFreeAdding?b("React").jsx(b("PlaceListCommentFreeAddingComponent.react"),{className:"_1ape",placeListID:this.props.placelistID,actorID:this.props.actorID}):null]})};d.$4=function(a){this.setState({activeMapPageID:a.placeID})};d.$11=function(a,c){__p&&__p();var d=this;return function(e){__p&&__p();e=b("DOM").find(b("ReactDOM").findDOMNode(d),"img."+a);var f=b("HovercardLink").getBaseURI().addQueryData({type:"place_list_interactive_map",id:c,extragetparams:JSON.stringify({is_place_list_map:!0,placelist_id:d.props.placelistID})});d.props.actorID&&(f=b("ActorURI").create(f,d.props.actorID));e.setAttribute("data-hovercard",f.toString());e.setAttribute("data-hovercard-instant",!0);e.setAttribute("data-hovercard-offset-y",12);e.classList.add("leaflet-clickable");c!=d.state.activeMapPageID&&d.$1.addSubscriptions(b("Event").listen(e,"click",function(a){b("PlaceListEventEmitter").emit(b("PlaceListMapEvents").ACTIVE_MAP_PAGE_UPDATE,{placeID:c,highlight:!0}),b("setTimeout")(function(){return d.$12()},0),b("Event").stop(a)}))}};d.$10=function(){var a=this;return Object.keys(this.state.placesData).map(function(c,d){var e=b("uniqueID")();return b("React").jsx(b("PlaceListMapMarker.react"),{eventHandlers:{add:a.$11(e,c).bind(a)},icons:a.$13(a.state.placesData[c].icons),isActive:a.$14(c),placeData:a.state.placesData[c],uniqueClass:e},d)})};d.$8=function(a){this.setState({mapView:a})};d.$9=function(a){this.setState({mapSize:a})};d.$3=function(a){__p&&__p();if(!a)return;var b=Object.assign({},this.state.placesData);a.pins.forEach(function(a){switch(a.operation){case"add":a.data.id in b||(b[a.data.id]=a.data);break;case"remove":a.data.id in b&&delete b[a.data.id];break;default:i(0,5136,a.operation)}});this.setState({mapBoundingPoints:a.mapBoundingPoints||this.state.mapBoundingPoints,placesData:b,mapView:this.$2(a.mapBoundingPoints)})};d.$12=function(){var a=this.$15();if(a.length>0){a=b("Parent").bySelector(a[0],"._4oep");a&&a.scrollIntoView({behavior:"smooth"})}};d.$15=function(){var a=b("ReactDOM").findDOMNode(this);if(!a)return[];a=b("Parent").bySelector(a,"._23ce");return!a?[]:b("DOM").scry(a,"._3xgf")};d.$6=function(){var a=this;this.setState({hoveredCommentAttachment:null});this.state.activeMapPageID!==null&&b("setTimeout")(function(){return b("PlaceListEventEmitter").emit(b("PlaceListMapEvents").ACTIVE_MAP_PAGE_UPDATE,{placeID:a.state.activeMapPageID})},0)};d.$5=function(a){this.setState({hoveredCommentAttachment:a.placeID})};d.$14=function(a){if(this.state.hoveredCommentAttachment)return a===this.state.hoveredCommentAttachment;else return a===this.state.activeMapPageID};d.$7=function(){return{click:function(){return b("PlaceListEventEmitter").emit(b("PlaceListMapEvents").ACTIVE_MAP_PAGE_UPDATE,{placeID:null})}}};d.$2=function(a){a=b("leaflet").latLngBounds((a||this.state.mapBoundingPoints).map(function(a){return b("leaflet").latLng(a.latitude,a.longitude)}));return b("LeafletUtils").fitBounds(a,l,m)};d.$13=function(a){return{dot:Object.assign({},k,{iconUrl:a.dotUrl,iconRetinaUrl:a.dotRetinaUrl}),pin:Object.assign({},j,{iconUrl:a.pinUrl,iconRetinaUrl:a.pinRetinaUrl})}};return c}(b("React").Component);e.exports=a}),null);
__d("PlaceListMapSpotlightController",["Event","PlaceListCommentFeedStoryUpdater","PlaceListEventEmitter","PlaceListMapEvents","PlaceListMapUpdater","PlaceListPageTransitionsManager","Run","SubscriptionsHandler"],(function(a,b,c,d,e,f){e.exports={init:function(a,c){var d=new(b("SubscriptionsHandler"))();d.addSubscriptions(b("Event").listen(c.closeButton,"click",function(){return a.hide()}),b("Run").onLeave(function(){return a.hide()}),a.subscribe("hide",function(){d.release(),b("PlaceListMapUpdater").updateMapForPostID(c.postID),b("PlaceListPageTransitionsManager").handleSpotlightClosed()}),b("PlaceListEventEmitter").addListener(b("PlaceListMapEvents").PLACE_UPDATE,function(a){b("PlaceListMapUpdater").updateMapForPostID(c.postID)}));b("PlaceListCommentFeedStoryUpdater").registerFeedContext(a.getRoot(),c.feedContext)}}}),null);