if (self.CavalryLogger) { CavalryLogger.start_js(["EhoM4"]); }

__d("WorkChatAvailabilityStatusStoreQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"users",type:"[ID!]!",defaultValue:null},{kind:"LocalArgument",name:"subscriptionEnabled",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"withRecurring",type:"Boolean!",defaultValue:null}],b=[{kind:"Variable",name:"ids",variableName:"users"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"status",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"source",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"end_date",args:null,storageKey:null},g={kind:"Condition",passingValue:!1,condition:"subscriptionEnabled",selections:[{kind:"LinkedField",alias:null,name:"availability_status",storageKey:null,args:null,concreteType:"WorkUserAvailabilityStatus",plural:!1,selections:[d,{kind:"ScalarField",alias:null,name:"human_readable",args:null,storageKey:null},e,f]}]};d={kind:"Condition",passingValue:!0,condition:"subscriptionEnabled",selections:[{kind:"LinkedField",alias:null,name:"status_events",storageKey:null,args:null,concreteType:"WorkUserAvailabilityStatus",plural:!0,selections:[d,{kind:"ScalarField",alias:null,name:"start_date",args:null,storageKey:null},f,{kind:"ScalarField",alias:null,name:"dnd_mode",args:null,storageKey:null},e,{kind:"ScalarField",alias:null,name:"user_status_text",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"emoji",args:null,storageKey:null}]}]};f={kind:"ScalarField",alias:null,name:"gmt_offset_minutes",args:null,storageKey:null};e={kind:"ScalarField",alias:null,name:"start_time_seconds",args:null,storageKey:null};var h={kind:"ScalarField",alias:null,name:"end_time_seconds",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"duration",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"enabled",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"WorkChatAvailabilityStatusStoreQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:b,concreteType:null,plural:!0,selections:[{kind:"InlineFragment",type:"User",selections:[c,{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:!1,selections:[g,d,{kind:"Condition",passingValue:!0,condition:"withRecurring",selections:[f,{kind:"LinkedField",alias:null,name:"do_not_disturb_weekly_recurring_items",storageKey:null,args:null,concreteType:"WorkUserDoNotDisturbWeeklyRecurringItem",plural:!0,selections:[e,h,i,j]}]}]}]}]}]},operation:{kind:"Operation",name:"WorkChatAvailabilityStatusStoreQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:b,concreteType:null,plural:!0,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},c,{kind:"InlineFragment",type:"User",selections:[{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:!1,selections:[g,d,{kind:"Condition",passingValue:!0,condition:"withRecurring",selections:[f,{kind:"LinkedField",alias:null,name:"do_not_disturb_weekly_recurring_items",storageKey:null,args:null,concreteType:"WorkUserDoNotDisturbWeeklyRecurringItem",plural:!0,selections:[e,h,i,j,c]}]}]}]}]}]},params:{operationKind:"query",name:"WorkChatAvailabilityStatusStoreQuery",id:"2420177451346462",text:null,metadata:{}}}}();e.exports=a}),null);
__d("WorkAvailabilityStatusChangeSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"WorkAvailabilityStatusChangeSubscribeData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"work_availability_status_change_subscribe",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"WorkAvailabilityStatusChangeSubscribeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"availability_status",storageKey:null,args:null,concreteType:"WorkUserAvailabilityStatus",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"human_readable",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"source",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end_date",args:null,storageKey:null}]}]}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"WorkAvailabilityStatusChangeSubscription",type:"Subscription",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"WorkAvailabilityStatusChangeSubscription",argumentDefinitions:a,selections:b},params:{operationKind:"subscription",name:"WorkAvailabilityStatusChangeSubscription",id:"1899167706808087",text:null,metadata:{subscriptionName:"work_availability_status_change_subscribe"}}}}();e.exports=a}),null);
__d("WorkAvailabilityStatusFanoutUpdateSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"WorkAvailabilityStatusFanoutSubscribeData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={kind:"ScalarField",alias:null,name:"start_time_seconds",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"end_time_seconds",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"duration",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"enabled",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"is_schedule_changed",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},i={kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[h,{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"gmt_offset_minutes",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"status_events",storageKey:null,args:null,concreteType:"WorkUserAvailabilityStatus",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"start_date",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end_date",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"dnd_mode",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"source",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"emoji",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"user_status_text",args:null,storageKey:null}]}]}]};return{kind:"Request",fragment:{kind:"Fragment",name:"WorkAvailabilityStatusFanoutUpdateSubscription",type:"Subscription",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"work_availability_status_fanout_subscribe",storageKey:null,args:b,concreteType:"WorkAvailabilityStatusFanoutSubscribeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"do_not_disturb_weekly_recurring_items",storageKey:null,args:null,concreteType:"WorkUserDoNotDisturbWeeklyRecurringItem",plural:!0,selections:[c,d,e,f]},g,i]}]},operation:{kind:"Operation",name:"WorkAvailabilityStatusFanoutUpdateSubscription",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"work_availability_status_fanout_subscribe",storageKey:null,args:b,concreteType:"WorkAvailabilityStatusFanoutSubscribeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"do_not_disturb_weekly_recurring_items",storageKey:null,args:null,concreteType:"WorkUserDoNotDisturbWeeklyRecurringItem",plural:!0,selections:[c,d,e,f,h]},g,i]}]},params:{operationKind:"subscription",name:"WorkAvailabilityStatusFanoutUpdateSubscription",id:"2610770152280276",text:null,metadata:{subscriptionName:"work_availability_status_fanout_subscribe"}}}}();e.exports=a}),null);
__d("LitestandClassicRHC",["Arbiter","BigPipe","DOMQuery","NavigationMessage","Run","SubscriptionsHandler"],(function(a,b,c,d,e,f){__p&&__p();function g(a,c){var d=new(b("SubscriptionsHandler"))(),e=d.release.bind(d);a=b("DOMQuery").scry(a,".pagelet");var f=a.length;d.addSubscriptions(c.subscribe(a.map(function(a){return a.id+"_displayed"}),function(){--f===0&&(b("Arbiter").inform("LitestandClassicRHC/loaded"),e())}),b("Arbiter").subscribe(b("NavigationMessage").NAVIGATION_BEGIN,e),c.subscribeOnce(b("BigPipe").Events.displayed,function(){b("Arbiter").inform("LitestandClassicRHC/loaded"),e()}));b("Run").onLeave(e)}a={init:function(a){var c=b("BigPipe").getCurrentInstance();c&&c.arbiter?g(a,c.arbiter):b("Arbiter").subscribeOnce("BigPipe/init",function(b,c){g(a,c.arbiter)},"new")}};e.exports=a}),null);
__d("WorkAvailabilityStatusChangeSubscription",["RelayModern","RelayRTIGraphQLSubscriptionTopicProvider","RelayRuntime","WorkAvailabilityStatusChangeSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;var h=b("RelayModern").requestSubscription;c=b("RelayRuntime").getRequest;var i=g!==void 0?g:g=b("WorkAvailabilityStatusChangeSubscription.graphql");d=c(i);f=d.params.id;f!==null&&b("RelayRTIGraphQLSubscriptionTopicProvider").registerProvider(f,function(a){a=(a=a.input)==null?void 0:a.user_id;return a==null?null:"gqls/work_availability_status_change_subscribe/user_id_"+a});function a(a,b,c){b={input:b};return h(a,{subscription:i,variables:b,onNext:c})}e.exports={subscribe:a}}),null);
__d("WorkAvailabilityStatusFanoutUpdateSubscription",["RelayModern","RelayRTIGraphQLSubscriptionTopicProvider","RelayRuntime","WorkAvailabilityStatusFanoutUpdateSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;var h=b("RelayModern").requestSubscription;c=b("RelayRuntime").getRequest;var i=g!==void 0?g:g=b("WorkAvailabilityStatusFanoutUpdateSubscription.graphql");d=c(i);f=d.params.id;f!==null&&b("RelayRTIGraphQLSubscriptionTopicProvider").registerProvider(f,function(a){a=(a=a.input)==null?void 0:a.subscriber_id;return a==null?null:"gqls/work_availability_status_fanout_subscribe/subscriber_id_"+a});function a(a,b,c){b={input:b};return h(a,{subscription:i,variables:b,onNext:c})}e.exports={subscribe:a}}),null);
__d("WorkChatAvailabilityStatusStore",["CurrentUser","DateConsts","FBLogger","FluxStore","RelayFBEnvironment","RelayModern","WorkAvailabilityStatusChangeSubscription","WorkAvailabilityStatusFanoutUpdateSubscription","WorkChatAvailabilityStatusActions","WorkChatAvailabilityStatusDispatcher","WorkplaceDoNotDisturbUtils","WorkUserAvailabilityStatusSource","compactArray","promiseDone","setTimeoutAcrossTransitions","shallowEqual","WorkChatAvailabilityStatusStoreQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").fetchQuery;b("RelayModern").graphql;var i=30*1e3,j=3*1e3,k=10,l="DO_NOT_DISTURB",m=Object.freeze({dndStatus:null,emojiStatus:null}),n=g!==void 0?g:g=b("WorkChatAvailabilityStatusStoreQuery.graphql");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this,b("WorkChatAvailabilityStatusDispatcher"))||this;c.$WorkChatAvailabilityStatusStore1={};c.$WorkChatAvailabilityStatusStore2=new Set();c.isRecurringDoNotDisturbDialogShown=!1;var d=b("CurrentUser").getAccountID();c.fetchUsers([d],!0);c.subscribeToFanoutUpdate(d);c.subscribeUser(d,babelHelpers.assertThisInitialized(c));b("setTimeoutAcrossTransitions")(c.checkLocalUsersStatusUpdate.bind(babelHelpers.assertThisInitialized(c)),i);return c}var d=c.prototype;d.fetchUsersIfNeeded=function(a){var b=this;a=a.filter(function(a){var c;return((c=b.$WorkChatAvailabilityStatusStore1[a])==null?void 0:c.currentStatus)==null&&!b.$WorkChatAvailabilityStatusStore2.has(a)});this.fetchUsers(a)};d.fetchUsers=function(a,c,d){__p&&__p();var e=this;c===void 0&&(c=!1);d===void 0&&(d=0);if(a.length===0)return;var f=[];a.forEach(function(a){return e.$WorkChatAvailabilityStatusStore2.add(a)});var g=function(){a.forEach(function(a){return e.$WorkChatAvailabilityStatusStore2["delete"](a)})};b("promiseDone")(h(b("RelayFBEnvironment"),n,{users:a,subscriptionEnabled:!0,withRecurring:!0}),function(h){__p&&__p();var i=!1;g();try{h.nodes.forEach(function(a){__p&&__p();var b,c,d=a==null?void 0:a.id;b=a==null?void 0:(b=a.work_info)==null?void 0:b.status_events;c=a==null?void 0:(c=a.work_info)==null?void 0:c.gmt_offset_minutes;a=a==null?void 0:(a=a.work_info)==null?void 0:a.do_not_disturb_weekly_recurring_items;if(b==null||d==null)return;e.$WorkChatAvailabilityStatusStore3(d,b);c!=null&&e.$WorkChatAvailabilityStatusStore4(d,c);a!=null&&e.$WorkChatAvailabilityStatusStore5(d,a);b=e.$WorkChatAvailabilityStatusStore6(d);b!=null&&f.push(babelHelpers["extends"]({userID:d},b))})}catch(a){b("FBLogger")("workplace_chat_do_not_disturb").catching(a).mustfix("Wild error while fetching user info"),i=!0}b("WorkChatAvailabilityStatusActions").changeStatus(f);i&&c&&d<k&&b("setTimeoutAcrossTransitions")(function(){e.fetchUsers(a,c,d+1)},j)},function(f){g(),c&&d<k&&b("setTimeoutAcrossTransitions")(function(){e.fetchUsers(a,c,d+1)},j)})};d.getDescription=function(a){return((a=this.$WorkChatAvailabilityStatusStore1[a])==null?void 0:(a=a.currentStatus)==null?void 0:(a=a.dndStatus)==null?void 0:a.description)||""};d.getDescriptionWithUserName=function(a,c){if(!this.$WorkChatAvailabilityStatusStore1[c])return"";var d=this.getEndDate(c);return d==0?this.getDescription(c):b("WorkplaceDoNotDisturbUtils").getHumanReadableDescriptionWithUserName(a,d)};d.getEndDate=function(a){a=this.getActiveDoNotDisturbStatus(a);return a==null?0:(a=a.endDate)!=null?a:0};d.getCurrentStatus=function(a){return(a=this.$WorkChatAvailabilityStatusStore1[a])==null?void 0:a.currentStatus};d.getActiveDoNotDisturbStatus=function(a){var c,d=function(a){return a==null||a<=0||new Date()<new Date(a*b("DateConsts").MS_PER_SEC)};c=(c=this.$WorkChatAvailabilityStatusStore1[a])==null?void 0:(c=c.currentStatus)==null?void 0:c.dndStatus;a=(a=this.$WorkChatAvailabilityStatusStore1[a])==null?void 0:(a=a.currentStatus)==null?void 0:a.emojiStatus;if(a!=null&&a.isDoNotDisturb&&d(a.endDate))return a;return c!=null&&c.isDoNotDisturb&&d(c.endDate)?c:null};d.getIsDoNotDisturb=function(a){return this.getActiveDoNotDisturbStatus(a)!=null};d.getEndTimeForOverridingRecurringStatus=function(a){a=this.$WorkChatAvailabilityStatusStore1[a];return a==null?0:b("WorkplaceDoNotDisturbUtils").getEndTimeForOverridingRecurringStatus(a)};d.subscribeUser=function(a,b){var c=this.$WorkChatAvailabilityStatusStore1[a];c!=null?c.subscriptions.add(b):this.$WorkChatAvailabilityStatusStore1[a]={subscriptions:new Set([b])}};d.unsubscribeUser=function(a,b){this.$WorkChatAvailabilityStatusStore1[a]&&this.$WorkChatAvailabilityStatusStore1[a].subscriptions["delete"](b)};d.getIsUserDataLoaded=function(a){return!!(((a=this.$WorkChatAvailabilityStatusStore1[a])==null?void 0:a.currentStatus)!=null)};d.subscribeToFanoutUpdate=function(a){__p&&__p();var c=this,d=b("WorkAvailabilityStatusFanoutUpdateSubscription").subscribe(b("RelayFBEnvironment"),{subscriber_id:a},function(a){__p&&__p();var d,e,f,g;d=a==null?void 0:(d=a.work_availability_status_fanout_subscribe)==null?void 0:(d=d.user)==null?void 0:(d=d.work_info)==null?void 0:d.status_events;e=a==null?void 0:(e=a.work_availability_status_fanout_subscribe)==null?void 0:(e=e.user)==null?void 0:(e=e.work_info)==null?void 0:e.gmt_offset_minutes;f=a==null?void 0:(f=a.work_availability_status_fanout_subscribe)==null?void 0:f.is_schedule_changed;g=a==null?void 0:(g=a.work_availability_status_fanout_subscribe)==null?void 0:g.do_not_disturb_weekly_recurring_items;a=a==null?void 0:(a=a.work_availability_status_fanout_subscribe)==null?void 0:(a=a.user)==null?void 0:a.id;if(d==null||a==null)return;c.$WorkChatAvailabilityStatusStore3(a,d);e!=null&&c.$WorkChatAvailabilityStatusStore4(a,e);f===!0&&g!=null&&c.$WorkChatAvailabilityStatusStore5(a,g);d=c.$WorkChatAvailabilityStatusStore6(a);d!=null&&b("WorkChatAvailabilityStatusActions").changeStatus([babelHelpers["extends"]({userID:a},d)])});return{dispose:function(){d.dispose()}}};d.$WorkChatAvailabilityStatusStore6=function(a){__p&&__p();a=this.$WorkChatAvailabilityStatusStore1[a];if(a==null)return null;var c=a.statusEvents,d=a.gmtOffsetMinutes;a=a.recurringStatusItems;if(c==null)return null;var e=babelHelpers["extends"]({},m),f=new Date(),g=f.getTime()/b("DateConsts").MS_PER_SEC;if(a!=null&&d!=null)for(var a=a,h=Array.isArray(a),i=0,a=h?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=a.length)break;j=a[i++]}else{i=a.next();if(i.done)break;j=i.value}j=j;var k=j.duration,n=j.enabled,o=j.start_time_seconds;j=j.end_time_seconds;if(k==null||n==null||o==null||j==null)continue;if(!n)continue;k=b("WorkplaceDoNotDisturbUtils").checkWithinWeekTimeRange(f,o,j,d);n=k[0];o=k[1];if(n){e.dndStatus={type:"DO_NOT_DISTURB",isDoNotDisturb:!0,endDate:o,source:b("WorkUserAvailabilityStatusSource").WEEKLY_DND_SCHEDULE,description:null};break}}for(var j=c,k=Array.isArray(j),n=0,j=k?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(k){if(n>=j.length)break;o=j[n++]}else{n=j.next();if(n.done)break;o=n.value}i=o;h=i.start_date;a=i.end_date;f=i.dnd_mode;d=i.source;c=i.status;o=i.emoji;i=i.user_status_text;if(h==null||a==null)continue;if(a>0&&(h>g||a<g))continue;c===l&&d!==b("WorkUserAvailabilityStatusSource").WEEKLY_DND_SCHEDULE_OVERRIDE?e.dndStatus={type:"DO_NOT_DISTURB",isDoNotDisturb:f!=="DISABLE_DND",endDate:a,source:d,description:null}:((h=e.dndStatus)==null?void 0:h.source)===b("WorkUserAvailabilityStatusSource").WEEKLY_DND_SCHEDULE&&d===b("WorkUserAvailabilityStatusSource").WEEKLY_DND_SCHEDULE_OVERRIDE?e.dndStatus={type:"DO_NOT_DISTURB",isDoNotDisturb:f!=="DISABLE_DND",endDate:a,source:d,description:null}:c==="EMOJI_STATUS"&&o!=null&&o!==""&&i!=null&&i!==""&&(e.emojiStatus={type:"EMOJI_STATUS",isDoNotDisturb:f==="ENABLE_DND",endDate:a,source:d,emoji:o,statusText:i})}return e};d.liveSubscribe=function(a){var c=b("WorkAvailabilityStatusChangeSubscription").subscribe(b("RelayFBEnvironment"),{user_id:a},function(c){c=c==null?void 0:(c=c.work_availability_status_change_subscribe)==null?void 0:(c=c.user)==null?void 0:(c=c.work_info)==null?void 0:c.availability_status;c!=null&&c.status!=null&&Number.isInteger(c.end_date)&&b("WorkChatAvailabilityStatusActions").changeStatus([{userID:a,dndStatus:{type:"DO_NOT_DISTURB",isDoNotDisturb:c.status===l,description:c.human_readable,endDate:c.end_date,source:c.source}}])});return{dispose:function(){c.dispose()}}};d.getEndTime=function(a){return this.getEndDate(a)};d.getSource=function(a){a=this.getActiveDoNotDisturbStatus(a);return(a=a==null?void 0:a.source)!=null?a:b("WorkUserAvailabilityStatusSource").NONE};d.checkLocalUsersStatusUpdate=function(){var a=this,c=b("compactArray")(Object.keys(this.$WorkChatAvailabilityStatusStore1).map(function(b){var c=a.$WorkChatAvailabilityStatusStore6(b);return c!=null?babelHelpers["extends"]({userID:b},c):null}));b("WorkChatAvailabilityStatusActions").changeStatus(c);b("setTimeoutAcrossTransitions")(this.checkLocalUsersStatusUpdate.bind(this),i)};d.$WorkChatAvailabilityStatusStore7=function(a,b){var c=this.$WorkChatAvailabilityStatusStore1[a];if(c!=null){var d=c.currentStatus;c.currentStatus=d!=null?babelHelpers["extends"]({},d,b):babelHelpers["extends"]({},m,b)}else this.$WorkChatAvailabilityStatusStore1[a]={currentStatus:babelHelpers["extends"]({},m,b),subscriptions:new Set()}};d.$WorkChatAvailabilityStatusStore3=function(a,b){var c=this.$WorkChatAvailabilityStatusStore1[a];c!=null?c.statusEvents=b:this.$WorkChatAvailabilityStatusStore1[a]={statusEvents:b,subscriptions:new Set()}};d.$WorkChatAvailabilityStatusStore4=function(a,b){var c=this.$WorkChatAvailabilityStatusStore1[a];c!=null?c.gmtOffsetMinutes=b:this.$WorkChatAvailabilityStatusStore1[a]={gmtOffsetMinutes:b,subscriptions:new Set()}};d.$WorkChatAvailabilityStatusStore5=function(a,b){var c=this.$WorkChatAvailabilityStatusStore1[a];c!=null?c.recurringStatusItems=b:this.$WorkChatAvailabilityStatusStore1[a]={recurringStatusItems:b,subscriptions:new Set()}};d.__onDispatch=function(a){__p&&__p();var c=this;switch(a.type){case b("WorkChatAvailabilityStatusActions").Types.STATUS_CHANGED:var d=!1;a.users.forEach(function(a){var e,f=a.userID,g=a.dndStatus,h=a.emojiStatus;e=(e=c.$WorkChatAvailabilityStatusStore1[f])==null?void 0:e.currentStatus;c.$WorkChatAvailabilityStatusStore7(f,a);(e==null||!b("shallowEqual")(g,e.dndStatus)||!b("shallowEqual")(h,e.emojiStatus))&&(d=!0)});d&&this.__emitChange();break;case b("WorkChatAvailabilityStatusActions").Types.TOGGLE_RECURRING_DND_DIALOG:this.isRecurringDoNotDisturbDialogShown=!this.isRecurringDoNotDisturbDialogShown;this.__emitChange();break}};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("WorkplaceUserProfileItem.react",["ix","cx","fbt","ErrorBoundary.react","FluxContainer","Image.react","JSResource","Link.react","React","RoundImage.react","UnicodeBidi","WorkChatAvailabilityStatusStore","WorkGalahadPlaceholder.react","WorkUserAvailabilityStatusSource","XUIGrayText.react","asset","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("lazyLoadComponent")(b("JSResource")("WorkplaceDoNotDisturbMenu.react").__setRef("WorkplaceUserProfileItem.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.state={isDoNotDisturb:!1,endDate:0,availabilityStatusSource:b("WorkUserAvailabilityStatusSource").NONE,isRecurringDoNotDisturbDialogShown:!1},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("WorkChatAvailabilityStatusStore")]};c.calculateState=function(a,c){a=c.userID;return{isDoNotDisturb:(c=b("WorkChatAvailabilityStatusStore")).getIsDoNotDisturb(a),endDate:c.getEndDate(a),availabilityStatusSource:c.getSource(a),isRecurringDoNotDisturbDialogShown:c.isRecurringDoNotDisturbDialogShown}};var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){this.setState({isDoNotDisturb:a.isDoNotDisturb,endDate:a.endDate,availabilityStatusSource:a.availabilityStatusSource})};d.componentDidMount=function(){b("WorkChatAvailabilityStatusStore").fetchUsers([this.props.userID]),this.$1=b("WorkChatAvailabilityStatusStore").liveSubscribe(this.props.userID)};d.componentWillUnmount=function(){this.$1&&this.$1.dispose()};d.render=function(){var a=this.props.linkURL;return b("React").jsxs("div",{className:"clearfix _6i3r","data-testid":"profile_item_nav_bar",children:[this.$2(),b("React").jsxs(b("Link.react"),{className:"_6i3s",href:a,children:[this.$3(),this.$4(),this.$5(),this.$6()]})]})};d.$5=function(){var a=this.props,c=a.hasBlueDot;a=a.userName;return b("React").jsx("div",{dir:b("UnicodeBidi").isDirectionRTL(a)?"rtl":"ltr",className:"linkWrap"+(c?" _6i3t":""),children:a})};d.$6=function(){var a=this.state.isDoNotDisturb;return b("React").jsx("div",{className:"_6i3x",children:b("React").jsx(b("XUIGrayText.react"),{children:a?i._("Kh\u00f4ng l\u00e0m phi\u1ec1n"):i._("\u0110ang ho\u1ea1t \u0111\u1ed9ng")})})};d.$3=function(){var a=this.props.bookmarkCount;return a>0?b("React").jsx("div",{className:"rfloat",children:b("React").jsx("span",{className:"_6i3y",children:a})}):null};d.$4=function(){var a=this.props.imageURL,c=this.state.isDoNotDisturb;return b("React").jsxs("div",{className:"_6i3-",children:[b("React").jsx(b("RoundImage.react"),{className:"_6i3_",src:a,draggable:"false"}),c?b("React").jsx(b("Image.react"),{className:"_6i40",src:g("608945")}):b("React").jsx("div",{className:"_6i40 _7icf",children:b("React").jsx("div",{className:"_7icg"})})]})};d.$2=function(){var a,c=this.state,d=c.availabilityStatusSource,e=c.endDate;c=c.isDoNotDisturb;return(a=b("React")).jsx("div",{className:"_6i41",children:a.jsx(b("ErrorBoundary.react"),{children:a.jsx(b("WorkGalahadPlaceholder.react"),{fallback:null,children:a.jsx(j,{userID:this.props.userID,isDoNotDisturb:c,endDate:e,availabilityStatusSource:d,shouldShowDNDNux:this.props.shouldShowDNDNux,isRecurringDoNotDisturbDialogShown:this.state.isRecurringDoNotDisturbDialogShown})})})})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("XBookmarkAddController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/bookmarks/add/",{id:{type:"String"},source:{type:"String"},param:{type:"String"},ref:{type:"String"},reload_current_page:{type:"Bool",defaultValue:!1},redirect_to_referrer:{type:"Bool",defaultValue:!1},reload_pagelet_navigation:{type:"Bool",defaultValue:!1}})}),null);
__d("XBookmarkDeleteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/bookmarks/delete/",{id:{type:"String"},source:{type:"String"},ref:{type:"String"},reload_current_page:{type:"Bool",defaultValue:!1},redirect_to_referrer:{type:"Bool",defaultValue:!1},reload_pagelet_navigation:{type:"Bool",defaultValue:!1}})}),null);
__d("XBookmarkDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/bookmarks/dialog/",{__asyncDialog:{type:"Int"}})}),null);
__d("XBookmarkHideController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/bookmarks/hide/",{source:{type:"String"},ref:{type:"String"},redirect_to_referrer:{type:"Bool",defaultValue:!1},reload_current_page:{type:"Bool",defaultValue:!1},reload_pagelet_navigation:{type:"Bool",defaultValue:!1}})}),null);
__d("WorkSidebarGroupMenu.react",["ix","cx","fbt","AsyncDialog","AsyncRequest","Image.react","React","SUIDropdownMenu.react","SUIWorkTheme","XBookmarkAddController","XBookmarkDeleteController","XBookmarkDialogController","XBookmarkHideController","asset"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();function j(a,c){a=a.getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(a).setData({id:"page_"+c}).send()}function k(){b("AsyncDialog").send(new(b("AsyncRequest"))().setRelativeTo(null).setURI(b("XBookmarkDialogController").getURIBuilder().getURI()))}a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.preventLinkClick=function(a){a.preventDefault()};d.render=function(){var a=this,c=[];this.props.pinned?c.push({type:"item",label:i._("B\u1ecf ghim kh\u1ecfi {section name}",[i._param("section name",this.props.section)]),onClick:function(){return j(b("XBookmarkDeleteController"),a.props.id)}}):c.push({type:"item",label:i._("Ghim v\u00e0o {section name}",[i._param("section name",this.props.section)]),onClick:function(){return j(b("XBookmarkAddController"),a.props.id)}});c.push({type:"item",label:i._("\u1ea8n nh\u00f3m"),onClick:function(){return j(b("XBookmarkHideController"),a.props.id)}});c.push({type:"item",label:i._("Ch\u1ec9nh s\u1eeda t\u1ea5t c\u1ea3 c\u00e1c nh\u00f3m..."),onClick:k});return b("React").jsx(b("SUIDropdownMenu.react"),{theme:b("SUIWorkTheme"),items:c,button:b("React").jsx("div",{onClickCapture:this.preventLinkClick,role:"menu",tabIndex:"0",children:b("React").jsx(b("Image.react"),{className:"_1-qs",src:g("507413")})})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("WorkSidebarCommunitiesRow.react",["cx","FlexLayout.react","FlexLayoutItem.react","Link.react","React","TextWithEmoticons.react","WorkSidebarGroupMenu.react"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("Link.react"),{className:"_7k3y"+(this.props.newPosts!==0?" unread":""),href:this.props.uri,onClick:this.props.onClick,children:b("React").jsxs(b("FlexLayout.react"),{align:"center",children:[b("React").jsx(b("FlexLayoutItem.react"),{shrink:0,children:b("React").jsx("span",{className:"_7k3z"})}),b("React").jsx(b("FlexLayoutItem.react"),{grow:1,className:"ellipsis",children:b("React").jsx(b("TextWithEmoticons.react"),{renderEmoticons:!1,renderEmoji:!0,text:this.props.name})}),b("React").jsx(b("FlexLayoutItem.react"),{shrink:0,className:"_7mkg",children:b("React").jsx(b("WorkSidebarGroupMenu.react"),{id:this.props.id,pinned:this.props.pinned,section:this.props.section})})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("WorkSidebarHeaderRow.react",["ix","cx","FlexLayout.react","FlexLayoutItem.react","Image.react","InlineBlock.react","Link.react","React","TextWithEmoticons.react","asset"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderName=function(){var a;return(a=b("React")).jsx(b("FlexLayoutItem.react"),{grow:1,className:"_7jco",children:a.jsx(b("InlineBlock.react"),{height:24,fullWidth:!0,children:a.jsx("div",{className:"ellipsis _1g14 _1g15",children:a.jsx(b("TextWithEmoticons.react"),{renderEmoticons:!1,renderEmoji:!0,text:this.props.name})})})})};d.renderChevron=function(){return b("React").jsx(b("FlexLayoutItem.react"),{shrink:0,children:b("React").jsx(b("Image.react"),{className:"_7jcp",src:g("486570")})})};d.renderLink=function(){return b("React").jsx(b("Link.react"),{className:"_7jcq _7zib",href:this.props.uri,children:b("React").jsxs(b("FlexLayout.react"),{align:"center",children:[this.renderName(),this.renderChevron()]})})};d.render=function(){if(!this.props.is_root&&this.props.uri!=null)return this.renderLink();else return b("React").jsx("div",{className:"_7jcq",children:b("React").jsx(b("FlexLayout.react"),{align:"center",children:this.renderName()})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("WorkSidebarCommunitiesList.react",["ix","cx","fbt","Event","Image","Link.react","React","RelayFBEnvironment","SubscriptionsHandler","WorkGroupLiveUnseenSubscription","WorkSidebarCommunitiesRow.react","WorkSidebarHeaderRow.react","asset"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=b("React").useEffect,k=b("React").useState;function l(){var a=6,c=100,d=k(a),e=d[0],f=d[1];function h(){e===a&&f(c)}j(function(){e>a&&b("Event").fire(window,"resize")},[e]);d=e<c?b("React").jsx(b("Link.react"),{onClick:h,children:b("React").jsxs("span",{className:"_7sx2",children:[b("React").jsx(b("Image"),{source:g("407674"),className:"_7sx3"}),i._("Xem th\u00eam...")]})},"seeMore"):null;return[d,e]}function a(a){__p&&__p();var c=a.communities,d=a.groups;a=k(function(){var a={};d.map(function(b){return a[b.id]=b.newPosts});return a});var e=a[0],f=a[1];j(function(){var a=new(b("SubscriptionsHandler"))();d.forEach(function(c){a.addSubscriptions(b("WorkGroupLiveUnseenSubscription").subscribe(b("RelayFBEnvironment"),{group_id:c.id},{onNext:function(a){f(function(b){var d;return babelHelpers["extends"]({},b,(b={},b[c.id]=(d=a==null?void 0:(d=a.group_unseen_activity_subscribe)==null?void 0:(d=d.group)==null?void 0:d.unread_count)!=null?d:0,b))})}}))});return function(){a.release()}},[d]);var g=new Map(c.map(function(a){return[a.id,{community:a,groups:[]}]}));a=l();c=a[0];a=a[1];c=a<d.length?c:null;var h=[];d.slice(0,a).forEach(function(a){var b=g.get(a.parent_id);b?b.groups.push(a):h.push(a)});function m(a){return function(c){return b("React").jsx("li",{children:b("React").jsx(b("WorkSidebarCommunitiesRow.react"),{id:c.id,name:c.name,newPosts:e[c.id]||0,uri:c.uri,pinned:c.pinned,section:a})},c.id)}}a=Array.from(g.values()).map(function(a){var c=a.community;a=a.groups;return b("React").jsxs("div",{children:[b("React").jsx(b("WorkSidebarHeaderRow.react"),{name:c.name,uri:c.uri,is_root:c.is_root}),b("React").jsx("ul",{children:a.map(m(c.name))})]},c.id)});var n=i._("Nh\u00f3m kh\u00e1c");n=h.length>0?b("React").jsxs("div",{children:[b("React").jsx(b("WorkSidebarHeaderRow.react"),{name:n,is_root:!1}),b("React").jsx("ul",{children:h.map(m(n))})]},"section_other"):null;return b("React").jsxs("div",{className:"_7sx5",children:[a,n,c]})}e.exports=a}),null);