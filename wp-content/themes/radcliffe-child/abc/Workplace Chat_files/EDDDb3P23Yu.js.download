if (self.CavalryLogger) { CavalryLogger.start_js(["JUx0d"]); }

__d("EventsProfileLink_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"contextual_name",args:null,storageKey:null};return{kind:"Fragment",name:"EventsProfileLink_event",type:"Event",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"event_place",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,{kind:"InlineFragment",type:"Page",selections:[{kind:"LinkedField",alias:null,name:"city",storageKey:null,args:null,concreteType:"Page",plural:!1,selections:[a]}]}]},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null}]}}();e.exports=a}),null);
__d("EventTourPermalinkEventRowActionButtons_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"EventTourPermalinkEventRowActionButtons_event",type:"Event",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"EventsRelayTicketButton_event",args:null},{kind:"FragmentSpread",name:"EventsRelayWatchButton_event",args:null},{kind:"FragmentSpread",name:"EventShareButton_event",args:null}]};e.exports=a}),null);
__d("TourEventSocialContext_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"FragmentSpread",name:"TextWithEntitiesRelay_textWithEntities",args:null}];return{kind:"Fragment",name:"TourEventSocialContext_event",type:"Event",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:"friends",name:"event_connected_users",storageKey:'event_connected_users(connection_types:["INTERESTED","GOING"],first:3,is_viewer_friend:true,orderby:"importance")',args:[{kind:"Literal",name:"connection_types",value:["INTERESTED","GOING"]},{kind:"Literal",name:"first",value:3},{kind:"Literal",name:"is_viewer_friend",value:!0},{kind:"Literal",name:"orderby",value:"importance"}],concreteType:"EventConnectedUsersConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"EventConnectedUsersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:"picture",name:"profile_picture",storageKey:"profile_picture(height:40,width:40)",args:[{kind:"Literal",name:"height",value:40},{kind:"Literal",name:"width",value:40}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]}]}]}]},{kind:"LinkedField",alias:null,name:"social_context",storageKey:'social_context(social_context_format:"SHORT_WITHOUT_TICKETING")',args:[{kind:"Literal",name:"social_context_format",value:"SHORT_WITHOUT_TICKETING"}],concreteType:"TextWithEntities",plural:!1,selections:a},{kind:"LinkedField",alias:"suggestedContext",name:"suggested_event_context_sentence",storageKey:"suggested_event_context_sentence(show_category:false)",args:[{kind:"Literal",name:"show_category",value:!1}],concreteType:"TextWithEntities",plural:!1,selections:a}]}}();e.exports=a}),null);
__d("EventTourPermalinkDateBlock_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"EventTourPermalinkDateBlock_event",type:"Event",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"timezone",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"current_start_timestamp",args:null,storageKey:null}]};e.exports=a}),null);
__d("EventTourPermalinkEventInfo_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"EventTourPermalinkEventInfo_event",type:"Event",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"EventsProfileLink_event",args:null},{kind:"FragmentSpread",name:"TourEventSocialContext_event",args:null}]};e.exports=a}),null);
__d("EventTourPermalinkWatchButtonBar_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"EventTourPermalinkWatchButtonBar_event",type:"Event",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:"connectionStyle",name:"connection_style",args:null,storageKey:null},{kind:"ScalarField",alias:"eventID",name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:"watchStatus",name:"viewer_watch_status",args:null,storageKey:null},{kind:"ScalarField",alias:"canJoin",name:"can_viewer_join",args:null,storageKey:null}]};e.exports=a}),null);
__d("TourEventListCardPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"tourID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"upcoming",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"past",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"nearbyOnly",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"count",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"cursor",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"isViewerLoggedIn",type:"Boolean",defaultValue:!0}],b=[{kind:"Variable",name:"id",variableName:"tourID"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"nearby_only",variableName:"nearbyOnly"},{kind:"Variable",name:"past",variableName:"past"},{kind:"Variable",name:"upcoming",variableName:"upcoming"}],e={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"contextual_name",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},h=[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},c]}]}],i={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"TourEventListCardPaginationQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"tour",name:"event_tour",storageKey:null,args:b,concreteType:"EventTour",plural:!1,selections:[{kind:"FragmentSpread",name:"TourEventListCard_tour",args:null}]}]},operation:{kind:"Operation",name:"TourEventListCardPaginationQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"tour",name:"event_tour",storageKey:null,args:b,concreteType:"EventTour",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"has_event_with_location",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"ticketing_uri",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tour_name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tour_events",storageKey:null,args:d,concreteType:"EventTourToEventsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"EventTourToEventsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Event",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"event_place",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"location",storageKey:null,args:null,concreteType:"Location",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"latitude",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"longitude",args:null,storageKey:null}]},c,f,{kind:"InlineFragment",type:"Page",selections:[{kind:"LinkedField",alias:null,name:"city",storageKey:null,args:null,concreteType:"Page",plural:!1,selections:[f,c]}]}]},{kind:"ScalarField",alias:"startTimeLabel",name:"start_time_sentence",args:[{kind:"Literal",name:"format",value:"SHORT_TIME_LABEL"}],storageKey:'start_time_sentence(format:"SHORT_TIME_LABEL")'},{kind:"ScalarField",alias:null,name:"timezone",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"current_start_timestamp",args:null,storageKey:null},g,{kind:"LinkedField",alias:"friends",name:"event_connected_users",storageKey:'event_connected_users(connection_types:["INTERESTED","GOING"],first:3,is_viewer_friend:true,orderby:"importance")',args:[{kind:"Literal",name:"connection_types",value:["INTERESTED","GOING"]},{kind:"Literal",name:"first",value:3},{kind:"Literal",name:"is_viewer_friend",value:!0},{kind:"Literal",name:"orderby",value:"importance"}],concreteType:"EventConnectedUsersConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"EventConnectedUsersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,g,{kind:"LinkedField",alias:"picture",name:"profile_picture",storageKey:"profile_picture(height:40,width:40)",args:[{kind:"Literal",name:"height",value:40},{kind:"Literal",name:"width",value:40}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},c]}]}]},{kind:"LinkedField",alias:null,name:"social_context",storageKey:'social_context(social_context_format:"SHORT_WITHOUT_TICKETING")',args:[{kind:"Literal",name:"social_context_format",value:"SHORT_WITHOUT_TICKETING"}],concreteType:"TextWithEntities",plural:!1,selections:h},{kind:"LinkedField",alias:"suggestedContext",name:"suggested_event_context_sentence",storageKey:"suggested_event_context_sentence(show_category:false)",args:[{kind:"Literal",name:"show_category",value:!1}],concreteType:"TextWithEntities",plural:!1,selections:h},e,{kind:"Condition",passingValue:!0,condition:"isViewerLoggedIn",selections:[{kind:"ScalarField",alias:null,name:"can_viewer_purchase_onsite_tickets",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_viewer_sent_message_or_requested_tickets",args:null,storageKey:null},{kind:"ScalarField",alias:"ticketUrl",name:"event_buy_ticket_url",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"parent_event",storageKey:null,args:null,concreteType:"Event",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"ticket_settings",storageKey:"ticket_settings(first:1)",args:[{kind:"Literal",name:"first",value:1}],concreteType:"EventTicketSettingFromEventConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"EventTicketSettingFromEventEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"EventTicketSetting",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"ticket_setting_type",args:null,storageKey:null},c]}]}]},c]},{kind:"ScalarField",alias:null,name:"has_child_events",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"ticket_tiers",storageKey:null,args:null,concreteType:"EventToEventTicketTierConnection",plural:!1,selections:[i]},{kind:"LinkedField",alias:null,name:"event_creator",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,g,{kind:"ScalarField",alias:null,name:"can_viewer_message",args:null,storageKey:null},c]},{kind:"ScalarField",alias:"connectionStyle",name:"connection_style",args:null,storageKey:null},{kind:"ScalarField",alias:"eventID",name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:"watchStatus",name:"viewer_watch_status",args:null,storageKey:null},{kind:"ScalarField",alias:"canJoin",name:"can_viewer_join",args:null,storageKey:null},{kind:"ScalarField",alias:"kind",name:"event_kind",args:null,storageKey:null},{kind:"LinkedField",alias:"parentGroup",name:"parent_group",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[{kind:"ScalarField",alias:"groupID",name:"group_id",args:null,storageKey:null},c]},{kind:"LinkedField",alias:"viewer",name:"event_viewer",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,c,{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:"isWorkUser",name:"is_work_user",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:"viewerCapability",name:"event_viewer_capability",storageKey:null,args:null,concreteType:"EventViewerCapability",plural:!1,selections:[{kind:"ScalarField",alias:"canInvite",name:"can_viewer_invite",args:null,storageKey:null},{kind:"ScalarField",alias:"canShare",name:"can_viewer_share",args:null,storageKey:null}]}]}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},i,{kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:null,name:"tour_events",args:d,handle:"connection",key:"TourEventListCard_tour_events",filters:["upcoming","past","nearby_only"]}]}]},params:{operationKind:"query",name:"TourEventListCardPaginationQuery",id:"1818103408243255",text:null,metadata:{}}}}();e.exports=a}),null);
__d("TourEventListCardRendererQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"tourID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"upcoming",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"past",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"nearbyOnly",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"count",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"cursor",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"isViewerLoggedIn",type:"Boolean",defaultValue:!0}],b=[{kind:"Variable",name:"id",variableName:"tourID"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"nearby_only",variableName:"nearbyOnly"},{kind:"Variable",name:"past",variableName:"past"},{kind:"Variable",name:"upcoming",variableName:"upcoming"}],e={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"contextual_name",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},h=[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},c]}]}],i={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"TourEventListCardRendererQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"tour",name:"event_tour",storageKey:null,args:b,concreteType:"EventTour",plural:!1,selections:[{kind:"FragmentSpread",name:"TourEventListCard_tour",args:null}]}]},operation:{kind:"Operation",name:"TourEventListCardRendererQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"tour",name:"event_tour",storageKey:null,args:b,concreteType:"EventTour",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"has_event_with_location",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"ticketing_uri",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tour_name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tour_events",storageKey:null,args:d,concreteType:"EventTourToEventsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"EventTourToEventsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Event",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"event_place",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"location",storageKey:null,args:null,concreteType:"Location",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"latitude",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"longitude",args:null,storageKey:null}]},c,f,{kind:"InlineFragment",type:"Page",selections:[{kind:"LinkedField",alias:null,name:"city",storageKey:null,args:null,concreteType:"Page",plural:!1,selections:[f,c]}]}]},{kind:"ScalarField",alias:"startTimeLabel",name:"start_time_sentence",args:[{kind:"Literal",name:"format",value:"SHORT_TIME_LABEL"}],storageKey:'start_time_sentence(format:"SHORT_TIME_LABEL")'},{kind:"ScalarField",alias:null,name:"timezone",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"current_start_timestamp",args:null,storageKey:null},g,{kind:"LinkedField",alias:"friends",name:"event_connected_users",storageKey:'event_connected_users(connection_types:["INTERESTED","GOING"],first:3,is_viewer_friend:true,orderby:"importance")',args:[{kind:"Literal",name:"connection_types",value:["INTERESTED","GOING"]},{kind:"Literal",name:"first",value:3},{kind:"Literal",name:"is_viewer_friend",value:!0},{kind:"Literal",name:"orderby",value:"importance"}],concreteType:"EventConnectedUsersConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"EventConnectedUsersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,g,{kind:"LinkedField",alias:"picture",name:"profile_picture",storageKey:"profile_picture(height:40,width:40)",args:[{kind:"Literal",name:"height",value:40},{kind:"Literal",name:"width",value:40}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},c]}]}]},{kind:"LinkedField",alias:null,name:"social_context",storageKey:'social_context(social_context_format:"SHORT_WITHOUT_TICKETING")',args:[{kind:"Literal",name:"social_context_format",value:"SHORT_WITHOUT_TICKETING"}],concreteType:"TextWithEntities",plural:!1,selections:h},{kind:"LinkedField",alias:"suggestedContext",name:"suggested_event_context_sentence",storageKey:"suggested_event_context_sentence(show_category:false)",args:[{kind:"Literal",name:"show_category",value:!1}],concreteType:"TextWithEntities",plural:!1,selections:h},e,{kind:"Condition",passingValue:!0,condition:"isViewerLoggedIn",selections:[{kind:"ScalarField",alias:null,name:"can_viewer_purchase_onsite_tickets",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_viewer_sent_message_or_requested_tickets",args:null,storageKey:null},{kind:"ScalarField",alias:"ticketUrl",name:"event_buy_ticket_url",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"parent_event",storageKey:null,args:null,concreteType:"Event",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"ticket_settings",storageKey:"ticket_settings(first:1)",args:[{kind:"Literal",name:"first",value:1}],concreteType:"EventTicketSettingFromEventConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"EventTicketSettingFromEventEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"EventTicketSetting",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"ticket_setting_type",args:null,storageKey:null},c]}]}]},c]},{kind:"ScalarField",alias:null,name:"has_child_events",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"ticket_tiers",storageKey:null,args:null,concreteType:"EventToEventTicketTierConnection",plural:!1,selections:[i]},{kind:"LinkedField",alias:null,name:"event_creator",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,g,{kind:"ScalarField",alias:null,name:"can_viewer_message",args:null,storageKey:null},c]},{kind:"ScalarField",alias:"connectionStyle",name:"connection_style",args:null,storageKey:null},{kind:"ScalarField",alias:"eventID",name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:"watchStatus",name:"viewer_watch_status",args:null,storageKey:null},{kind:"ScalarField",alias:"canJoin",name:"can_viewer_join",args:null,storageKey:null},{kind:"ScalarField",alias:"kind",name:"event_kind",args:null,storageKey:null},{kind:"LinkedField",alias:"parentGroup",name:"parent_group",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[{kind:"ScalarField",alias:"groupID",name:"group_id",args:null,storageKey:null},c]},{kind:"LinkedField",alias:"viewer",name:"event_viewer",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,c,{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:"isWorkUser",name:"is_work_user",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:"viewerCapability",name:"event_viewer_capability",storageKey:null,args:null,concreteType:"EventViewerCapability",plural:!1,selections:[{kind:"ScalarField",alias:"canInvite",name:"can_viewer_invite",args:null,storageKey:null},{kind:"ScalarField",alias:"canShare",name:"can_viewer_share",args:null,storageKey:null}]}]}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},i,{kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:null,name:"tour_events",args:d,handle:"connection",key:"TourEventListCard_tour_events",filters:["upcoming","past","nearby_only"]}]}]},params:{operationKind:"query",name:"TourEventListCardRendererQuery",id:"1909732519070748",text:null,metadata:{relayPreloadable:!0}}}}();e.exports=a}),null);
__d("TourEventListCard_tour.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"TourEventListCard_tour",type:"EventTour",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:["tour_events"]}]},argumentDefinitions:[{kind:"RootArgument",name:"upcoming",type:"Boolean"},{kind:"RootArgument",name:"past",type:"Boolean"},{kind:"RootArgument",name:"nearbyOnly",type:"Boolean"},{kind:"RootArgument",name:"count",type:"Int"},{kind:"RootArgument",name:"cursor",type:"ID"}],selections:[a,{kind:"ScalarField",alias:null,name:"has_event_with_location",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"ticketing_uri",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tour_name",args:null,storageKey:null},{kind:"LinkedField",alias:"tour_events",name:"__TourEventListCard_tour_events_connection",storageKey:null,args:[{kind:"Variable",name:"nearby_only",variableName:"nearbyOnly"},{kind:"Variable",name:"past",variableName:"past"},{kind:"Variable",name:"upcoming",variableName:"upcoming"}],concreteType:"EventTourToEventsConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"EventTourToEventsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Event",plural:!1,selections:[a,{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"FragmentSpread",name:"TourEventListRow_event",args:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"TourEventListMap_events",args:null}]}]}}();e.exports=a}),null);
__d("TourEventListMap_events.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"TourEventListMap_events",type:"EventTourToEventsConnection",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"EventTourToEventsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Event",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"event_place",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:null,name:"location",storageKey:null,args:null,concreteType:"Location",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"latitude",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"longitude",args:null,storageKey:null}]},{kind:"InlineFragment",type:"Page",selections:[{kind:"LinkedField",alias:null,name:"city",storageKey:null,args:null,concreteType:"Page",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"contextual_name",args:null,storageKey:null}]}]}]}]}]}]};e.exports=a}),null);
__d("TourEventListPastRow_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"TourEventListPastRow_event",type:"Event",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"event_place",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"contextual_name",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"EventTourPermalinkDateBlock_event",args:null},{kind:"FragmentSpread",name:"EventTourPermalinkEventInfo_event",args:null}]};e.exports=a}),null);
__d("TourEventListRecommendedRow_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"TourEventListRecommendedRow_event",type:"Event",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"isViewerLoggedIn",type:"Boolean!"}],selections:[{kind:"ScalarField",alias:"startTimeLabel",name:"start_time_sentence",args:[{kind:"Literal",name:"format",value:"SHORT_TIME_LABEL"}],storageKey:'start_time_sentence(format:"SHORT_TIME_LABEL")'},{kind:"FragmentSpread",name:"EventTourPermalinkDateBlock_event",args:null},{kind:"Condition",passingValue:!0,condition:"isViewerLoggedIn",selections:[{kind:"FragmentSpread",name:"EventTourPermalinkEventRowActionButtons_event",args:null}]},{kind:"FragmentSpread",name:"EventTourPermalinkEventInfo_event",args:null},{kind:"FragmentSpread",name:"EventsProfileLink_event",args:null}]};e.exports=a}),null);
__d("TourEventListRow_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"TourEventListRow_event",type:"Event",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"FragmentSpread",name:"TourEventListRecommendedRow_event",args:null},{kind:"FragmentSpread",name:"TourEventListUpcomingRow_event",args:null},{kind:"FragmentSpread",name:"TourEventListUpcomingCompactRow_event",args:null},{kind:"FragmentSpread",name:"TourEventListPastRow_event",args:null}]};e.exports=a}),null);
__d("TourEventListUpcomingCompactRow_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"TourEventListUpcomingCompactRow_event",type:"Event",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"isViewerLoggedIn",type:"Boolean!"}],selections:[{kind:"LinkedField",alias:null,name:"event_place",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"contextual_name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"location",storageKey:null,args:null,concreteType:"Location",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"latitude",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"longitude",args:null,storageKey:null}]}]},{kind:"FragmentSpread",name:"EventTourPermalinkDateBlock_event",args:null},{kind:"FragmentSpread",name:"EventTourPermalinkEventInfo_event",args:null},{kind:"Condition",passingValue:!0,condition:"isViewerLoggedIn",selections:[{kind:"FragmentSpread",name:"EventTourPermalinkWatchButtonBar_event",args:null}]}]};e.exports=a}),null);
__d("TourEventListUpcomingRow_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"TourEventListUpcomingRow_event",type:"Event",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"isViewerLoggedIn",type:"Boolean!"}],selections:[{kind:"LinkedField",alias:null,name:"event_place",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"contextual_name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"location",storageKey:null,args:null,concreteType:"Location",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"latitude",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"longitude",args:null,storageKey:null}]}]},{kind:"FragmentSpread",name:"EventTourPermalinkDateBlock_event",args:null},{kind:"FragmentSpread",name:"EventTourPermalinkEventInfo_event",args:null},{kind:"Condition",passingValue:!0,condition:"isViewerLoggedIn",selections:[{kind:"FragmentSpread",name:"EventTourPermalinkEventRowActionButtons_event",args:null}]}]};e.exports=a}),null);
__d("ElementResizeEmitterX",["cx","invariant","DOM","EventListener","SubscriptionList","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=!!navigator.userAgent.match(/Trident/);a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var d;getComputedStyle(b).position!=="static"||h(0,533);d=a.call(this,c.__setup,c.__teardown)||this;d.$ElementResizeEmitterX1=b;d.$ElementResizeEmitterX2=!1;return d}c.__setup=function(){var a=document.createElement("iframe");this.$ElementResizeEmitterX3=a;i&&(a.src="javascript:void((function(){document.open();document.domain="+JSON.stringify(document.domain)+";document.close();})())");a.className="_3dtr";a.onload=this.$ElementResizeEmitterX4.bind(this);this.$ElementResizeEmitterX1.appendChild(a)};c.__teardown=function(){this.$ElementResizeEmitterX3&&(this.$ElementResizeEmitterX5!=void 0&&this.$ElementResizeEmitterX3.document!==void 0&&this.$ElementResizeEmitterX5.remove(),b("DOM").remove(this.$ElementResizeEmitterX3),this.$ElementResizeEmitterX3=void 0)};var d=c.prototype;d.$ElementResizeEmitterX4=function(){this.$ElementResizeEmitterX6();var a;try{a=this.$ElementResizeEmitterX3.contentWindow,a.document}catch(a){return}this.$ElementResizeEmitterX5=b("EventListener").listen(a,"resize",this.$ElementResizeEmitterX6.bind(this))};d.$ElementResizeEmitterX6=function(){var a=this;if(this.$ElementResizeEmitterX2)return;this.$ElementResizeEmitterX2=!0;b("requestAnimationFrame")(function(){a.fireCallbacks(),a.$ElementResizeEmitterX2=!1})};return c}(b("SubscriptionList"));e.exports=a}),null);
__d("FBMapFunnelLoggerConstants",[],(function(a,b,c,d,e,f){"use strict";a={GESTURE_SINGLE_TAP:"gesture_single_tap",MOVE_MAP:"move_map",ZOOM_MAP:"zoom_map",MARKER_CLICK:"marker_click"};b={MAP_READY:"map_ready",FIRST_TILE_LOADED:"first_tile_loaded",ALL_VISIBLE_TILES_LOADED:"all_visible_tiles_loaded"};c={MAPBOX:"mapbox",FACEBOOK:"facebook"};d={IS_INTERACTIVE:"is_interactive"};e.exports={MAP_EVENTS:b,MAP_INTERACTIVE_EVENTS:a,MAP_TILE_SOURCES:c,MAP_TAGS:d}}),null);
__d("forEachDifference",["forEachObject"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){b("forEachObject")(a,function(a,b){Object.prototype.hasOwnProperty.call(c,b)?d.onBoth&&d.onBoth(a,c[b],b):d.onLeft&&d.onLeft(a,b)}),b("forEachObject")(c,function(b,c){!Object.prototype.hasOwnProperty.call(a,c)&&d.onRight&&d.onRight(b,c)})}e.exports=a}),null);
__d("partitionObject",["forEachObject"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e={},f={};b("forEachObject")(a,function(b,g){c.call(d,b,g,a)?e[g]=b:f[g]=b});return[e,f]}e.exports=a}),null);
__d("partitionObjectByKey",["partitionObject"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("partitionObject")(a,function(a,b){return c.has(b)})}e.exports=a}),null);
__d("LeafletLayer.react",["React","areEqual","forEachDifference","forEachObject","partitionObjectByKey","prop-types"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=void 0,b)||babelHelpers.assertThisInitialized(c)}c.mutateEventHandlers=function(a,c,d){(g||(g=b("areEqual")))(c,d)||b("forEachDifference")(c||{},d||{},{onLeft:function(b,c){a.on(c,b)},onRight:function(b,c){a.off(c,b)},onBoth:function(b,c,d){b!==c&&(a.off(d,c),a.on(d,b))}})};c.addEventHandlers=function(a,c){c!=null&&b("forEachObject")(c,function(b,c){a.on(c,b)})};var d=c.prototype;d.componentDidMount=function(){this.$2(i(this.props))};d.componentDidUpdate=function(a){var b=i(this.props),c=i(a);(this.props.onUpdateLayer!==a.onUpdateLayer||!this.props.onUpdateLayer(this.$1,b,c))&&(this.props.onRemoveLayer?this.props.onRemoveLayer(this.$1):this.context.onRemoveLayer(this.$1),this.$2(b))};d.$2=function(a){this.$1=this.props.onCreateLayer(a),this.props.onAddLayer?this.props.onAddLayer(this.$1):this.context.onAddLayer(this.$1)};d.componentWillUnmount=function(){this.$1&&(this.props.onRemoveLayer?this.props.onRemoveLayer(this.$1):this.context.onRemoveLayer(this.$1),this.$1=null)};d.render=function(){return null};return c}(b("React").Component);a.propTypes={onCreateLayer:(c=b("prop-types")).func.isRequired,onUpdateLayer:c.func.isRequired,onAddLayer:c.func,onRemoveLayer:c.func};a.contextTypes={onAddLayer:c.func.isRequired,onRemoveLayer:c.func.isRequired};var h=new Set(Object.keys(a.propTypes));function i(a){return b("partitionObjectByKey")(a,h)[1]}e.exports=a}),null);
__d("LeafletMapLayer.react",["invariant","LeafletLayer.react","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=b("React").Children.only(d.props.children);d.$3=a;return a.type.toLayer(a.props)},d.$2=function(a,c,e){var f=b("React").Children.only(d.props.children);if(f.type!==d.$3.type)return!1;d.$3=f;return f.type.mutate(a,c,e)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=b("React").Children.only(this.props.children);a.type.mutate||g(0,2335);a.type.toLayer||g(0,2336)};d.render=function(){var a=b("React").Children.only(this.props.children);return b("React").jsx(b("LeafletLayer.react"),babelHelpers["extends"]({},a.props,{onAddLayer:this.props.onAddLayer,onRemoveLayer:this.props.onRemoveLayer,onCreateLayer:this.$1,onUpdateLayer:this.$2}))};return c}(b("React").Component);a.propTypes={onAddLayer:b("prop-types").func,onRemoveLayer:b("prop-types").func};e.exports=a}),null);
__d("LeafletView",["invariant","GeoCoordinates","ImmutableObject","nearlyEqualNumbers"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c||g(0,666);c.center instanceof b("GeoCoordinates")||g(0,667);typeof c.zoom==="number"||g(0,668);return a.call(this,c)||this}var d=c.prototype;d.nearlyEquals=function(a){return this.center.nearlyEquals(a.center)&&b("nearlyEqualNumbers")(this.zoom,a.zoom)};d.setZoom=function(a){return new c({center:this.center,zoom:a})};d.setCenter=function(a){return new c({center:a,zoom:this.zoom})};return c}(b("ImmutableObject"));a.DEFAULT=new a({center:new(b("GeoCoordinates"))(0,0),zoom:0});e.exports=a}),null);
__d("LeafletUtils",["GeoCoordinates","LeafletView","leaflet","mod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("leaflet")).CRS.EPSG3857,h=360,i=h/2,j=a.LatLng.DEG_TO_RAD,k=a.LatLng.RAD_TO_DEG,l=a.Projection.Mercator.R_MAJOR,m=2*Math.PI*l;c=new a.LatLngBounds(new a.LatLng(-h/4,-h/2),new a.LatLng(h/4,h/2));var n={WHOLE_WORLD_BOUNDS:c,FULL_CIRCLE_DEG:h,fromLatLng:function(a){return new(b("GeoCoordinates"))(a.lat,a.lng)},normalizedBounds:function(a,c){var d=n.wrapLongitude(a.lng);c=b("leaflet").latLng(c.lat,c.lng+d-a.lng);a=b("leaflet").latLng(a.lat,d);return b("leaflet").latLngBounds(a,c)},fitBounds:function(a,c,d){var e=d.crs||g;d=d.zoomRange;c=n.getBoundsZoom(a,c,{zoomRange:d,crs:e});c==null&&(c=d[0]);d=e.latLngToPoint(a.getSouthWest(),c);a=e.latLngToPoint(a.getNorthEast(),c);e=n.fromLatLng(e.pointToLatLng(d.add(a).divideBy(2),c));return new(b("LeafletView"))({center:e,zoom:c})},getBoundsZoom:function(a,c,d){__p&&__p();var e=d.crs||g;d=d.zoomRange;c=b("leaflet").point(c.width,c.height);var f=a.getNorthWest();a=a.getSouthEast();var h=d[0]-1;for(;h<=d[1];++h){var i=e.latLngToPoint(a,h+1),j=e.latLngToPoint(f,h+1);i=i.subtract(j).floor();if(!c.contains(i))break}if(h<d[0])return null;return h<=d[1]?h:h-1},getViewBounds:function(a,c,d){d=d||g;var e=c.width/2;c=c.height/2;var f=n.toLatLng(a.center);f=d.latLngToPoint(f,a.zoom);var h=d.pointToLatLng(b("leaflet").point(f.x-e,f.y+c),a.zoom);d=d.pointToLatLng(b("leaflet").point(f.x+e,f.y-c),a.zoom);return n.normalizedBounds(h,d)},isViewInBounds:function(a,b,c,d){var e=n.getViewBounds(a,b,d),f=n.shiftBoundsLng(e,h);return c.some(function(a){return a.contains(e)||a.contains(f)})},projectCircle:function(a,c,d){d=d||g;var e=n.toLatLng(a.center),f=d.projection;e=n.circleBounds(e,a.radius,f);a=d.latLngToPoint(e.getCenter(),c);f=d.latLngToPoint(e.getSouthWest(),c);d=d.latLngToPoint(e.getNorthEast(),c);e=b("leaflet").point(Math.round((d.x-f.x)/2),Math.round((f.y-d.y)/2));return{center:a,radius:e}},circleBounds:function(a,c,d){__p&&__p();d=d||g.projection;var e=a.lat;a=a.lng;c=c/l*k;var f=d.project(b("leaflet").latLng(e+c,a)),h=d.project(b("leaflet").latLng(e-c,a));f=f.add(h).divideBy(2);h=d.unproject(f).lat;d=e*j;f=h*j;e=Math.acos((Math.cos(c*j)-Math.sin(d)*Math.sin(f))/(Math.cos(d)*Math.cos(f)))*k;return b("leaflet").latLngBounds(b("leaflet").latLng(h-c,a-e),b("leaflet").latLng(h+c,a+e))},shiftBoundsLng:function(a,c){return b("leaflet").latLngBounds([a.getSouthWest().lat,a.getSouthWest().lng+c],[a.getNorthEast().lat,a.getNorthEast().lng+c])},toLatLng:function(a){return new(b("leaflet").LatLng)(a.latitude,a.longitude)},wrapLongitude:function(a){return b("mod")(a+i,h)-i},areViewEqual:function(a,b){if(!a&&!b)return!0;return!a||!b?!1:a.zoom===b.zoom&&a.center.latitude===b.center.latitude&&a.center.longitude===b.center.longitude},metersToPixels:function(a,b){return a/(m*Math.abs(Math.cos(b.center.latitude*j))/Math.pow(2,b.zoom+8))},distanceFromLatLng:function(a,c,d){__p&&__p();c=c/l;d=d*j;var e=a.lat*j;a=a.lng*j;var f=Math.sin(e);e=Math.cos(e);var g=Math.sin(c);c=Math.cos(c);var h=Math.sin(d);d=Math.cos(d);d=f*c+e*g*d;var i=Math.asin(d);h=h*g*e;g=c-f*d;e=a+Math.atan2(h,g);return new(b("leaflet").LatLng)(i*k,n.wrapLongitude(e*k))}};e.exports=n}),null);
__d("LeafletMap__DEPRECATED.react",["invariant","ElementResizeEmitterX","FBMapFunnelLoggerConstants","LeafletMapLayer.react","LeafletUtils","LeafletView","React","ReactDOM","debounceCore","emptyFunction","forEachDifference","leaflet","nullthrows","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBMapFunnelLoggerConstants").MAP_INTERACTIVE_EVENTS,i=100,j=10,k=new Set(["dragging","touchZoom","doubleClickZoom","scrollWheelZoom","boxZoom","keyboard","tab"]),l=(a=b("prop-types")).instanceOf(b("LeafletView"));function m(a){var c=a.getCenter();return new(b("LeafletView"))({center:b("LeafletUtils").fromLatLng(c),zoom:a.getZoom()})}function n(a,b){return{center:[a.center.latitude,a.center.longitude],zoom:a.zoom,attributionControl:!1,layers:b,trackResize:!1}}function o(a,b,c){if(!k.has(b))throw new Error("cannot change Leaflet option `"+b+"` during component lifetime");a[b][c?"enable":"disable"]()}function p(a,c,d){if(c===d)return;b("forEachDifference")(c,d,{onLeft:function(b,c){return o(a,c,b)},onRight:function(a,b){throw new Error("reverting Leaflet option `"+b+"` back to default is not supported")},onBoth:function(b,c,d){b!==c&&o(a,d,b)}})}function q(a,c,d){b("forEachDifference")(c,d,{onLeft:function(b,c){return void a.on(c,b)},onRight:function(b,c){return void a.off(c,b)},onBoth:function(b,c,d){b!==c&&(a.off(d,c),a.on(d,b))}})}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$4=function(a){if(c.$3){c.$3.addLayer(a);return}c.$11().push(a)},c.$5=function(a){c.$3!==void 0||g(0,6089),c.$3!==null&&c.$3.removeLayer(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getChildContext=function(){return{onAddLayer:this.$4,onRemoveLayer:this.$5}};d.componentDidMount=function(){__p&&__p();var a=this,c=Object.assign({},this.props.defaultOptions,this.props.options,n(this.$10(),this.$11())),d=this.props.funnelLogger;c=this.$3=b("leaflet").map(b("ReactDOM").findDOMNode(this),c);c.whenReady(function(){d!=null&&d.onMapReady()});(this.props.controlOptions||{}).showScale&&b("leaflet").control.scale({imperial:!1,shiftRight:!0}).addTo(this.$3);this.$1=null;this.$8=b("debounceCore")(this.$12.bind(this),i);q(c,this.props.eventHandlers,{});c.on("movestart",this.$13.bind(this));c.on("moveend",this.$14.bind(this));d!=null&&(c.on("movestart",function(){d.sendInteractiveEvent(h.MOVE_MAP)}),c.on("zoomstart",function(){d.sendInteractiveEvent(h.ZOOM_MAP)}),c.on("click",function(){d.sendInteractiveEvent(h.GESTURE_SINGLE_TAP)}));this.$2="still";this.$9=new Set();this.$7=b("debounceCore")(function(b,c){a.$3&&a.$3.setView(b,c)},j);this.$6=new(b("ElementResizeEmitterX"))(b("ReactDOM").findDOMNode(this)).add(function(){var c=a.$3;c!=null&&(c.invalidateSize(),b("nullthrows")(a.props.onSizeSettled)(c.getSize()))});(this.props.controlOptions||{}).showLayerControls&&this.$15();(this.props.controlOptions||{}).zoomToKeyedBounds&&this.$16()};d.componentDidUpdate=function(a){var b=this.$3;if(b==null)return;var c=this.props,d=c.eventHandlers;c=c.options;q(b,d,a.eventHandlers);p(b,c,a.options);this.$18(a.view)};d.componentWillUnmount=function(){this.$6.remove(),this.$3!=null&&this.$3.remove(),this.$3=null};d.render=function(){var a=this,c=b("React").Children.map(this.props.children,function(c,d){if(!c)return c;return c.type.toLayer==null?c:b("React").jsx(b("LeafletMapLayer.react"),{onAddLayer:a.$4,onRemoveLayer:a.$5,children:c},c.key)});return b("React").jsx("div",{className:this.props.className,style:babelHelpers["extends"]({display:"relative"},this.props.style),children:c})};d.$15=function(){if(this.$3===null||this.$3===void 0)return;var a={};this.$3.eachLayer(function(b){b.options&&b.options.key&&(a[b.options.key]=b)});b("leaflet").control.layers(null,a,{collapsed:!1}).addTo(this.$3)};d.$16=function(){if(this.$3===null||this.$3===void 0)return;var a=new(b("leaflet").LatLngBounds)();this.$3.eachLayer(function(b){b.options&&b.options.key&&(typeof b.getBounds==="function"?a.extend(b.getBounds()):typeof b.getLatLng==="function"&&a.extend(b.getLatLng()))});this.$3&&this.$3.fitBounds(a)};d.$11=function(){this.$1||(this.$1=[]);return this.$1};d.$10=function(){if(this.props.view)return this.props.view;return this.props.defaultView?this.props.defaultView:b("LeafletView").DEFAULT};d.$14=function(){__p&&__p();if(!this.$3)return;var a=m(this.$3),b=this.$2;this.$2="still";if(this.props.view){if(b==="moving-stale"){this.$12();return}if(a.nearlyEquals(this.props.view))return;this.$8()}if(!this.props.onViewChange)return;this.props.onViewChange(a)};d.$13=function(){if(!this.$3)return;this.$2==="still"&&(this.$2="moving")};d.$12=function(){this.$8.reset();this.$2==="moving"&&(this.$2="moving-stale");var a=this.props.view,b=this.$3;if(a==null||b==null||a.nearlyEquals(m(b)))return;this.$7([a.center.latitude,a.center.longitude],a.zoom)};d.$18=function(a){var b=this.props.view;if(!b||!this.$3||b===a||a&&b.nearlyEquals(a))return;this.$12()};d.$17=function(a,b){a[b]!==this.props[b]&&!this.$9.has(b)&&this.$9.add(b)};return c}(b("React").Component);c.propTypes={className:a.string,defaultOptions:a.object,defaultView:a.instanceOf(b("LeafletView")),eventHandlers:a.object,onSizeSettled:a.func,onViewChange:a.func,options:a.object,style:a.object,view:function(a,b,c){for(var d=arguments.length,e=new Array(d>3?d-3:0),f=3;f<d;f++)e[f-3]=arguments[f];var g=l.apply(void 0,[a,b,c].concat(e));if(!a[b]||g)return g;if(a[b]&&a.defaultView)return new Error("You provided both `view` and `defaultView` props to LeafletMap__DEPRECATED. `defaultView` will be discarded.");return a.onViewChange?null:new Error("You provided a `view` prop to LeafletMap__DEPRECATED without an `onViewChange` handler. This will prevent the user to move the view. If the view should be movable use `defaultView`. Otherwise, set `onViewChange`.")},funnelLogger:a.object};c.defaultProps={eventHandlers:{},onSizeSettled:b("emptyFunction"),options:{},funnelLogger:null};c.childContextTypes={onAddLayer:a.func.isRequired,onRemoveLayer:a.func.isRequired};e.exports=c}),null);
__d("LeafletMarker.react",["FBMapFunnelLoggerConstants","LeafletLayer.react","LeafletUtils","React","areEqual","leaflet","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("FBMapFunnelLoggerConstants").MAP_INTERACTIVE_EVENTS;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a,c,d){__p&&__p();var e=d.options||{},f=e.opacity,h=e.zIndex;e=babelHelpers.objectWithoutPropertiesLoose(e,["opacity","zIndex"]);var i=c.options||{},j=i.opacity,k=i.zIndex;i=babelHelpers.objectWithoutPropertiesLoose(i,["opacity","zIndex"]);if(!(g||(g=b("areEqual")))(i,e))return!1;j!==f&&a.setOpacity(j);k!==h&&a.setZIndex(k);c.coordinates!==d.coordinates&&a.setLatLng(b("LeafletUtils").toLatLng(c.coordinates));i=c.popup;if(i){e=i.type.mutate(a.getPopup(),i.props,b("nullthrows")(d.popup).props);e||(a.unbindPopup(),a.bindPopup(i.type.toLayer(i.props,a)))}else!i&&d.popup&&a.unbindPopup();b("LeafletLayer.react").mutateEventHandlers(a,c.eventHandlers,d.eventHandlers);return!0};d.$2=function(a){var c=b("leaflet").marker(b("LeafletUtils").toLatLng(a.coordinates),a.options);a.popup&&c.bindPopup(a.popup.type.toLayer(a.popup.props,c));b("LeafletLayer.react").addEventHandlers(c,a.eventHandlers);var d=a.funnelLogger;d!=null&&c.on("click",function(){d.sendInteractiveEvent(h.MARKER_CLICK)});return c};d.render=function(){return b("React").jsx(b("LeafletLayer.react"),babelHelpers["extends"]({},this.props,{onCreateLayer:this.$2,onUpdateLayer:this.$1}))};return c}(b("React").Component);e.exports=a}),null);
__d("LeafletPopup.react",["GeoCoordinates","LeafletUtils","React","ReactDOM","areEqual","leaflet","prop-types"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.mutate=function(a,c,d){if(!(g||(g=b("areEqual")))(c.options,d.options))return!1;c.coordinates!==d.coordinates&&a.setLatLng(b("LeafletUtils").toLatLng(c.coordinates));d=a.getContent();c=b("React").Children.only(c.children);b("ReactDOM").render(c,d,function(){return a.update()});return!0};c.toLayer=function(a,c){var d=b("leaflet").popup(a.options,c);a.coordinates&&d.setLatLng(b("LeafletUtils").toLatLng(a.coordinates));c=b("React").Children.only(a.children);a=document.createElement("div");d.setContent(a);b("ReactDOM").render(c,a,function(){return d.update()});return d};var d=c.prototype;d.render=function(){return null};return c}(b("React").Component);a.propTypes={options:b("prop-types").object,coordinates:b("prop-types").instanceOf(b("GeoCoordinates"))};e.exports=a}),null);
__d("LeafletTileLayer.react",["LeafletLayer.react","React","areEqual","leaflet","prop-types"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("leaflet").TileLayer.extend({getTileUrl:function(a){return this._url.includes("{quadkey}")?b("leaflet").Util.template(this._url,b("leaflet").Util.extend({quadkey:this._getQuad(a)},this.options)):b("leaflet").TileLayer.prototype.getTileUrl.call(this,a)},_getQuad:function(a){var b=this._getZoomForUrl(),c,d,e=[];for(;b>0;b--)d=0,c=1<<b-1,(a.x&c)!==0&&(d+=1),(a.y&c)!==0&&(d+=2),e.push(d);return e.join("")}});a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("LeafletLayer.react"),babelHelpers["extends"]({},this.props,{onCreateLayer:i,onUpdateLayer:j}))};return c}(b("React").Component);a.propTypes={options:b("prop-types").object,urlTemplate:b("prop-types").string.isRequired,funnelLogger:b("prop-types").object};function i(a){var b=new h(a.urlTemplate,a.options);a.funnelLogger!=null&&(b.on("tileload",function(){a.funnelLogger.onTileLoaded()}),b.on("load",function(){a.funnelLogger.onAllVisibleTilesLoaded()}));return b}function j(a,c,d){__p&&__p();var e=d.options||{},f=e.opacity,h=e.zIndex;e=babelHelpers.objectWithoutPropertiesLoose(e,["opacity","zIndex"]);var i=c.options||{},j=i.opacity,k=i.zIndex;i=babelHelpers.objectWithoutPropertiesLoose(i,["opacity","zIndex"]);if(!(g||(g=b("areEqual")))(i,e))return!1;j!==f&&a.setOpacity(j);k!==h&&a.setZIndex(k);c.urlTemplate!==d.urlTemplate&&a.setUrl(c.urlTemplate);return!0}e.exports=a}),null);
__d("XEventMapAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/event/dialog/map/",{tour_id:{type:"FBID"},event_id:{type:"FBID"}})}),null);
__d("EventTourMap.react",["fbt","cx","AsyncRequest","DateBlock.react","EventsActionsLogger","FBJSON","FlexLayout.react","GeoCoordinates","Grid.react","LeafletMap__DEPRECATED.react","LeafletMarker.react","LeafletPopup.react","LeafletTileLayer.react","LeafletUtils","Link.react","React","leaflet","XEventMapAsyncController","XEventsPermalinkController","XUIText.react","XUIGrayText.react","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Grid.react").GridItem,j=b("leaflet").icon({iconUrl:"/images/places/map/red-pin-with-shadow.png",iconSize:[20,25],iconAnchor:[15,22]}),k="https://www.facebook.com/map_tile.php?x={x}&y={y}&z={z}&language=en_US&v=3&size=256",l={zoomRange:[1,16]},m=4,n=10,o=50;function p(a){return b("React").jsx(b("FlexLayout.react"),{style:{height:a.height},align:"center",justify:"center",children:g._("Ch\u00fang t\u00f4i kh\u00f4ng t\u00ecm \u0111\u01b0\u1ee3c \u0111\u1ecba \u0111i\u1ec3m t\u1ed5 ch\u1ee9c s\u1ef1 ki\u1ec7n")})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;var d=c.$1();c.state={mapView:d,selectedEventID:b.events.length>0?b.events[0].id:null,eventInfo:{},showInitialPopup:b.showInitialPopup};return c}var d=c.prototype;d.componentDidMount=function(){this.$2(),b("EventsActionsLogger").log(null,{type:b("EventsActionsLogger").Type.LOAD,target:b("EventsActionsLogger").Target.MAP_DIALOG,acontext:this.props.actionContext},{tour_id:this.props.tourID})};d.$2=function(){this.props.onLocationChange&&(this.state.selectedEventID!==null?this.state.eventInfo[this.state.selectedEventID]!==void 0&&this.props.onLocationChange(this.state.eventInfo[this.state.selectedEventID]):this.props.onLocationChange(null)),this.state.selectedEventID&&this.$3(this.state.selectedEventID)};d.$1=function(){__p&&__p();var a=this;if(this.props.events.length===0)return null;var c=null,d=[];this.props.events.forEach(function(e){var f=b("leaflet").latLng(e.latitude,e.longitude);d.push(f);e.id===a.props.initialEventToCenter&&(c=b("LeafletUtils").fromLatLng(f))});var e=this.$4(d,c,this.props.initialZoom);e.zoom>n&&(e=e.setZoom(n));return e};d.$4=function(a,c,d){__p&&__p();var e=b("LeafletUtils").fitBounds(b("leaflet").latLngBounds(a),{width:this.props.width,height:this.props.height},l);c&&(e=e.setCenter(c));d&&(e=e.setZoom(d));if(a.length<=2||e.zoom>=m-1)return e;if(c||d)return e;c=a.length;d=Math.ceil(c/2);var f=100;while(f-->0&&(e.zoom>=m+1||e.zoom<=m-1))e.zoom<=m-1?c-=d:c+=d,d=Math.ceil(d/2),e=b("LeafletUtils").fitBounds(b("leaflet").latLngBounds(a.slice(0,c)),{width:this.props.width-o,height:this.props.height-o},l);return e};d.$5=function(){var a=this,c=this.props.events.map(function(c){var d=function(b){a.setState({showInitialPopup:!1,selectedEventID:c.id})},e=new(b("GeoCoordinates"))(c.latitude,c.longitude);return b("React").jsx(b("LeafletMarker.react"),{coordinates:e,options:{icon:j,riseOnHover:!0,clickable:!0},popup:a.$6(c,!1),eventHandlers:{click:d}},c.id)});return c};d.$3=function(a){__p&&__p();var c=this;if(a in this.state.eventInfo)return;var d=b("XEventMapAsyncController").getURIBuilder().setFBID("event_id",a).getURI();new(b("AsyncRequest"))(d).setHandler(function(b){if(b.payload){var d=c.state.eventInfo;d[a]=b.payload;c.setState({eventInfo:d})}}).send()};d.$6=function(a,c){var d=b("React").jsx("div",{className:"_d1w",children:b("React").jsx(b("XUISpinner.react"),{})});this.state.selectedEventID===a.id&&(this.state.eventInfo[a.id]&&(d=this.$7(this.state.eventInfo[a.id])));return c?b("React").jsx(b("LeafletPopup.react"),{options:{closeButton:!1,className:"_1rfu",autoPan:!1},coordinates:new(b("GeoCoordinates"))(a.latitude,a.longitude),children:d}):b("React").jsx(b("LeafletPopup.react"),{options:{closeButton:!1,className:"_1rfu"},children:d})};d.$7=function(a){var c;return(c=b("React")).jsxs(b("Grid.react"),{cols:2,children:[c.jsx(i,{children:c.jsx(b("DateBlock.react"),{day:a.day,month:a.month})}),c.jsxs(i,{className:"_d1v",children:[c.jsx(b("Link.react"),{href:this.$8(parseInt(a.id,10)),children:c.jsx(b("XUIText.react"),{size:"header4",display:"block",className:"_3twc",children:a.location})}),c.jsx(b("XUIGrayText.react"),{shade:"light",size:"meta1",display:"block",children:a.start_time_sentence})]})]})};d.$8=function(a){return b("XEventsPermalinkController").getURIBuilder().setFBID("event_id",a).setString("acontext",b("FBJSON").stringify(this.props.actionContext)).getURI()};d.componentDidUpdate=function(){this.$2()};d.UNSAFE_componentWillReceiveProps=function(a){if(a.resetMap){a=this.$1();this.setState({mapView:a})}};d.render=function(){var a=this,c=this.state,d=c.mapView;c=c.showInitialPopup;if(d===null)return b("React").jsx(p,babelHelpers["extends"]({},this.props));var e=function(b){a.setState({selectedEventID:null})};return b("React").jsx("div",{className:"_2h2-",children:b("React").jsxs(b("LeafletMap__DEPRECATED.react"),{defaultOptions:this.props.defaultOptions,view:d,onViewChange:function(b){a.setState({mapView:b})},eventHandlers:{click:e},style:{width:this.props.width,height:this.props.height},children:[b("React").jsx(b("LeafletTileLayer.react"),{options:{maxZoom:l.zoomRange[1],minZoom:l.zoomRange[0]},urlTemplate:k}),this.$5(),c?this.$6(this.props.events[0],!0):null]})})};return c}(b("React").Component);a.defaultProps={showInitialPopup:!0};e.exports=a}),null);
__d("EventTourMapDialog.react",["cx","fbt","AsyncRequest","EventActionContext","EventsActionsLogger","EventTourMap.react","Link.react","React","XEventMapAsyncController","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogCloseButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISpinner.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=600,j=500;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$5=function(){b("EventsActionsLogger").log(d.state.selectedEvent?d.state.selectedEvent.id:null,{type:b("EventsActionsLogger").Type.CLICK,target:b("EventsActionsLogger").Target.GET_DIRECTIONS_BUTTON,acontext:d.state.actionContext},{tour_id:d.props.tourID})};d.$1=function(){d.setState({dialogShown:!0,selectedEvent:void 0})};d.$3=function(){d.setState({dialogShown:!d.state.dialogShown})};d.state={dialogShown:!1,actionContext:d.props.actionContext};return d}var d=c.prototype;d.componentDidMount=function(){b("EventsActionsLogger").log(null,{type:b("EventsActionsLogger").Type.LOAD,target:b("EventsActionsLogger").Target.MAP_LINK,acontext:this.props.actionContext},{tour_id:this.props.tourID}),this.props.openRightAway&&this.$1()};d.$2=function(){__p&&__p();var a=this;if(!this.state.dialogShown)return null;if(!this.state.events){var c=b("XEventMapAsyncController").getURIBuilder().setFBID("tour_id",this.props.tourID).getURI();new(b("AsyncRequest"))(c).setHandler(function(c){if(c.payload){var d=a.props.actionContext;b("EventActionContext").addActionHistoryEntry(d,{surface:b("EventsActionsLogger").Surface.PAGE,mechanism:b("EventsActionsLogger").Mechanism.TOUR_MAP,extra_data:"{}"});a.setState({events:c.payload,actionContext:d})}}).send();b("EventsActionsLogger").log(null,{type:b("EventsActionsLogger").Type.CLICK,target:b("EventsActionsLogger").Target.MAP_LINK,acontext:this.props.actionContext},{tour_id:this.props.tourID});return b("React").jsx(b("XUIDialog.react"),{className:"_4le-",shown:this.state.dialogShown,onToggle:this.$3,hideOnEscape:!0,width:400,children:b("React").jsx("div",{className:"_4hay",children:b("React").jsx(b("XUISpinner.react"),{size:"large"})})})}return b("React").jsxs(b("XUIDialog.react"),{className:"_4le-",casualElementRef:function(){return a.refs.button},shown:this.state.dialogShown,onToggle:this.$3,hideOnEscape:!0,width:i,children:[b("React").jsx(b("XUIDialogTitle.react"),{children:this.props.tourName}),b("React").jsx(b("XUIDialogBody.react"),{useCustomPadding:!0,className:"_4le_",children:b("React").jsx(b("EventTourMap.react"),{onLocationChange:function(b){a.setState({selectedEvent:b})},width:i,height:j,events:this.state.events,actionContext:this.state.actionContext,tourID:this.props.tourID})}),b("React").jsxs(b("XUIDialogFooter.react"),{leftContent:b("React").jsx(b("XUIText.react"),{weight:"bold",className:"_4lf0",children:this.state.selectedEvent?this.state.selectedEvent.location_full:null}),children:[b("React").jsx(b("XUIDialogCloseButton.react"),{}),this.$4()]})]})};d.$4=function(){var a=!this.state.selectedEvent,c=this.state.selectedEvent?this.state.selectedEvent.directions_uri:"#";return b("React").jsx(b("XUIButton.react"),{use:"confirm",disabled:a,href:{url:c},target:"_blank",onClick:this.$5,label:h._("Xem \u0111\u01b0\u1eddng \u0111i")},"get-directions")};d.render=function(){return this.props.openRightAway?this.$2():b("React").jsxs("div",{className:"_38bl",children:[this.$2(),b("React").jsx(b("Link.react"),{href:"#",onClick:this.$1,children:h._("Xem b\u1ea3n \u0111\u1ed3 tham quan")})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("EventsProfileLink.react",["BusinessURI.brands","Link.react","Middot.react","React","RelayModern","URI","XEventsPermalinkController","XUIText.react","EventsProfileLink_event.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a,c=this.props,d=c.actionContext,e=c.color,f=c.event,g=c.showhovercard,i=c.titleType,j=c.bold;c=c.className;var k=null;g&&(k=new(h||(h=b("URI")))("/ajax/hovercard/event.php").addQueryData("id",f.id).toString());g=b("XEventsPermalinkController").getURIBuilder().setFBID("event_id",f.id).setString("acontext",JSON.stringify(d)).getURI();d=f.name;a=(a=f)!=null?(a=a.event_place)!=null?(a=a.city)!=null?a.contextual_name:a:a:a;f=(f=f)!=null?(f=f.event_place)!=null?f.contextual_name:f:f;i==="venue_and_city"?a&&f!==a?d=b("React").jsxs("span",{children:[f," ",b("React").jsx(b("Middot.react"),{})," ",a]}):f&&(d=f):i==="city"?a&&(d=a):i==="venue"&&(f&&(d=f));return b("React").jsx(b("Link.react"),{href:b("BusinessURI.brands")(g),"data-hovercard":k,children:b("React").jsxs(b("XUIText.react"),{className:c,color:e,weight:j?"bold":"normal",children:[" ",d," "]})})};return c}(b("React").PureComponent);e.exports=a(c,{event:g!==void 0?g:g=b("EventsProfileLink_event.graphql")})}),null);
__d("EventTourPermalinkCard.react",["cx","React","XUICard.react","XUICardHeader.react","XUICardHeaderTitle.react","XUICardSection.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.headerType==="secondary";return b("React").jsxs(b("XUICard.react"),{className:"_646g",children:[a.title?b("React").jsx(b("XUICardHeader.react"),{link:a.headerLink?a.headerLink:null,type:a.headerType||"primary",className:c?"_4cw7":"",children:b("React").jsx(b("XUICardHeaderTitle.react"),{children:b("React").jsx("span",{className:c?"_4cw8":"",children:a.title})})}):null,b("React").jsx(b("XUICardSection.react"),{children:a.children}),a.footer?b("React").jsx(b("XUICardSection.react"),{children:a.footer}):null]})}e.exports=a}),null);
__d("EventTourPermalinkEventRowActionButtons.react",["cx","EventActionContext","EventShareButton.react","EventsRelayTicketButton.react","EventsRelayWatchButton.react","React","RelayModern","EventTourPermalinkEventRowActionButtons_event.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.acontext,d=a.event,e=a.fallbackTicketURI;a=a.showShareButton;if(!d)return null;var f=null;this.props.align==="left"?f="flex-start":this.props.align==="right"&&(f="flex-end");return b("React").jsxs("div",{style:{justifyContent:f},className:"_13n2",children:[b("React").jsx(b("EventsRelayTicketButton.react"),{className:"_13o5",actionContext:c,fallbackTicketURI:e,event:d}),b("React").jsx(b("EventsRelayWatchButton.react"),{className:"_13o5",actionContext:b("EventActionContext").toString(c),event:d}),a?b("React").jsx("span",{className:"_13o5",children:b("React").jsx(b("EventShareButton.react"),{actionContext:b("EventActionContext").toString(c),event:d})}):null]})};return c}(b("React").Component);e.exports=a(c,{event:h!==void 0?h:h=b("EventTourPermalinkEventRowActionButtons_event.graphql")})}),null);
__d("TourEventSocialContext.react",["cx","FacepileRounded.react","React","RelayModern","TextWithEntitiesRelay.react","nullthrows","TourEventSocialContext_event.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.event,c=a.friends,d=[],e=null;c&&c.edges&&c.edges.length>0&&(d=c.edges.map(function(a){var c;a=(c=b("nullthrows"))(a.node);return{image_src:c(c(a.picture).uri),name:c(a.name)}}),e=b("React").jsx(b("FacepileRounded.react"),{className:"_64jp",hoverBehavior:"name",imageSize:12,numProfilesToDisplay:3,profiles:d}));return b("React").jsxs("div",{className:"_2hxj",children:[e,b("React").jsx(b("TextWithEntitiesRelay.react"),{textWithEntities:e?a.social_context:a.suggestedContext})]})};return c}(b("React").Component);e.exports=a(c,{event:h!==void 0?h:h=b("TourEventSocialContext_event.graphql")})}),null);
__d("EventTourPermalinkDateBlock.react",["DateBlock.react","DateStrings","DateTime","React","RelayModern","Timezone","nullthrows","TimezoneNamesData","EventTourPermalinkDateBlock_event.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;b("Timezone").registerNamesModule(b("TimezoneNamesData"));return c}var d=c.prototype;d.render=function(){var a=this.props,c=a.event;a=a.className;var d=c.timezone;c=c.current_start_timestamp;d=b("Timezone").getByName(d||"UTC");c=new(b("DateTime"))(b("nullthrows")(c),d);d=b("DateStrings").getUppercaseMonthNameShort(c.getMonth());c=c.getDayOfMonth().toString();return b("React").jsx("div",{className:a,children:b("React").jsx(b("DateBlock.react"),{day:c,month:d,size:"small"})})};return c}(b("React").Component);e.exports=a(c,{event:g!==void 0?g:g=b("EventTourPermalinkDateBlock_event.graphql")})}),null);
__d("EventTourPermalinkEventInfo.react",["cx","EventsProfileLink.react","React","RelayModern","TourEventSocialContext.react","XUIText.react","EventTourPermalinkEventInfo_event.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.actionContext,d=a.event,e=a.titleType,f=a.subtitleText;a=a.showSocialContext;return b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_2hxi",children:b("React").jsx(b("EventsProfileLink.react"),{actionContext:c,event:d,showhovercard:!0,titleType:e,bold:!0})}),f?b("React").jsx(b("XUIText.react"),{className:"_64j9",display:"block",children:f}):null,a?b("React").jsx(b("TourEventSocialContext.react"),{event:d}):null]})};return c}(b("React").Component);c.defaultProps={showSocialContext:!0};e.exports=a(c,{event:h!==void 0?h:h=b("EventTourPermalinkEventInfo_event.graphql")})}),null);
__d("EventTourPermalinkWatchButtonBar.react",["fbt","EventActionContext","EventConnectionStyle","EventsRelayWatchActions","EventWatchStatus","Link.react","Middot.react","React","RelayModern","XUIText.react","emptyFunction","EventTourPermalinkWatchButtonBar_event.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){a.stopPropagation();a=d.props;var c=a.actionContext;a=a.event;b("EventsRelayWatchActions").watch(a,b("EventActionContext").toString(c),null,b("emptyFunction"))},d.$2=function(a){a.stopPropagation();a=d.props;var c=a.actionContext;a=a.event;b("EventsRelayWatchActions").going(a,b("EventActionContext").toString(c),null,b("emptyFunction"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.event,c=a.connectionStyle,d=a.watchStatus;a=a.canJoin;if(c!==b("EventConnectionStyle").INTERESTED)return null;if(d===b("EventWatchStatus").GOING)return b("React").jsx(b("XUIText.react"),{size:"meta1",weight:"bold",children:g._("B\u1ea1n s\u1ebd tham gia.")});if(d===b("EventWatchStatus").WATCHED)return b("React").jsx(b("XUIText.react"),{size:"meta1",weight:"bold",children:g._("B\u1ea1n quan t\u00e2m.")});return!a?null:b("React").jsxs("div",{children:[b("React").jsx(b("Link.react"),{onClick:this.$1,children:g._("Quan t\u00e2m")}),b("React").jsx(b("Middot.react"),{}),b("React").jsx(b("Link.react"),{onClick:this.$2,children:g._("S\u1ebd tham gia")})]})};return c}(b("React").Component);e.exports=a(c,{event:h!==void 0?h:h=b("EventTourPermalinkWatchButtonBar_event.graphql")})}),null);
__d("TourEventListMap.react",["cx","fbt","EventTourMap.react","React","RelayModern","nullthrows","TourEventListMap_events.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={resetMap:!0},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(){this.setState({resetMap:!1})};d.shouldComponentUpdate=function(a,b){return b.resetMap};d.render=function(){__p&&__p();var a=this,c=this.props,d=c.actionContext,e=c.events,f=c.tourID;c=c.eventListCategory;var g=c==="upcoming_compact",i=c==="upcoming"||g;c=null;var j=null;e=e.edges.map(function(a,d){__p&&__p();var e,f;a=b("nullthrows")(a.node);f=(f=a)!=null?(f=f.event_place)!=null?(f=f.location)!=null?f.latitude:f:f:f;e=(e=a)!=null?(e=e.event_place)!=null?(e=e.location)!=null?e.longitude:e:e:e;if(f===null||e===null)return null;if(d===0&&i){j=(d=a)!=null?(d=d.event_place)!=null?(d=d.city)!=null?d.contextual_name:d:d:d;c=a.id}return{id:a.id,latitude:f,longitude:e}}).filter(Boolean);return e.length===0?null:b("React").jsxs("div",{className:"_4le_"+(j!==null?" _1bnw":""),children:[j?b("React").jsx("div",{role:"link",tabIndex:"-1",className:"_1bnx",onClick:function(){a.setState({resetMap:!0})},children:h._("S\u1ef1 ki\u1ec7n ti\u1ebfp theo \u1edf {city}",[h._param("city",j)])}):null,b("React").jsx(b("EventTourMap.react"),{defaultOptions:{scrollWheelZoom:!1},width:g?308:500,height:g?224:282,events:e,actionContext:d,tourID:f,showInitialPopup:!1,initialEventToCenter:i?c:null,initialZoom:i?5:null,resetMap:this.state.resetMap})]})};return c}(b("React").Component);e.exports=a(c,{events:i!==void 0?i:i=b("TourEventListMap_events.graphql")})}),null);
__d("TourEventListPastRow.react",["cx","EventTourPermalinkDateBlock.react","EventTourPermalinkEventInfo.react","React","RelayModern","TourEventListPastRow_event.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props,d=c.event;c=c.actionContext;var e=d.event_place;return(a=b("React")).jsxs("div",{className:"_2hxe",children:[a.jsx(b("EventTourPermalinkDateBlock.react"),{className:"_2hxf _jop",event:d}),a.jsx("div",{className:"_2hxh",children:a.jsx(b("EventTourPermalinkEventInfo.react"),{actionContext:c,event:d,titleType:"city",subtitleText:e&&e.contextual_name})})]})};return c}(b("React").Component);e.exports=a(c,{event:h!==void 0?h:h=b("TourEventListPastRow_event.graphql")})}),null);
__d("TourEventListRecommendedRow.react",["cx","EventTourPermalinkDateBlock.react","EventTourPermalinkEventInfo.react","EventTourPermalinkEventRowActionButtonsIfLoggedIn","React","RelayModern","TourEventListRecommendedRow_event.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("EventTourPermalinkEventRowActionButtonsIfLoggedIn").ButtonBar;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props,d=c.event,e=c.actionContext;c=c.fallbackTicketURI;var f=d.startTimeLabel;return(a=b("React")).jsxs("div",{className:"_2hxe _4d58",children:[a.jsxs("div",{className:"_4d59",children:[a.jsx(b("EventTourPermalinkDateBlock.react"),{className:"_2hxf",event:d}),a.jsx("div",{className:"_2hxh _64i_",children:a.jsx(b("EventTourPermalinkEventInfo.react"),{actionContext:e,event:d,titleType:"venue_and_city",subtitleText:f})})]}),i?b("React").jsx("div",{className:"_4d5a",children:b("React").jsx(i,{acontext:e,event:d,align:"left",fallbackTicketURI:c,showShareButton:!0})}):null]})};return c}(b("React").Component);e.exports=a(c,{event:h!==void 0?h:h=b("TourEventListRecommendedRow_event.graphql")})}),null);
__d("TourEventListUpcomingCompactRow.react",["cx","CurrentUser","EventTourPermalinkDateBlock.react","EventTourPermalinkEventInfo.react","EventTourPermalinkWatchButtonBar.react","React","RelayModern","TourEventListUpcomingCompactRow_event.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props,d=c.event,e=c.actionContext,f=c.index;c=c.showMap;var g=d.event_place;a=((a=g)!=null?(a=a.location)!=null?a.latitude:a:a)&&((a=g)!=null?(a=a.location)!=null?a.longitude:a:a);return b("React").jsxs("div",{className:"_2hxe _l29"+(f===0&&a&&c?" _1k8n":""),children:[b("React").jsx(b("EventTourPermalinkDateBlock.react"),{className:"_2hxf",event:d}),b("React").jsxs("div",{className:"_2hxh _64i_",children:[b("React").jsx(b("EventTourPermalinkEventInfo.react"),{actionContext:e,event:d,titleType:"city",subtitleText:g&&g.contextual_name,showSocialContext:!1}),b("CurrentUser").isLoggedIn()?b("React").jsx(b("EventTourPermalinkWatchButtonBar.react"),{actionContext:e,event:d}):null]})]})};return c}(b("React").Component);e.exports=a(c,{event:h!==void 0?h:h=b("TourEventListUpcomingCompactRow_event.graphql")})}),null);
__d("TourEventListUpcomingRow.react",["cx","EventTourPermalinkDateBlock.react","EventTourPermalinkEventInfo.react","EventTourPermalinkEventRowActionButtonsIfLoggedIn","React","RelayModern","TourEventListUpcomingRow_event.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("EventTourPermalinkEventRowActionButtonsIfLoggedIn").ButtonBar;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props,d=c.event,e=c.actionContext,f=c.index,g=c.showMap;c=c.fallbackTicketURI;var h=d.event_place;a=((a=h)!=null?(a=a.location)!=null?a.latitude:a:a)&&((a=h)!=null?(a=a.location)!=null?a.longitude:a:a);return b("React").jsxs("div",{className:"_2hxe"+(f===0&&a&&g?" _1k8n":""),children:[b("React").jsx(b("EventTourPermalinkDateBlock.react"),{className:"_2hxf",event:d}),b("React").jsx("div",{className:"_2hxh",children:b("React").jsx(b("EventTourPermalinkEventInfo.react"),{actionContext:e,event:d,titleType:"city",subtitleText:h&&h.contextual_name})}),i?b("React").jsx("div",{className:"_wt9",children:b("React").jsx(i,{acontext:e,event:d,align:"right",fallbackTicketURI:c,showShareButton:!1})}):null]})};return c}(b("React").Component);e.exports=a(c,{event:h!==void 0?h:h=b("TourEventListUpcomingRow_event.graphql")})}),null);
__d("TourEventListRow.react",["React","RelayModern","TourEventListPastRow.react","TourEventListRecommendedRow.react","TourEventListUpcomingCompactRow.react","TourEventListUpcomingRow.react","XEventsPermalinkController","goURI","TourEventListRow_event.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.event,d=a.eventListCategory,e=a.actionContext,f=a.index,g=a.showMap;a=a.fallbackTicketURI;var h=null;switch(d){case"recommended":h=b("React").jsx(b("TourEventListRecommendedRow.react"),{actionContext:e,event:c,fallbackTicketURI:a});break;case"upcoming":h=b("React").jsx(b("TourEventListUpcomingRow.react"),{actionContext:e,event:c,fallbackTicketURI:a,index:f,showMap:g});break;case"upcoming_compact":h=b("React").jsx(b("TourEventListUpcomingCompactRow.react"),babelHelpers["extends"]({},this.props));break;case"past":h=b("React").jsx(b("TourEventListPastRow.react"),{actionContext:e,event:c});break}if(h){var i=b("XEventsPermalinkController").getURIBuilder().setFBID("event_id",c.id).setString("acontext",JSON.stringify(e)).getURI();return b("React").jsx("div",{tabIndex:-1,role:"link",onClick:function(){return b("goURI")(i)},children:h})}return null};return c}(b("React").Component);e.exports=a(c,{event:g!==void 0?g:g=b("TourEventListRow_event.graphql")})}),null);
__d("TourEventListCard.react",["ix","cx","fbt","EventActionContext","EventTourMapDialog.react","EventTourPermalinkCard.react","Image.react","Link.react","React","RelayModern","TourEventListMap.react","TourEventListRow.react","XEventsTourPermalinkController","XUISpinner.react","cxMargin","fbglyph","nullthrows","TourEventListCard_tour.graphql","TourEventListCardPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var l=10;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={loadingMore:!1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){var a=this.props.relay;if(!a.hasMore()||a.isLoading())return;this.setState({loadingMore:!0});a.loadMore(l)};d.UNSAFE_componentWillReceiveProps=function(a){this.setState({loadingMore:!1})};d.getTitle=function(){var a=this.props,c=a.tour;a=a.eventListCategory;switch(a){case"recommended":return i._("S\u1ef1 ki\u1ec7n l\u01b0u di\u1ec5n quanh \u0111\u00e2y");case"upcoming":return i._("S\u1ef1 ki\u1ec7n l\u01b0u di\u1ec5n s\u1eafp t\u1edbi ({tour dates})",[i._param("tour dates",b("nullthrows")(c.tour_events).count)]);case"upcoming_compact":return i._("S\u1ef1 ki\u1ec7n l\u01b0u di\u1ec5n s\u1eafp t\u1edbi");case"past":return i._("S\u1ef1 ki\u1ec7n l\u01b0u di\u1ec5n \u0111\u00e3 qua")}return""};d.getHeaderLink=function(){__p&&__p();var a=this.props,c=a.tour,d=a.eventListCategory;a=a.actionContext;var e=c.id,f=c.tour_name;c=c.has_event_with_location;if(d==="upcoming"&&c)return b("React").jsx(b("EventTourMapDialog.react"),{actionContext:a,tourID:b("nullthrows")(e),tourName:b("nullthrows")(f)});else if(d==="upcoming_compact"){c=b("XEventsTourPermalinkController").getURIBuilder().setFBID("tour_id",e).setString("acontext",b("EventActionContext").toString(a)).getURI();return b("React").jsx(b("Link.react"),{href:c,children:i._("Xem chuy\u1ebfn l\u01b0u di\u1ec5n")})}return null};d.render=function(){__p&&__p();var a=this,c=this.props,d=c.tour,e=c.eventListCategory,f=c.actionContext,h=c.relay,j=c.showMap;c=d.id;var k=d.tour_events,l=d.ticketing_uri;if(k===null)return null;d=null;k&&k.edges&&(d=k.edges.map(function(a,c){return b("React").jsx(b("TourEventListRow.react"),{event:b("nullthrows")(a.node),actionContext:f,eventListCategory:e,index:c,showMap:j,fallbackTicketURI:l},a.node&&a.node.id)}));var m=e==="upcoming_compact",n=null;h.hasMore()&&(n=b("React").jsxs(b("Link.react"),{className:"_2_os"+(m?" _2dgm":"")+(this.state.loadingMore?" _47l6":""),onClick:function(){return a.$1()},children:[this.state.loadingMore?b("React").jsx(b("XUISpinner.react"),{size:"small",className:"_3-90"}):b("React").jsx(b("Image.react"),{className:"_3-90",src:g("125304")}),i._("Xem th\u00eam")]}));return b("React").jsx(b("EventTourPermalinkCard.react"),{title:this.getTitle(),headerLink:this.getHeaderLink(),footer:n,headerType:m?"secondary":"primary",children:b("React").jsxs("div",{children:[j?b("React").jsx(b("TourEventListMap.react"),{actionContext:f,events:k,tourID:b("nullthrows")(c),eventListCategory:e}):null,d]})})};return c}(b("React").Component);e.exports=a(c,{tour:j!==void 0?j:j=b("TourEventListCard_tour.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.tour)!=null?a.tour_events:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b,c){var d=b.count;b=b.cursor;return{tourID:a.tour.id,upcoming:c.upcoming,past:c.past,nearbyOnly:c.nearbyOnly,count:d,cursor:b}},query:k!==void 0?k:k=b("TourEventListCardPaginationQuery.graphql")})}),null);
__d("TourEventListCardRenderer.react",["CurrentUser","React","RelayFBEnvironment","RelayModern","TourEventListCard.react","TourEventListCardRendererQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var i=g!==void 0?g:g=b("TourEventListCardRendererQuery.graphql"),j=3,k=10,l=6,m=3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialFetchCount=function(){switch(this.props.eventListCategory){case"recommended":return j;case"upcoming":return k;case"upcoming_compact":return l;case"past":return m}return 0};d.render=function(){var a=this.props,c=a.tourID,d=a.eventListCategory,e=a.actionContext,f=a.showMap,g=b("CurrentUser").isLoggedIn();return b("React").jsx(h,{environment:b("RelayFBEnvironment"),query:i,variables:{tourID:c,upcoming:d!=="past",past:d==="past",nearbyOnly:d==="recommended",count:this.getInitialFetchCount(),cursor:null,isViewerLoggedIn:g},render:function(a){var c=a.error;a=a.props;if(c)return null;return a?b("React").jsx(b("TourEventListCard.react"),{tour:a.tour,actionContext:e,eventListCategory:d,showMap:f&&g}):null}})};return c}(b("React").Component);e.exports=a}),null);