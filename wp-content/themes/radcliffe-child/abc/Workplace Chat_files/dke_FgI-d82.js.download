if (self.CavalryLogger) { CavalryLogger.start_js(["kYRCT"]); }

__d("ActiveStatusQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"has_converted_to_view_side_settings",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"is_active_status_viewable",args:null,storageKey:null},c={kind:"LinkedField",alias:null,name:"product_specific_view_side_privacy_settings",storageKey:null,args:null,concreteType:"ProductSpecificViewSidePresencePrivacySetting",plural:!0,selections:[b,{kind:"ScalarField",alias:null,name:"product_id",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"ActiveStatusQuery",type:"Query",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"presence_view_side_settings",storageKey:null,args:null,concreteType:"PresenceViewerBasedSettings",plural:!1,selections:[a,b,c]}]}]},operation:{kind:"Operation",name:"ActiveStatusQuery",argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"presence_view_side_settings",storageKey:null,args:null,concreteType:"PresenceViewerBasedSettings",plural:!1,selections:[a,b,c,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]},params:{operationKind:"query",name:"ActiveStatusQuery",id:"2189703294412794",text:null,metadata:{}}}}();e.exports=a}),null);
__d("ConvertToPresenceViewSideSettingsMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"ConvertToPresenceViewSideSettingsData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={kind:"ScalarField",alias:null,name:"has_converted_to_view_side_settings",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"ConvertToPresenceViewSideSettingsMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"convert_to_presence_view_side_settings",storageKey:null,args:b,concreteType:"ConvertToPresenceViewSideSettingsResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"presence_view_side_settings",storageKey:null,args:null,concreteType:"PresenceViewerBasedSettings",plural:!1,selections:[c]}]}]}]},operation:{kind:"Operation",name:"ConvertToPresenceViewSideSettingsMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"convert_to_presence_view_side_settings",storageKey:null,args:b,concreteType:"ConvertToPresenceViewSideSettingsResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"presence_view_side_settings",storageKey:null,args:null,concreteType:"PresenceViewerBasedSettings",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]}]},params:{operationKind:"mutation",name:"ConvertToPresenceViewSideSettingsMutation",id:"2102048749922083",text:null,metadata:{}}}}();e.exports=a}),null);
__d("SetPresenceVSCSettingMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"SetPresenceVscSettingData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={kind:"ScalarField",alias:null,name:"client_mutation_id",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"client_subscription_id",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"is_active_status_viewable",args:null,storageKey:null},f={kind:"LinkedField",alias:null,name:"product_specific_view_side_privacy_settings",storageKey:null,args:null,concreteType:"ProductSpecificViewSidePresencePrivacySetting",plural:!0,selections:[e,{kind:"ScalarField",alias:null,name:"product_id",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"SetPresenceVSCSettingMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"set_presence_vsc_setting",storageKey:null,args:b,concreteType:"SetPresenceVscSettingResponsePayload",plural:!1,selections:[c,d,{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"presence_view_side_settings",storageKey:null,args:null,concreteType:"PresenceViewerBasedSettings",plural:!1,selections:[e,f]}]}]}]},operation:{kind:"Operation",name:"SetPresenceVSCSettingMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"set_presence_vsc_setting",storageKey:null,args:b,concreteType:"SetPresenceVscSettingResponsePayload",plural:!1,selections:[c,d,{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"presence_view_side_settings",storageKey:null,args:null,concreteType:"PresenceViewerBasedSettings",plural:!1,selections:[e,f,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]}]},params:{operationKind:"mutation",name:"SetPresenceVSCSettingMutation",id:"2269905799805033",text:null,metadata:{}}}}();e.exports=a}),null);
__d("XBrowserPushDisabledController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/client/push/disabled/",{})}),null);
__d("XBrowserPushXOutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/client/push/xout/",{})}),null);
__d("XServiceWorkerSessionChangeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/service_workers/session/persist/",{})}),null);
__d("BrowserPushSessionChange.react",["fbt","ix","AsyncRequest","BanzaiLogger","Image.react","ImageBlock.react","LayerFadeOnHide","React","ReloadPage","XBrowserPushDisabledController","XBrowserPushXOutController","XServiceWorkerSessionChangeController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","XUISpinner.react","XUIText.react","cxMargin","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={dialogShown:!0,spin:!1},d.$1=function(a){if(a)return;d.setState({dialogShown:!1});d.$2("session_keep");a=b("XServiceWorkerSessionChangeController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setData({app_id:d.props.push.appID}).setAllowCrossPageTransition(!0).setHandler(function(a){d.props.onHide()}).send()},d.$3=function(){d.setState({spin:!0});d.$2("session_uninstall");d.$2("xout");var a=b("XBrowserPushXOutController").getURIBuilder().getURI(),c=function(){d.props.push.unregisterPushAndSW(b("XBrowserPushDisabledController"),b("AsyncRequest")).done(function(a){b("ReloadPage").now()})};new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(c).setAllowCrossPageTransition(!0).send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a){a={event:a,appid:this.props.push.appID,surface:"session_change"};b("BanzaiLogger").log("BrowserPushLoggerConfig",a)};d.componentDidMount=function(){this.$2("session_change_prompt")};d.render=function(){if(!this.state.dialogShown)return null;var a=h("92724");return b("React").jsxs(b("XUIDialog.react"),{shown:!0,behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},onToggle:this.$1,width:445,children:[b("React").jsx(b("XUIDialogTitle.react"),{children:g._("Th\u00f4ng b\u00e1o tr\u00ean m\u00e1y t\u00ednh \u0111ang b\u1eadt")}),b("React").jsx(b("XUIDialogBody.react"),{children:this.state.spin?b("React").jsx(b("XUISpinner.react"),{size:"large"}):b("React").jsxs(b("ImageBlock.react"),{spacing:"medium",children:[b("React").jsx(b("Image.react"),{src:a,alt:g._("Th\u00f4ng b\u00e1o tr\u00ean m\u00e1y t\u00ednh \u0111ang b\u1eadt")}),b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_3-8h",children:b("React").jsx(b("XUIText.react"),{size:"header3",children:g._("Khi nh\u1eadn \u0111\u01b0\u1ee3c th\u00f4ng b\u00e1o m\u1edbi, b\u1ea1n s\u1ebd nh\u00ecn th\u1ea5y \u1edf g\u00f3c c\u1ee7a m\u00e0n h\u00ecnh.")})}),b("React").jsx("div",{className:"_3-8h",children:b("React").jsx(b("XUIText.react"),{size:"meta1",children:g._("\u0110\u1ec3 ch\u1eafc ch\u1eafn nh\u1eadn \u0111\u01b0\u1ee3c th\u00f4ng b\u00e1o, b\u1ea1n hi\u1ec7n s\u1ebd duy tr\u00ec \u0111\u0103ng nh\u1eadp Facebook tr\u00ean m\u00e1y t\u00ednh n\u00e0y. N\u1ebfu b\u1ea1n \u0111ang s\u1eed d\u1ee5ng m\u00e1y t\u00ednh c\u00f4ng c\u1ed9ng ho\u1eb7c kh\u00f4ng mu\u1ed1n truy tr\u00ec \u0111\u0103ng nh\u1eadp, h\u00e3y nh\u1ea5p v\u00e0o Ho\u00e0n t\u00e1c \u0111\u1ec3 t\u1eaft th\u00f4ng b\u00e1o tr\u00ean m\u00e1y t\u00ednh.")})})]})]})}),b("React").jsxs(b("XUIDialogFooter.react"),{children:[b("React").jsx(b("XUIDialogButton.react"),{action:"button",label:g._("Ho\u00e0n t\u00e1c"),onClick:this.$3}),b("React").jsx(b("XUIDialogOkayButton.react"),{use:"confirm",action:"cancel"})]})]},"dialog")};return c}(b("React").Component);a.propTypes={onHide:b("prop-types").func.isRequired,push:b("prop-types").object.isRequired};e.exports=a}),null);
__d("MockChromeBrowserNotification.react",["cx","fbt","ix","BrowserPushStrings","CurrentUser","DOMContainer.react","Image.react","React","isNode","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("isNode")(this.props.message)?b("React").jsx(b("DOMContainer.react"),{children:this.props.message}):this.props.message,c=!this.props.image&&b("CurrentUser").isWorkUser(),d=this.props.image?this.props.image:this.props.defaultImage;return b("React").jsxs("section",{className:b("joinClasses")(this.props.className,"_257o"),children:[b("React").jsx("span",{className:"_61kd"}),b("React").jsx(b("Image.react"),{className:(c?"":"_ega")+(c?" _2rk4":""),draggable:!1,src:d}),b("React").jsxs("div",{className:"_egb",children:[b("React").jsx("h3",{children:b("BrowserPushStrings").title}),b("React").jsx("p",{children:a}),b("React").jsx("cite",{children:window.location.hostname})]})]})};return c}(b("React").Component);a.defaultProps={message:h._("B\u1ea1n c\u00f3 th\u00f4ng b\u00e1o m\u1edbi."),defaultImage:b("CurrentUser").isWorkUser()?i("351290"):i("76304")};e.exports=a}),null);
__d("MockEdgeBrowserNotification.react",["cx","fbt","ix","BrowserPushStrings","CurrentUser","DOMContainer.react","Image.react","React","isNode","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("isNode")(this.props.message)?b("React").jsx(b("DOMContainer.react"),{children:this.props.message}):this.props.message,c=h._("Microsoft Edge");return b("React").jsxs("section",{className:b("joinClasses")(this.props.className,"_2eed"),children:[b("React").jsx(b("Image.react"),{className:(b("CurrentUser").isWorkUser()?"":"_2eee")+(b("CurrentUser").isWorkUser()?" _3_qv":""),draggable:!1,src:this.props.image}),b("React").jsxs("div",{className:"_2eef",children:[b("React").jsx("h3",{className:"_2eeg",children:b("BrowserPushStrings").title}),b("React").jsx("p",{className:"_2eeh",children:a}),b("React").jsxs("div",{className:"_2eei",children:[c," \xb7 ",window.location.hostname]})]})]})};return c}(b("React").Component);a.defaultProps={message:h._("B\u1ea1n c\u00f3 th\u00f4ng b\u00e1o m\u1edbi."),image:b("CurrentUser").isWorkUser()?i("351290"):i("363137")};e.exports=a}),null);
__d("MockFirefoxBrowserNotification.react",["cx","fbt","ix","BrowserPushStrings","CurrentUser","DOMContainer.react","Image.react","React","isNode","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("isNode")(this.props.message)?b("React").jsx(b("DOMContainer.react"),{children:this.props.message}):this.props.message,c=this.props.isWindows;return b("React").jsx("section",{className:b("joinClasses")(this.props.className,"_g5o"),children:c?this.$1(a):this.$2(a)})};d.$2=function(a){var c;return(c=b("React")).jsxs("div",{className:"_g5p",children:[c.jsx("div",{className:"_g5q",children:c.jsx(b("Image.react"),{draggable:!1,src:i("355144")})}),c.jsxs("div",{className:"_g5r",children:[c.jsx("h3",{children:b("BrowserPushStrings").title}),c.jsx("cite",{children:window.location.hostname}),c.jsx("p",{children:a})]}),c.jsx(b("Image.react"),{className:(b("CurrentUser").isWorkUser()?"":"_g5u")+(b("CurrentUser").isWorkUser()?" _gcl":""),draggable:!1,src:this.props.image})]})};d.$1=function(a){var c;return(c=b("React")).jsxs("div",{className:"_g5w",children:[c.jsx("h3",{children:b("BrowserPushStrings").title}),c.jsxs("div",{className:"_g5x",children:[c.jsx("span",{className:"_g5z"}),c.jsx("span",{className:"_g7w"})]}),c.jsxs("div",{className:"_g5r",children:[c.jsx(b("Image.react"),{className:(b("CurrentUser").isWorkUser()?"":"_g5u")+(b("CurrentUser").isWorkUser()?" _gcl":""),draggable:!1,src:this.props.image}),b("React").jsxs("div",{className:"_g7x",children:[b("React").jsx("p",{children:a}),b("React").jsx("cite",{children:window.location.hostname})]})]})]})};return c}(b("React").Component);a.defaultProps={message:h._("B\u1ea1n c\u00f3 th\u00f4ng b\u00e1o m\u1edbi."),image:b("CurrentUser").isWorkUser()?i("351290"):i("363137"),isWindows:!1};e.exports=a}),null);
__d("MockBrowserNotification.react",["MockChromeBrowserNotification.react","MockEdgeBrowserNotification.react","MockFirefoxBrowserNotification.react","React","UserAgent"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){var c=b("UserAgent").isPlatform("Windows");if(b("UserAgent").isBrowser("Firefox"))return b("React").jsx(b("MockFirefoxBrowserNotification.react"),babelHelpers["extends"]({},a,{isWindows:c}));else if(b("UserAgent").isBrowser("Edge"))return b("React").jsx(b("MockEdgeBrowserNotification.react"),babelHelpers["extends"]({},a));return b("React").jsx(b("MockChromeBrowserNotification.react"),babelHelpers["extends"]({},a,{isWindows:c}))}}),null);
__d("NotificationPermissionDummyRequest.react",["fbt","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=[g._("C\u1eadp nh\u1eadt ngay t\u00ecnh h\u00ecnh c\u1ee7a b\u1ea1n b\u00e8")],c=[g._("B\u1eadt th\u00f4ng b\u00e1o tr\u00ean tr\u00ecnh duy\u1ec7t \u0111\u1ec3 lu\u00f4n c\u1eadp nh\u1eadt th\u00f4ng tin tr\u00ean Facebook.")],d=this.props.promptTitleIndex<a.length?this.props.promptTitleIndex:0,e=this.props.promptBodyIndex<c.length?this.props.promptBodyIndex:0;return b("React").jsxs(b("XUIDialog.react"),{isStrictlyControlled:!0,onHide:this.props.isBinary?function(){}:this.props.onIgnore,shown:!0,width:445,children:[b("React").jsx(b("XUIDialogTitle.react"),{showCloseButton:!this.props.isBinary,children:b("React").jsx("span",{children:a[d]})}),b("React").jsxs(b("XUIDialogBody.react"),{children:[b("React").jsx("br",{}),b("React").jsx("div",{children:c[e]}),b("React").jsx("br",{})]}),b("React").jsxs(b("XUIDialogFooter.react"),{children:[b("React").jsx(b("XUIDialogButton.react"),{action:"button",label:g._("L\u00fac kh\u00e1c"),onClick:this.props.onNotNow,size:"large"}),b("React").jsx(b("XUIDialogButton.react"),{action:"button",label:g._("OK"),onClick:this.props.onAccept,use:"confirm",size:"large"})]})]})};return c}(b("React").Component);e.exports=a}),null);
__d("NotificationPermissionNotice.react",["cx","fbt","Event","Keys","React","XUIAmbientNUX.react","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=[];a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=this;i.push(b("Event").listen(window,"mousedown",this.props.onHide));i.push(b("Event").listen(window,"keydown",function(c){c.keyCode===b("Keys").ESC&&a.props.onHide()}))};d.componentWillUnmount=function(){while(i.length>0){var a=i.pop();a.remove()}};d.renderLayers=function(){var a=this,c=this.props.shortText?h._("Nh\u1ea5p v\u00e0o kh\u00f3a \u0111\u1ec3 cho ph\u00e9p {browser_name} g\u1eedi cho b\u1ea1n th\u00f4ng b\u00e1o tr\u00ean m\u00e1y t\u00ednh.",[h._param("browser_name",this.props.browserName)]):h._("N\u1ebfu b\u1ea1n thay \u0111\u1ed5i \u00fd \u0111\u1ecbnh, h\u00e3y nh\u1ea5p v\u00e0o kh\u00f3a \u0111\u1ec3 cho ph\u00e9p {browser_name} g\u1eedi cho b\u1ea1n th\u00f4ng b\u00e1o tr\u00ean m\u00e1y t\u00ednh.",[h._param("browser_name",this.props.browserName)]);return b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.noticeAnchor},shown:!0,position:"below",onCloseButtonClick:this.props.onHide,children:c},"nux")};d.render=function(){return b("React").jsxs("span",{children:[b("React").jsx("span",{ref:"noticeAnchor",className:"_1_i1"}),this.renderLayers()]})};return c}(b("React").Component);a.propTypes={onHide:b("prop-types").func.isRequired,shortText:b("prop-types").bool,browserName:b("prop-types").string.isRequired};e.exports=a}),null);
__d("NotificationPermissionRequest.react",["cx","React","Spotlight.react","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("Spotlight.react"),{shown:!0,onHide:this.props.onHide,children:b("React").jsx("div",{className:"_n3"})},"spotlight")};return c}(b("React").Component);a.propTypes={onHide:b("prop-types").func};e.exports=a}),null);
__d("NotificationPermissionRequestWithPreview.react",["cx","fbt","ix","BrowserPushStrings","Image.react","ImageBlock.react","MockBrowserNotification.react","React","Spotlight.react","XUIAmbientNUX.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=function(a){var c,d;return(c=b("React")).jsxs(b("Spotlight.react"),{onHide:a.onHide,shown:a.shown,wash:"xui",children:[c.jsx("span",{ref:function(a){return d=a},className:"_m4w"}),c.jsx("div",{className:"_n3",children:c.jsxs(b("XUIAmbientNUX.react"),{contextRef:function(){return d},shown:a.shown,onCloseButtonClick:a.onHide,position:"below",children:[c.jsx("strong",{children:h._("G\u1ea7n xong!")}),c.jsx("br",{}),h._("B\u00e2y gi\u1edd, h\u00e3y nh\u1ea5p v\u00e0o \"Cho ph\u00e9p\" \u0111\u1ec3 ho\u00e0n t\u1ea5t k\u00edch ho\u1ea1t th\u00f4ng b\u00e1o.")]},"nux")})]})};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={acceptPromptShown:!1,dialogShown:!0,spinnerShown:!1},c.$2=function(a){c.setState({dialogShown:a})},c.$3=function(){c.setState({acceptPromptShown:!c.props.hideSecondStep&&!c.props.showSpinnerWhileRequesting,dialogShown:c.props.showSpinnerWhileRequesting,spinnerShown:!c.props.hideSecondStep&&c.props.showSpinnerWhileRequesting}),c.props.onAccept&&c.props.onAccept(c.$4)},c.$4=function(){c.$1&&c.setState({acceptPromptShown:!1,dialogShown:!1})},c.$5=function(){c.setState({acceptPromptShown:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1=!0};d.componentWillUnmount=function(){this.$1=!1};d.render=function(){var a=this.props,c=a.notificationImage;a=a.notificationMessage;c=b("React").jsx(b("MockBrowserNotification.react"),{className:"_m4x",image:c,message:a});a=this.state.spinnerShown?b("React").jsx(b("XUIDialogBody.react"),{className:"_mjv",children:b("React").jsxs(b("ImageBlock.react"),{spacing:"large",children:[b("React").jsx(b("Image.react"),{draggable:!1,src:i("287648"),width:40,height:40,className:"_mjw"}),b("React").jsxs("div",{children:[b("React").jsx("strong",{children:h._("G\u1ea7n xong!")}),b("React").jsx("p",{className:"_mjx",children:h._("B\u00e2y gi\u1edd, h\u00e3y nh\u1ea5p v\u00e0o \"Cho ph\u00e9p\" \u0111\u1ec3 ho\u00e0n t\u1ea5t k\u00edch ho\u1ea1t th\u00f4ng b\u00e1o.")})]})]})}):b("React").jsxs(b("XUIDialogBody.react"),{className:"_mjy",children:[b("React").jsxs(b("ImageBlock.react"),{spacing:"large",children:[b("React").jsx(b("Image.react"),{draggable:!1,src:i("287648"),className:"_mjw"}),b("React").jsx("div",{children:this.props.isWebNotifications?b("BrowserPushStrings").explanation_web_notifications:b("BrowserPushStrings").explanation})]}),c]});c=this.state.spinnerShown?null:b("React").jsxs(b("XUIDialogFooter.react"),{children:[b("React").jsx(b("XUIDialogButton.react"),{action:"cancel",label:h._("L\u00fac kh\u00e1c"),onClick:this.props.onClose}),b("React").jsx(b("XUIDialogButton.react"),{action:"button",label:h._("B\u1eadt"),onClick:this.$3,use:"special"})]});return b("React").jsxs("div",{className:"_m4y",children:[b("React").jsxs(b("XUIDialog.react"),{layerHideOnBlur:!1,onToggle:this.$2,shown:this.state.dialogShown,titleID:"notification-permission-title",width:445,children:[b("React").jsx(b("XUIDialogTitle.react"),{showCloseButton:!1,children:b("React").jsx("span",{id:"notification-permission-title",children:b("BrowserPushStrings").turn_on})}),a,c]}),b("React").jsx(j,{shown:this.state.acceptPromptShown,onHide:this.$5})]})};return c}(b("React").Component);e.exports=a}),null);
__d("ChatEmojiSkinTonePreferencePicker.react",["ChatEmojiPicker.react","MessengerEmojiConfig","React","SkinToneEmoji.bs","prop-types"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=128077;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){a=b("SkinToneEmoji.bs").getTone(a);d.props.onSelect&&d.props.onSelect(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=null;try{a=this.props.currentPreference?String.fromCodePoint.apply(String,b("SkinToneEmoji.bs").applyTone([g],this.props.currentPreference)):String.fromCodePoint(g)}catch(b){a=String.fromCodePoint(g)}return b("React").jsx(b("ChatEmojiPicker.react"),{className:this.props.className,columns:this.props.columns,currentEmoji:a,emojiChoices:b("MessengerEmojiConfig").emoji_colors.map(function(a){return b("SkinToneEmoji.bs").applyTone([g],a)}),onSelect:this.$1})};return c}(b("React").PureComponent);a.propTypes={className:(c=b("prop-types")).string,columns:c.number,currentPreference:c.number,onSelect:c.func};a.defaultProps={columns:6};e.exports=a}),null);
__d("ChatEmojiSkinTonePreferencePickerReact.bs",["ReasonReact.bs","ChatEmojiSkinTonePreferencePicker.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("ChatEmojiSkinTonePreferencePicker.react"),{currentPreference:a,onSelect:c},d)}f.make=a}),null);
__d("ReactData.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return Object.assign(a,b)}f.set=a}),null);
__d("MessengerToggleReact.bs",["cx","bs_curry","React","bs_js_dict","ReactData.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){var c=a.onToggle,d=a.title;a=a.value;var e=a!==void 0?a:!1;a=function(a){return b("bs_curry")._1(c,!e)};a=b("ReactData.bs").set(b("ReactData.bs").set({children:b("React").jsx("div",{children:b("React").jsx("div",{className:"_6ufp"+(e?" _6ufq":"")}),className:"_6ufn"+(e?" _6ufo":"")}),className:"_6ufm",onClick:a},b("bs_js_dict").fromArray([["aria-label",d],["data-hover","tooltip"],["data-tooltip-content",d],["data-tooltip-alignh","center"],["data-tooltip-position","above"]])),b("bs_js_dict").fromArray([["aria-pressed",e]]));return b("React").jsx("button",a)}c=a;f.make=c}),null);
__d("MessengerChatOnOffToggleReact.bs",["fbt","React","MessengerToggleReact.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.isUserAvailable;a=a.onAvailabilityChange;var d=c?g._("Chuy\u1ec3n sang offline"):g._("Chuy\u1ec3n sang tr\u1ef1c tuy\u1ebfn");return b("React").jsx(b("MessengerToggleReact.bs").make,{onToggle:a,title:d,value:c})}c=a;f.make=c}),null);
__d("MessengerCheckboxInputReact.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.checked,d=a.onChange;a=a.label;return b("React").jsxs("label",{children:[b("React").jsx("input",{className:"_6bkz",checked:c,type:"checkbox",onChange:d}),b("React").jsx("div",{className:"_6bk-"}),a],className:"_4ng2"})}c=a;f.make=c}),null);
__d("FDSCardFooter.bs",["bs_caml_option","ReasonReactCompat.bs","FDSCardFooter.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){var f={children:e};a!==void 0&&(f.leftContent=b("bs_caml_option").valFromOption(a));c!==void 0&&(f.primaryButton=b("bs_caml_option").valFromOption(c));d!==void 0&&(f.secondaryButton=b("bs_caml_option").valFromOption(d));return b("ReasonReactCompat.bs").wrapReactForReasonReact(b("FDSCardFooter.react"),f,e)}f.make=a}),null);
__d("FDSCardHeader.bs",["bs_caml_option","ReasonReactCompat.bs","FDSCardHeader.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){var f={children:e};a!==void 0&&(f.button=b("bs_caml_option").valFromOption(a));c!==void 0&&(f.title=b("bs_caml_option").valFromOption(c));d!==void 0&&(f.subtitle=b("bs_caml_option").valFromOption(d));return b("ReasonReactCompat.bs").wrapReactForReasonReact(b("FDSCardHeader.react"),f,e)}f.make=a}),null);
__d("MessengerSettingsToggle.bs",["cx","bs_curry","React","ReasonReactCompat.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){var c=a.onToggle,d=a.enabled;return b("React").jsx("button",{children:b("React").jsx("div",{children:b("React").jsx("div",{className:"_6ufp"+(d?" _6ufq":"")}),className:"_6ufn"+(d?" _6ufo":"")}),defaultChecked:d,className:"_6ufm",onClick:function(a){return b("bs_curry")._1(c,!d)}})}function a(a,c,d){return b("ReasonReactCompat.bs").wrapReactForReasonReact(h,{onToggle:a,enabled:c},d)}c={make:a};d=h;f.make=d;f.Jsx2=c}),null);
__d("MessengerSettingsDialogNux.bs",["cx","fbt","bs_block","bs_curry","Image.bs","React","bs_caml_option","ReasonReact.bs","FDSCardFooter.bs","FDSCardHeader.bs","MessengerDialogReact.bs","MessengerSettingsToggle.bs","MessengerDialogTitleReact.bs","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){return b("React").createElement(b("React").Fragment,void 0,b("React").createElement(b("MessengerDialogTitleReact.bs").make,{children:h._("Tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng")}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,h._("Xong"),void 0,void 0,function(c){return b("bs_curry")._1(a,0)},0,void 0,void 0,void 0,[])))}function j(a){var c;return b("React").createElement(b("React").Fragment,void 0,(c=b("ReasonReact.bs")).element(void 0,void 0,b("FDSCardHeader.bs").make(void 0,b("bs_caml_option").some(h._("Ki\u1ec3m so\u00e1t tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng \u0111\u01a1n gi\u1ea3n h\u01a1n")),h._("Hi\u1ec3n th\u1ecb b\u1ea1n b\u00e8 v\u00e0 ng\u01b0\u1eddi li\u00ean h\u1ec7 khi b\u1ea1n \u0111ang ho\u1ea1t \u0111\u1ed9ng ho\u1eb7c v\u1eeba ho\u1ea1t \u0111\u1ed9ng tr\u00ean t\u1ea5t c\u1ea3 S\u1ea3n ph\u1ea9m c\u1ee7a Facebook - tr\u1eeb n\u01a1i b\u1ea1n mu\u1ed1n \u0111\u1ec3 tr\u1ea1ng th\u00e1i offline. N\u1ebfu h\u1ecd th\u1ea5y b\u1ea1n th\u00ec b\u1ea1n c\u0169ng th\u1ea5y h\u1ecd."),[])),c.element(void 0,void 0,b("FDSCardHeader.bs").make(void 0,b("bs_caml_option").some(h._("Ch\u1ecdn n\u01a1i hi\u1ec3n th\u1ecb tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng c\u1ee7a b\u1ea1n")),h._("C\u00e0i \u0111\u1eb7t b\u1ea1n ch\u1ecdn s\u1ebd \u00e1p d\u1ee5ng cho to\u00e0n b\u1ed9 S\u1ea3n ph\u1ea9m c\u1ee7a Facebook (tr\u1eeb Instagram), bao g\u1ed3m c\u1ea3 phi\u00ean b\u1ea3n ch\u01b0a c\u1eadp nh\u1eadt c\u00e1c t\u00f9y ch\u1ecdn ki\u1ec3m so\u00e1t n\u00e0y. Khi ch\u1ea5p nh\u1eadn c\u00e0i \u0111\u1eb7t m\u1edbi c\u0169ng c\u00f3 ngh\u0129a b\u1ea1n chia s\u1ebb Tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng v\u1edbi nhi\u1ec1u ng\u01b0\u1eddi h\u01a1n b\u00e2y gi\u1edd."),[])),c.element(void 0,void 0,b("FDSCardFooter.bs").make(void 0,b("bs_caml_option").some(c.element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,h._("Ti\u1ebfp"),void 0,void 0,function(c){return b("bs_curry")._1(a,!0)},0,void 0,void 0,void 0,[]))),void 0,[])))}function k(a,c){var d=""+(String(40)+"px");return b("React").createElement("div",{className:"_4ldz",style:{height:d,width:d}},b("React").createElement("div",{className:"_4ld-"},b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,c,40,void 0,40,void 0,[]))),a?b("React").createElement("div",{className:"_2pom"},b("React").createElement("div",{className:"_1gyx"})):null)}function l(a,c,d,e,f,g,i,j,l){return b("React").createElement(b("React").Fragment,void 0,b("ReasonReact.bs").element(void 0,void 0,b("FDSCardHeader.bs").make(b("bs_caml_option").some(b("ReasonReact.bs").element(void 0,void 0,b("MessengerSettingsToggle.bs").Jsx2.make(e,a,[]))),b("bs_caml_option").some(h._("Tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng")),a?h._("B\u1ea1n b\u00e8 v\u00e0 nh\u1eefng ng\u01b0\u1eddi li\u00ean h\u1ec7 c\u1ee7a b\u1ea1n s\u1ebd bi\u1ebft khi b\u1ea1n ho\u1ea1t \u0111\u1ed9ng ho\u1eb7c ho\u1ea1t \u0111\u1ed9ng g\u1ea7n \u0111\u00e2y tr\u00ean c\u00e1c S\u1ea3n ph\u1ea9m c\u1ee7a Facebook, ngo\u1ea1i tr\u1eeb nh\u1eefng ng\u01b0\u1eddi b\u1ea1n \u0111\u00e3 t\u1eaft tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng."):h._("B\u1ea1n b\u00e8 v\u00e0 ng\u01b0\u1eddi li\u00ean h\u1ec7 v\u1eabn nh\u00ecn th\u1ea5y Tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng c\u1ee7a b\u1ea1n tr\u00ean c\u00e1c S\u1ea3n ph\u1ea9m c\u1ee7a Facebook (ngo\u1ea1i tr\u1eeb Facebook v\u00e0 Messenger), tr\u1eeb khi b\u1ea1n t\u1eaft c\u00e0i \u0111\u1eb7t ch\u00ednh trong ph\u1ea7n Hi\u1ec3n th\u1ecb tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng."),[])),b("ReasonReact.bs").element(void 0,void 0,b("FDSCardHeader.bs").make(b("bs_caml_option").some(b("ReasonReact.bs").element(void 0,void 0,b("MessengerSettingsToggle.bs").Jsx2.make(f,c,[]))),b("bs_caml_option").some(b("React").createElement("div",{className:"_3qn7 _3qng _2fyi"},k(c,l),b("React").createElement("div",{className:"_2pis"},h._("Hi\u1ec3n th\u1ecb tr\u00ean Messenger")))),void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("FDSCardHeader.bs").make(b("bs_caml_option").some(b("ReasonReact.bs").element(void 0,void 0,b("MessengerSettingsToggle.bs").Jsx2.make(g,d,[]))),b("bs_caml_option").some(b("React").createElement("div",{className:"_3qn7 _3qng _2fyi"},k(d,l),b("React").createElement("div",{className:"_2pis"},h._("Hi\u1ec3n th\u1ecb tr\u00ean Facebook")))),void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("FDSCardFooter.bs").make(void 0,b("bs_caml_option").some(b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,h._("Ch\u1ea5p nh\u1eadn c\u00e0i \u0111\u1eb7t m\u1edbi"),void 0,void 0,function(a){return b("bs_curry")._1(i,0)},0,void 0,void 0,void 0,[]))),b("bs_caml_option").some(b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,h._("Quay l\u1ea1i"),void 0,void 0,function(a){return b("bs_curry")._1(j,!1)},0,void 0,void 0,void 0,[]))),[])))}var m=b("ReasonReact.bs").reducerComponent("MessengerSettingsDialogNux");function n(a,c,d,e,f,g,h,k,n,o,p){return[m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],function(m){var p=m[1][0];return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,void 0,void 0,e,void 0,"default",544,void 0,void 0,[b("React").createElement(b("MessengerDialogHeaderReact.bs").make,{children:i(n)}),p?l(a,c,d,f,g,h,k,function(a){return b("bs_curry")._1(m[3],[a])},o):j(function(a){return b("bs_curry")._1(m[3],[a])})]))},function(a){return[!1]},m[10],function(a,c){return b("bs_block").__(0,[[a[0]]])},m[12]]}a=b("ReasonReact.bs").wrapReasonForJs(m,function(a){return n(a.main,a.messenger,a.facebook,a.shown,a.mainOnChange,a.messengerOnChange,a.facebookOnChange,a.onSubmit,a.onClose,a.profileImage,a.children)});c=40;f.headerNux=i;f.nuxPage=j;f.profileImageSize=c;f.renderProfileImage=k;f.settingsPage=l;f.component=m;f.make=n;f.jsComponent=a}),null);
__d("ConvertToPresenceViewSideSettingsMutation",["RelayModern","createCommitMutation","ConvertToPresenceViewSideSettingsMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;a=b("createCommitMutation").createCommitMutationForEnvironment;e.exports.commit=a({mutation:g!==void 0?g:g=b("ConvertToPresenceViewSideSettingsMutation.graphql")})}),null);
__d("SetPresenceVSCSettingMutation",["RelayModern","createCommitMutation","SetPresenceVSCSettingMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;a=b("createCommitMutation").createCommitMutationForEnvironment;e.exports.commit=a({mutation:g!==void 0?g:g=b("SetPresenceVSCSettingMutation.graphql")})}),null);
__d("ActiveStatus",["ChatVisibility","ConvertToPresenceViewSideSettingsMutation","RelayFBEnvironment","RelayModern","SetPresenceVSCSettingMutation","ActiveStatusQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").fetchQuery;b("RelayModern").graphql;var i=g!==void 0?g:g=b("ActiveStatusQuery.graphql");function a(a,c,d){c?b("ChatVisibility").goOnline():b("ChatVisibility").goOffline(),b("SetPresenceVSCSettingMutation").commit(b("RelayFBEnvironment"),{global_on:a,msg_on:c,fb_on:d})}function c(){b("ConvertToPresenceViewSideSettingsMutation").commit(b("RelayFBEnvironment"),{})}function d(a){__p&&__p();h(b("RelayFBEnvironment"),i,{}).then(function(b){__p&&__p();if((b==null?void 0:b.viewer)!=null){var c,d;c=(c=b==null?void 0:(c=b.viewer)==null?void 0:(c=c.presence_view_side_settings)==null?void 0:c.has_converted_to_view_side_settings)!=null?c:!1;d=(d=b==null?void 0:(d=b.viewer)==null?void 0:(d=d.presence_view_side_settings)==null?void 0:d.is_active_status_viewable)!=null?d:!1;b=(b=b==null?void 0:(b=b.viewer)==null?void 0:(b=b.presence_view_side_settings)==null?void 0:b.product_specific_view_side_privacy_settings)!=null?b:[];var e=b.reduce(function(a,b){return b.product_id=="MESSENGER"?(b=b==null?void 0:b.is_active_status_viewable)!=null?b:a:a},!1);b=b.reduce(function(a,b){return b.product_id=="FACEBOOK"?(b=b==null?void 0:b.is_active_status_viewable)!=null?b:a:a},!1);a(d,e,b,c)}})}e.exports={setPresenceVSC:a,convertToPresenceView:c,getSettings:d}}),null);
__d("FDSButton.bs",["bs_curry","Convert.bs","bs_caml_option","UIConverters.bs","FDSConvertGen.bs","FDSButton.react","ReasonReactCompat.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[0,[1,[2,[3,0]]]];c={borderedSides:g,isDisabled:!1,isDepressed:!1,kind:0,labelIsHidden:!1,size:1,use:1};function h(a,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r){__p&&__p();r=a!==void 0?a:g;a=d!==void 0?d:!1;d=e!==void 0?e:!1;e=f!==void 0?f:0;f=i!==void 0?i:!1;i=k!==void 0?k:1;k=n!==void 0?n:1;n={borderedSides:b("bs_curry")._1(b("Convert.bs").list(b("UIConverters.bs").Side.t)[0],r),isDisabled:b("bs_curry")._1(b("Convert.bs").bool[0],a),isDepressed:b("bs_curry")._1(b("Convert.bs").bool[0],d),type:b("bs_curry")._1(b("FDSConvertGen.bs").Button.kind[0],e),labelIsHidden:b("bs_curry")._1(b("Convert.bs").bool[0],f),size:b("bs_curry")._1(b("FDSConvertGen.bs").Button.size[0],i),use:b("bs_curry")._1(b("FDSConvertGen.bs").Button.use[0],k)};c!==void 0&&(n.href=b("bs_caml_option").valFromOption(c));h!==void 0&&(n.label=b("bs_caml_option").valFromOption(h));j!==void 0&&(n.onClick=b("bs_caml_option").valFromOption(j));r=b("bs_caml_option").nullable_to_opt(b("bs_curry")._1(b("Convert.bs").option(b("UIConverters.bs").Target.t)[0],l));r!==void 0&&(n.target=b("bs_caml_option").valFromOption(r));m!==void 0&&(n.tooltip=b("bs_caml_option").valFromOption(m));o!==void 0&&(n.value=b("bs_caml_option").valFromOption(o));p!==void 0&&(n.icon=b("bs_caml_option").valFromOption(p));q!==void 0&&(n.style=b("bs_caml_option").valFromOption(q));return n}function a(a,c,d,e,f,i,j,k,l,m,n,o,p,q,r,s){a=a!==void 0?a:g;d=d!==void 0?d:!1;e=e!==void 0?e:!1;f=f!==void 0?f:0;j=j!==void 0?j:!1;l=l!==void 0?l:1;o=o!==void 0?o:1;return b("ReasonReactCompat.bs").wrapReactForReasonReact(b("FDSButton.react"),h(a,c,d,e,f,i,j,k,l,m,n,o,p,q,r,0),s)}f.DefaultProps=c;f.componentProps=h;f.make=a}),null);
__d("FDSModal.bs",["bs_caml_option","FDSModal.react","ReasonReactCompat.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d,e,f,g,h,i){i=f!==void 0?f:600;f=g!==void 0?g:366;g={footer:a,isShown:d,onHide:e,width:i,height:f,children:h};c!==void 0&&(g.header=b("bs_caml_option").valFromOption(c));return g}function a(a,c,d,e,f,h,i){return b("ReasonReactCompat.bs").wrapReactForReasonReact(b("FDSModal.react"),g(a,c,d,e,f,h,i,0),i)}f.componentProps=g;f.make=a}),null);
__d("FDSSection.bs",["bs_caml_option","FDSSection.react","ReasonReactCompat.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c={hasPadding:!0};function g(a,c,d){d=a!==void 0?a:!0;a={hasPadding:d};c!==void 0&&(a.children=b("bs_caml_option").valFromOption(c));return a}function a(a,c){return b("ReasonReactCompat.bs").wrapReactForReasonReact(b("FDSSection.react"),g(a,b("bs_caml_option").some(c),0),c)}f.DefaultProps=c;f.componentProps=g;f.make=a}),null);
__d("MessengerSettingsDialogReact.bs",["cx","fbt","URI","bs_block","bs_curry","React","FDSText.bs","gkx","qex","Bootload.bs","bs_caml_obj","FDSModal.bs","FDSButton.bs","Bootloader","FDSSection.bs","Link.react","MercuryIDs","bs_caml_option","CurrentUser","Image.react","ReasonReact.bs","ActiveStatus","EmojiActions","FDSText.react","FDSModal.react","EmojiStateStore","FDSButton.react","PresencePrivacy","FDSSection.react","MessengerDialogs.bs","FDSCardHeader.react","WorkplaceChatHelper","XSettingsController","FDSModalFooter.react","FDSModalHeader.react","SubscriptionsHandler","MessengerDialog.react","MessengerParticipants.bs","MessengerSpinnerReact.bs","MessengerSettingsStore","MessengerSettingsToggle.bs","MessengerSettingsActions","MessengerDialogTitleReact.bs","MessengerContactImageReact.bs","MessengerDialogHeaderReact.bs","MessengerSettingsDialogNux.bs","MessengerCheckboxInputReact.bs","MessengerDialogButton.react","MessengerChatOnOffToggleReact.bs","MessengerDesktopNotifications","WorkplaceDotComMigrationUtils","MessengerDotComAndInboxM4Check.bs","ChatEmojiSkinTonePreferencePickerReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;function a(a){b("Bootloader").loadModules(["BootloadableMessengerSettingsMessageSettingsDialogReact.bs"],a,"MessengerSettingsDialogReact.bs");return 0}c={doLoad:a};var j=b("Bootload.bs").Create(c);d=b("CurrentUser").isWorkUser();e=d?b("WorkplaceDotComMigrationUtils").chooseWorkplaceOrFacebookDomain(new(i||(i=b("URI")))("https://work.facebook.com/help/work/1859929074302172")):new(i||(i=b("URI")))("https://www.facebook.com/help/448141485230424");g=b("MessengerDotComAndInboxM4Check.bs").yes?"_6ct7 _6y57":"_6ct7";a=b("React").jsx(b("Link.react"),{className:g,href:e.toString(),target:"_blank",children:h._("T\u00ecm hi\u1ec3u th\u00eam")});var k=b("MessengerDotComAndInboxM4Check.bs").yes?"_6ct8 _6y58":"_6ct8",l=b("ReasonReact.bs").reducerComponent("MessengerSettingsDialogReact");function m(a,c){a=c[1][3];b("PresencePrivacy").setVisibility(a?b("PresencePrivacy").OFFLINE:b("PresencePrivacy").ONLINE);return 0}function n(a,c){var d=c[3];b("MessengerSettingsActions").changeDesktopNotifs(!c[1][5].desktopNotifsEnabled,function(a){return b("bs_curry")._1(d,1)});return 0}function o(a){return b("XSettingsController").getURIBuilder().setString("tab","notifications").getURI()}function p(a){__p&&__p();var c=a[1];if(c[0]){var d=b("CurrentUser").isWorkUser();return h._({"Workplace Chat":"B\u1ea1n c\u00f3 th\u1ec3 cho ph\u00e9p Tr\u00f2 chuy\u1ec7n tr\u00ean Workplace g\u1eedi cho b\u1ea1n th\u00f4ng b\u00e1o tr\u00ean m\u00e1y t\u00ednh t\u1eeb t\u00f9y ch\u1ecdn tr\u00ecnh duy\u1ec7t.","Messenger":"B\u1ea1n c\u00f3 th\u1ec3 cho ph\u00e9p Messenger g\u1eedi cho b\u1ea1n th\u00f4ng b\u00e1o tr\u00ean m\u00e1y t\u00ednh t\u1eeb t\u00f9y ch\u1ecdn tr\u00ecnh duy\u1ec7t."},[h._enum(d?"Workplace Chat":"Messenger",{"Workplace Chat":"Workplace Chat",Messenger:"Messenger"})])}else{d=b("WorkplaceChatHelper").isDesktopChatApp()||!b("CurrentUser").isWorkUser();if(d)return b("React").createElement(b("MessengerCheckboxInputReact.bs").make,{checked:c[5].desktopNotifsEnabled&&c[1],onChange:b("bs_curry")._1(a[0],n),label:h._("\u0110\u00e3 b\u1eadt th\u00f4ng b\u00e1o tr\u00ean m\u00e1y t\u00ednh")});else return b("React").jsx(b("Link.react"),{className:k,href:o(0),onClick:function(a){return b("MessengerDialogs.bs").removeDialog(void 0,0)},children:h._("Qu\u1ea3n l\u00fd c\u00e0i \u0111\u1eb7t th\u00f4ng b\u00e1o")})}}function q(a){if(b("MessengerDesktopNotifications").isSupported())return b("React").jsxs("div",{children:[b("React").jsx("div",{children:h._("Th\u00f4ng b\u00e1o"),className:"_374c"}),b("React").jsx("div",{children:p(a),className:"_374d"})],className:"_374b"});else return null}function r(a){if(b("CurrentUser").isWorkUser()||b("CurrentUser").isMessengerOnlyUser())return null;else{return(a=b("React")).jsxs("div",{children:[a.jsx("div",{children:h._("Thanh to\u00e1n"),className:"_374c"}),a.jsx("div",{children:a.jsx(b("Link.react"),{className:k,href:"https://secure.facebook.com/settings?tab=payments&ref=messengerdotcom_settings",target:"_blank",children:h._("Qu\u1ea3n l\u00fd tr\u00ean Facebook")}),className:"_374d"})],className:"_374b"})}}function s(a){if(b("CurrentUser").isWorkUser()||b("CurrentUser").isMessengerOnlyUser())return null;else{return(a=b("React")).jsxs("div",{children:[a.jsx("div",{children:h._("Ch\u1eb7n"),className:"_374c"}),a.jsx("div",{children:a.jsx(b("Link.react"),{className:k,href:"https://www.facebook.com/settings?tab=blocking",target:"_blank",children:h._("Qu\u1ea3n l\u00fd tr\u00ean Facebook")}),className:"_374d"})],className:"_374b"})}}function t(a,c){c=c[1][2];if(c!==void 0&&a===c)return 0;else{b("EmojiActions").changeEmojiColor(a);return 0}}function u(a){var c=a[1][2];if(c!==void 0)return b("ReasonReact.bs").element(void 0,void 0,b("ChatEmojiSkinTonePreferencePickerReact.bs").make(c,b("bs_curry")._1(a[0],t),[]));else return b("React").jsx(b("MessengerSpinnerReact.bs").make,{})}function v(a){a=a.target;b("MessengerSettingsActions").changeSettings({sound_enabled:a.checked});return 0}function w(a){var c=!b("CurrentUser").isWorkUser()||b("WorkplaceChatHelper").isDesktopChatApp();if(c){return(c=b("React")).jsxs("div",{children:[c.jsx("div",{children:h._("\u00c2m thanh"),className:"_374c"}),c.jsx("div",{children:c.createElement(b("MessengerCheckboxInputReact.bs").make,{checked:a[1][5].sound_enabled,onChange:v,label:h._("\u0110\u00e3 b\u1eadt")}),className:"_374d"})],className:"_374b"})}else return null}function x(a){b("MessengerDialogs.bs").removeDialog(void 0,0);return b("bs_curry")._1(j.load,function(a){return b("MessengerDialogs.bs").showDialog(function(c){return b("ReasonReact.bs").element(void 0,void 0,b("bs_curry")._1(a.make,[]))})})}function y(a){a=!b("CurrentUser").isWorkUser()&&b("gkx")("678631");if(a){return(a=b("React")).jsxs("div",{children:[a.jsx("div",{children:h._("C\u00e0i \u0111\u1eb7t tin nh\u1eafn"),className:"_374c"}),a.jsx("div",{children:a.jsx(b("Link.react"),{className:k,onClick:x,children:h._("Thay \u0111\u1ed5i")}),className:"_374d"})],className:"_374b"})}else return null}function z(a,c){var d=""+(String(40)+"px"),e={height:40,width:40};c!==void 0&&(e.src=b("bs_caml_option").valFromOption(c));return b("React").jsxs("div",{children:[b("React").jsx("div",{children:b("React").jsx(b("Image.react"),e),className:"_4ld-"}),a?b("React").jsx("div",{children:b("React").jsx("div",{className:"_1gyx"}),className:"_2pom"}):null],className:"_4ldz",style:{height:d,width:d}})}d=b("CurrentUser").isWorkUser();var A=d?h._("\u0110\u1ed3ng nghi\u1ec7p s\u1ebd bi\u1ebft khi n\u00e0o b\u1ea1n \u0111ang ho\u1ea1t \u0111\u1ed9ng ho\u1eb7c ho\u1ea1t \u0111\u1ed9ng g\u1ea7n \u0111\u00e2y. B\u1ea1n s\u1ebd hi\u1ec3n th\u1ecb l\u00e0 \u0111ang ho\u1ea1t \u0111\u1ed9ng ho\u1eb7c ho\u1ea1t \u0111\u1ed9ng g\u1ea7n \u0111\u00e2y, tr\u1eeb khi b\u1ea1n t\u1eaft c\u00e0i \u0111\u1eb7t n\u00e0y \u1edf m\u1ecdi n\u01a1i b\u1ea1n \u0111ang d\u00f9ng Tr\u00f2 chuy\u1ec7n tr\u00ean Workplace ho\u1eb7c Workplace. B\u1ea1n c\u0169ng s\u1ebd bi\u1ebft khi n\u00e0o \u0111\u1ed3ng nghi\u1ec7p v\u00e0 ng\u01b0\u1eddi li\u00ean h\u1ec7 c\u1ee7a m\u00ecnh \u0111ang ho\u1ea1t \u0111\u1ed9ng ho\u1eb7c ho\u1ea1t \u0111\u1ed9ng g\u1ea7n \u0111\u00e2y."):h._("B\u1ea1n b\u00e8 v\u00e0 ng\u01b0\u1eddi li\u00ean h\u1ec7 c\u1ee7a b\u1ea1n s\u1ebd bi\u1ebft khi n\u00e0o b\u1ea1n \u0111ang ho\u1ea1t \u0111\u1ed9ng ho\u1eb7c ho\u1ea1t \u0111\u1ed9ng g\u1ea7n \u0111\u00e2y. B\u1ea1n s\u1ebd hi\u1ec3n th\u1ecb l\u00e0 \u0111ang ho\u1ea1t \u0111\u1ed9ng ho\u1eb7c ho\u1ea1t \u0111\u1ed9ng g\u1ea7n \u0111\u00e2y, tr\u1eeb khi b\u1ea1n t\u1eaft c\u00e0i \u0111\u1eb7t n\u00e0y \u1edf m\u1ecdi n\u01a1i b\u1ea1n \u0111ang d\u00f9ng Messenger hay Facebook. B\u1ea1n c\u0169ng s\u1ebd bi\u1ebft khi n\u00e0o b\u1ea1n b\u00e8 v\u00e0 ng\u01b0\u1eddi li\u00ean h\u1ec7 c\u1ee7a m\u00ecnh \u0111ang ho\u1ea1t \u0111\u1ed9ng ho\u1eb7c ho\u1ea1t \u0111\u1ed9ng g\u1ea7n \u0111\u00e2y.");d=b("CurrentUser").isWorkUser();var B=d?h._("B\u1ea1n s\u1ebd v\u1eabn hi\u1ec3n th\u1ecb l\u00e0 \u0111ang ho\u1ea1t \u0111\u1ed9ng ho\u1eb7c ho\u1ea1t \u0111\u1ed9ng g\u1ea7n \u0111\u00e2y, tr\u1eeb khi b\u1ea1n t\u1eaft c\u00e0i \u0111\u1eb7t n\u00e0y \u1edf m\u1ecdi n\u01a1i b\u1ea1n \u0111ang d\u00f9ng Tr\u00f2 chuy\u1ec7n tr\u00ean Workplace ho\u1eb7c  Workplace. B\u1ea1n c\u0169ng s\u1ebd kh\u00f4ng bi\u1ebft khi n\u00e0o \u0111\u1ed3ng nghi\u1ec7p c\u1ee7a m\u00ecnh ho\u1ea1t \u0111\u1ed9ng ho\u1eb7c ho\u1ea1t \u0111\u1ed9ng g\u1ea7n \u0111\u00e2y."):h._("B\u1ea1n v\u1eabn s\u1ebd hi\u1ec3n th\u1ecb l\u00e0 \u0111ang ho\u1ea1t \u0111\u1ed9ng ho\u1eb7c ho\u1ea1t \u0111\u1ed9ng g\u1ea7n \u0111\u00e2y, tr\u1eeb khi b\u1ea1n t\u1eaft c\u00e0i \u0111\u1eb7t n\u00e0y \u1edf m\u1ecdi n\u01a1i b\u1ea1n \u0111ang d\u00f9ng Messenger hay Facebook. T\u1eeb \u0111\u00e2y, b\u1ea1n s\u1ebd kh\u00f4ng bi\u1ebft khi n\u00e0o b\u1ea1n b\u00e8 v\u00e0 ng\u01b0\u1eddi li\u00ean h\u1ec7 c\u1ee7a m\u00ecnh ho\u1ea1t \u0111\u1ed9ng ho\u1eb7c ho\u1ea1t \u0111\u1ed9ng g\u1ea7n \u0111\u00e2y.");function C(a,c,d,e,f,g,i){__p&&__p();return[l[0],l[1],l[2],l[3],function(c){__p&&__p();var d=new(b("SubscriptionsHandler"))();d.addSubscriptions(b("PresencePrivacy").subscribe("privacy-changed",function(a){return b("bs_curry")._1(c[3],0)}),b("PresencePrivacy").subscribe("privacy-user-presence-changed",function(a){return b("bs_curry")._1(c[3],0)}),b("MessengerSettingsStore").addListener("change",function(a){return b("bs_curry")._1(c[3],0)}),b("EmojiStateStore").addListener(function(a){return b("bs_curry")._1(c[3],0)}));var e=b("MercuryIDs").getParticipantIDFromUserID(a),f=c[1][2];f===void 0&&b("EmojiActions").getEmojiColor();f=c[1][7];if(f!==void 0){if(b("bs_caml_option").valFromOption(f).id!==e){f=b("MessengerParticipants.bs").get(e,function(a){return b("bs_curry")._1(c[3],b("bs_block").__(0,[a]))});c[1][4][0]=f==null?void 0:b("bs_caml_option").some(f)}}else{f=b("MessengerParticipants.bs").get(e,function(a){return b("bs_curry")._1(c[3],b("bs_block").__(0,[a]))});c[1][4][0]=f==null?void 0:b("bs_caml_option").some(f)}return b("bs_curry")._1(c[4],function(a){d.release();return 0})},function(c){__p&&__p();var d=c[1];c=b("MercuryIDs").getParticipantIDFromUserID(a);var e=d[1][7];e=e!==void 0?b("bs_caml_obj").caml_notequal(b("bs_caml_option").valFromOption(e).id,c):!0;if(e){e=b("MessengerParticipants.bs").get(c,function(a){return b("bs_curry")._1(d[3],b("bs_block").__(0,[a]))});d[1][4][0]=e==null?void 0:b("bs_caml_option").some(e);return 0}else return 0},function(a){a=a[1][4][0];if(a!==void 0)return b("MessengerParticipants.bs").removeCallback(b("bs_caml_option").valFromOption(a));else return 0},l[7],function(a){__p&&__p();var c=a[1],d=c[8][0],e=c[8][1],i=c[8][2];d=b("React").jsx("div",{children:b("React").jsx(b("FDSText.react"),b("FDSText.bs").componentProps(1,0,7,0,void 0,b("bs_caml_option").some(d?e?i?h._("B\u1ea1n v\u00e0 b\u1ea1n b\u00e8\/ng\u01b0\u1eddi li\u00ean h\u1ec7 s\u1ebd nh\u00ecn th\u1ea5y Tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng c\u1ee7a nhau tr\u00ean t\u1ea5t c\u1ea3 c\u00e1c S\u1ea3n ph\u1ea9m c\u1ee7a Facebook."):h._("B\u1ea1n v\u00e0 b\u1ea1n b\u00e8\/ng\u01b0\u1eddi li\u00ean h\u1ec7 s\u1ebd nh\u00ecn th\u1ea5y Tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng c\u1ee7a nhau \u1edf b\u1ea5t k\u1ef3 \u0111\u00e2u ngo\u1ea1i tr\u1eeb Facebook."):i?h._("B\u1ea1n v\u00e0 b\u1ea1n b\u00e8\/ng\u01b0\u1eddi li\u00ean h\u1ec7 s\u1ebd nh\u00ecn th\u1ea5y Tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng c\u1ee7a nhau \u1edf b\u1ea5t k\u1ef3 \u0111\u00e2u ngo\u1ea1i tr\u1eeb Messenger."):"":h._("B\u1ea1n b\u00e8 v\u00e0 ng\u01b0\u1eddi li\u00ean h\u1ec7 v\u1eabn nh\u00ecn th\u1ea5y Tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng c\u1ee7a b\u1ea1n tr\u00ean c\u00e1c S\u1ea3n ph\u1ea9m c\u1ee7a Facebook (ngo\u1ea1i tr\u1eeb Facebook v\u00e0 Messenger), tr\u1eeb khi b\u1ea1n t\u1eaft c\u00e0i \u0111\u1eb7t ch\u00ednh trong ph\u1ea7n Hi\u1ec3n th\u1ecb tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng.")),0)),className:"_2pid"});e=b("React").createElement(b("React").Fragment,void 0,b("React").createElement(b("MessengerDialogTitleReact.bs").make,{children:h._("C\u00e0i \u0111\u1eb7t")}),b("React").jsx(b("MessengerDialogButton.react"),{label:h._("Xong"),onClick:function(c){return b("bs_curry")._1(a[3],2)},type:"primary"}));i=c[8][0];i=b("React").jsx(b("FDSCardHeader.react"),{button:b("React").jsx(b("MessengerSettingsToggle.bs").make,{onToggle:function(c){return b("bs_curry")._1(a[3],b("bs_block").__(1,[b("bs_block").__(0,[c,!0])]))},enabled:c[8][0]}),title:b("React").jsx(b("FDSText.react"),b("FDSText.bs").componentProps(0,void 0,5,void 0,1,b("bs_caml_option").some(h._("Hi\u1ec3n th\u1ecb tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng")),0)),subtitle:i?A:B});var j=b("React").jsx(b("FDSCardHeader.react"),{button:b("React").jsx(b("MessengerSettingsToggle.bs").make,{onToggle:function(c){return b("bs_curry")._1(a[3],b("bs_block").__(1,[b("bs_block").__(1,[c,!0])]))},enabled:c[8][1]}),title:b("React").jsxs("div",{children:[z(c[8][1],g),b("React").jsx("div",{children:h._("Hi\u1ec3n th\u1ecb tr\u00ean Messenger"),className:"_2pis"})],className:"_3qn7 _3qng _2fyi"})}),k=b("React").jsx(b("FDSCardHeader.react"),{button:b("React").jsx(b("MessengerSettingsToggle.bs").make,{onToggle:function(c){return b("bs_curry")._1(a[3],b("bs_block").__(1,[b("bs_block").__(2,[c,!0])]))},enabled:c[8][2]}),title:b("React").jsxs("div",{children:[z(c[8][2],g),b("React").jsx("div",{children:h._("Hi\u1ec3n th\u1ecb tr\u00ean Facebook"),className:"_2pis"})],className:"_3qn7 _3qng _2fyi"})});i=b("React").jsxs("div",{children:[b("React").jsx("div",{children:h._("Tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng"),className:"_374c"}),b("React").jsxs("div",{children:[i,j,k,d],className:"_374d"})],className:"_374b"});j=c[3];k=b("React").jsxs("div",{children:[b("React").jsx("div",{children:h._("Tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng"),className:"_374c"}),b("React").jsxs("div",{children:[b("React").jsxs("div",{children:[h._("Hi\u1ec3n th\u1ecb khi b\u1ea1n ho\u1ea1t \u0111\u1ed9ng"),b("React").createElement(b("MessengerChatOnOffToggleReact.bs").make,{isUserAvailable:c[3],onAvailabilityChange:b("bs_curry")._1(a[0],m)})],className:"_6cs6"}),b("React").jsx("div",{children:j?A:B,className:"_6cs7"})],className:"_374d _6cs5"})],className:"_374b"});d=b("qex")._("971346");j=d?i:k;d=!b("CurrentUser").isWorkUser();if(d){i=c[7];if(i!==void 0){k=b("bs_caml_option").valFromOption(i);d=b("React").jsxs("div",{children:[b("ReasonReact.bs").element(void 0,void 0,b("MessengerContactImageReact.bs").StraightJSComponent.make("_6cs4",void 0,!0,void 0,32,b("bs_caml_option").nullable_to_opt(k.image_src),void 0,[])),k.name],className:"_6ct9"})}else d=b("React").jsx(b("MessengerSpinnerReact.bs").make,{});i=b("React").jsxs("div",{children:[b("React").jsx("div",{children:h._("T\u00e0i kho\u1ea3n"),className:"_374c"}),b("React").jsx("div",{children:d,className:"_374d"})],className:"_374b"})}else i=null;k=b("React").jsx(b("FDSModal.react"),b("FDSModal.bs").componentProps(b("React").jsx(b("FDSModalFooter.react"),{primaryButton:b("React").jsx(b("FDSButton.react"),b("FDSButton.bs").componentProps(void 0,void 0,void 0,void 0,void 0,b("bs_caml_option").some(h._("T\u1eaft")),void 0,function(c){return b("bs_curry")._1(a[3],4)},void 0,void 0,void 0,0,void 0,void 0,void 0,0)),secondaryButton:b("React").jsx(b("FDSButton.react"),b("FDSButton.bs").componentProps(void 0,void 0,void 0,void 0,void 0,b("bs_caml_option").some(h._("H\u1ee7y")),void 0,function(c){return b("bs_curry")._1(a[3],b("bs_block").__(2,[!1]))},void 0,void 0,void 0,1,void 0,void 0,void 0,0))}),b("bs_caml_option").some(b("React").jsx(b("FDSModalHeader.react"),{title:h._("Tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng")})),c[9],function(c){return b("bs_curry")._1(a[3],b("bs_block").__(2,[!1]))},400,220,b("React").jsx(b("FDSSection.react"),b("FDSSection.bs").componentProps(void 0,b("bs_caml_option").some(b("React").jsxs("div",{children:[b("React").jsx(b("FDSText.react"),b("FDSText.bs").componentProps(0,0,3,1,1,b("bs_caml_option").some(h._("T\u1eaft tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng?")),0)),b("React").jsx(b("FDSText.react"),b("FDSText.bs").componentProps(0,0,5,1,0,b("bs_caml_option").some(h._("N\u1ebfu kh\u00f4ng b\u1eadt Tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng, b\u1ea1n s\u1ebd kh\u00f4ng bi\u1ebft khi n\u00e0o b\u1ea1n b\u00e8 v\u00e0 ng\u01b0\u1eddi li\u00ean h\u1ec7 c\u1ee7a m\u00ecnh \u0111ang ho\u1ea1t \u0111\u1ed9ng hay ho\u1ea1t \u0111\u1ed9ng g\u1ea7n \u0111\u00e2y.")),0))],className:"_3qn7 _3qng _2fyh"})),0)),0));d=f||!b("qex")._("971346");if(d){return(d=b("React")).createElement(d.Fragment,void 0,k,d.jsxs(b("MessengerDialog.react"),{shown:c[6],type:"default",width:544,children:[d.createElement(b("MessengerDialogHeaderReact.bs").make,{children:e}),i,j,y(0),w(a),q(a),r(0),s(0),d.jsxs("div",{children:[d.jsx("div",{children:h._("Bi\u1ec3u t\u01b0\u1ee3ng c\u1ea3m x\u00fac"),className:"_374c"}),d.jsx("div",{children:u(a),className:"_374d _5jb0"})],className:"_374b"})]}))}else return b("ReasonReact.bs").element(void 0,void 0,b("MessengerSettingsDialogNux.bs").make(c[8][0],c[8][1],c[8][2],c[6],function(c){return b("bs_curry")._1(a[3],b("bs_block").__(1,[b("bs_block").__(0,[c,!1])]))},function(c){return b("bs_curry")._1(a[3],b("bs_block").__(1,[b("bs_block").__(1,[c,!1])]))},function(c){return b("bs_curry")._1(a[3],b("bs_block").__(1,[b("bs_block").__(2,[c,!1])]))},function(c){return b("bs_curry")._1(a[3],3)},function(c){return b("bs_curry")._1(a[3],2)},g,[]))},function(g){return[b("MessengerDesktopNotifications").isDenied(),b("MessengerDesktopNotifications").isGranted(),b("bs_caml_option").nullable_to_opt(b("EmojiStateStore").getState().emojiColor),b("PresencePrivacy").getVisibility()===b("PresencePrivacy").ONLINE,[void 0],b("MessengerSettingsStore").getSettings(),!0,b("bs_caml_option").nullable_to_opt(b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a))),[c,d,e,f],!1]},l[10],function(c,d){__p&&__p();if(typeof c==="number")switch(c){case 0:return b("bs_block").__(0,[[b("MessengerDesktopNotifications").isDenied(),b("MessengerDesktopNotifications").isGranted(),b("bs_caml_option").nullable_to_opt(b("EmojiStateStore").getState().emojiColor),b("PresencePrivacy").getVisibility()===b("PresencePrivacy").ONLINE,d[4],b("MessengerSettingsStore").getSettings(),!0,b("bs_caml_option").nullable_to_opt(b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a))),d[8],d[9]]]);case 1:return b("bs_block").__(0,[[!0,d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9]]]);case 2:return b("bs_block").__(0,[[d[0],d[1],d[2],d[3],d[4],d[5],!1,d[7],d[8],d[9]]]);case 3:b("ActiveStatus").setPresenceVSC(d[8][0],d[8][1],d[8][2]);var e=!d[8][3];e&&b("ActiveStatus").convertToPresenceView();return b("bs_block").__(0,[[d[0],d[1],d[2],d[3],d[4],d[5],!1,d[7],d[8],d[9]]]);case 4:b("ActiveStatus").setPresenceVSC(!1,!1,!1);e=d[8];return b("bs_block").__(0,[[d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],[!1,!1,!1,e[3]],!1]])}else switch(c.tag|0){case 0:return b("bs_block").__(0,[[d[0],d[1],d[2],d[3],d[4],d[5],d[6],b("bs_caml_option").some(c[0]),d[8],d[9]]]);case 1:e=c[0];switch(e.tag|0){case 0:var f=e[1],g=e[0];f&&b("ActiveStatus").setPresenceVSC(g,g,g);f=!g&&f;if(f)return b("bs_block").__(0,[[d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],!0]]);else{f=d[8];return b("bs_block").__(0,[[d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],[g,g,g,f[3]],d[9]]])}case 1:g=e[1];f=e[0];var h=d[8][0],i=d[8][2];h=h?f||i?1:2:f?2:1;switch(h){case 1:g&&b("ActiveStatus").setPresenceVSC(d[8][0],f,d[8][2]);i=d[8];return b("bs_block").__(0,[[d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],[i[0],f,i[2],i[3]],d[9]]]);case 2:g&&b("ActiveStatus").setPresenceVSC(f,f,d[8][2]);h=d[8];return b("bs_block").__(0,[[d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],[f,f,h[2],h[3]],d[9]]])}break;case 2:i=e[1];g=e[0];f=d[8][0];h=d[8][1];f=f?h||g?1:2:g?2:1;switch(f){case 1:i&&b("ActiveStatus").setPresenceVSC(d[8][0],d[8][1],g);h=d[8];return b("bs_block").__(0,[[d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],[h[0],h[1],g,h[3]],d[9]]]);case 2:i&&b("ActiveStatus").setPresenceVSC(g,d[8][1],g);f=d[8];return b("bs_block").__(0,[[d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],[g,f[1],g,f[3]],d[9]]])}break;case 3:h=d[8];return b("bs_block").__(0,[[d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],[h[0],h[1],h[2],e[0]],d[9]]])}break;case 2:return b("bs_block").__(0,[[d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],c[0]]])}},l[12]]}d=b("ReasonReact.bs").wrapReasonForJs(l,function(a){return C(a.viewer,a.main,a.messenger,a.facebook,a.converted,a.profileImage,a.children)});var D=40;f.BootloadableMessengerSettingsMessageSettingsDialogReact=c;f.LoadableMessengerSettingsMessageSettingsDialogReact=j;f.activeLearnMoreLink=e;f.activeStatusLinkClasses=g;f.activeLearnMore=a;f.linkClasses=k;f.component=l;f.handleTogglePresence=m;f.handleNotificationsChange=n;f.genNotificationSettingsLink=o;f.renderNotificationsContent=p;f.renderNotificationsSection=q;f.renderPaymentsSection=r;f.renderBlockingSection=s;f.handleChooseEmojiColor=t;f.renderEmojiColorSection=u;f.handleSoundChange=v;f.renderSoundSection=w;f.renderMessageSettingsDialog=x;f.renderMessageSettingsSection=y;f.profileImageSize=D;f.renderProfileImage=z;f.activeStatusDescription=A;f.inactiveStatusDescription=B;f.make=C;f.jsComponent=d}),null);
__d("MessengerSettingsDialogWrapper.bs",["bs_curry","React","qex","CurrentUser","ReasonReact.bs","ActiveStatus","ShortProfiles","ReasonReactCompat.bs","MessengerSettingsDialogReact.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){__p&&__p();a=a.viewer;var c=b("qex")._("971346");if(c){c=b("React").useState(function(){return});var d=c[1],e=b("React").useState(function(){return[!1,!1,!1,!1,!1]}),f=e[1];e=e[0];b("React").useEffect(function(){__p&&__p();b("ShortProfiles").get(b("CurrentUser").getID(),function(a,c){c=a.thumbSrc;if(c!==void 0){var e=c;return b("bs_curry")._1(d,function(a){return e})}else return 0});b("ActiveStatus").getSettings(function(a,c,d,e){return b("bs_curry")._1(f,function(b){return[a,c,d,e,!0]})});return},[]);var g=e[4];if(g)return b("ReasonReact.bs").element(void 0,void 0,b("MessengerSettingsDialogReact.bs").make(a,e[0],e[1],e[2],e[3],c[0],[]));else return b("React").jsx("div",{})}else return b("ReasonReact.bs").element(void 0,void 0,b("MessengerSettingsDialogReact.bs").make(a,!1,!1,!1,!1,void 0,[]))}a=b("ReasonReact.bs").statelessComponent("MessengerSettingsDialogWrapper");function h(a,c){return b("ReasonReactCompat.bs").wrapReactForReasonReact(g,{viewer:a},c)}c={component:a,make:h};d=b("ReasonReact.bs").wrapReasonForJs(a,function(a){return h(a.viewer,a.children)});e=g;f.make=e;f.Jsx2=c;f.jsComponent=d}),null);
__d("WorkGalahadChatChannelOverflowMenu.react",["React","WIGDropdownMenu.react","WorkGalahadChatMenuHelper"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.label;a=a.thread;return b("React").jsx(b("WIGDropdownMenu.react"),{items:b("WorkGalahadChatMenuHelper").createChatChannelOverflowMenuItems(a),label:c,width:280,offsetX:-12})}e.exports=b("React").memo(a)}),null);
__d("BrowserPushCommands",[],(function(a,b,c,d,e,f){a="browser_push_ack";b="browser_push_redirect";c="browser_push_window_visible";d={ACK:a,REDIRECT:b,WINDOW_VISIBLE:c};e.exports=d}),null);
__d("BrowserPushMessageRedirectUtil",["Bootloader"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){var c="(messages)(.*?)(?:(tid=))([^&]*)";a=a.match(c);if(!a)return!0;var d=a.pop();b("Bootloader").loadModules(["FantaTabActions"],function(a){a.openTab(d)},"BrowserPushMessageRedirectUtil");return!1};e.exports=a}),null);
__d("BrowserPushMessageHandler",["BrowserPushCommands","BrowserPushMessageRedirectUtil","EventListener","URI","URISchemes","isFacebookURI"],(function(a,b,c,d,e,f){__p&&__p();var g,h;function i(a){__p&&__p();if(a.data.command&&a.data.command===b("BrowserPushCommands").REDIRECT){if(window.onbeforeunload()===void 0)a.ports[0].postMessage({command:b("BrowserPushCommands").ACK,success:!0});else{a.ports[0].postMessage({command:b("BrowserPushCommands").ACK,success:!1});return}a=a.data.uri;if(/^([^.:/?#]+):/.test(a)&&!(g||(g=b("URISchemes"))).isAllowed(/^([^.:/?#]+):/.exec(a)[1])||!b("isFacebookURI")(new(h||(h=b("URI")))(a)))throw new Error("goURI: URI scheme rejected, URI: "+a);b("BrowserPushMessageRedirectUtil")(a)&&(window.location.href=a)}}a={registerRedirectHandler:function(){b("EventListener").listen(window,"message",function(a){a.origin===""&&i(a)}),navigator.serviceWorker&&navigator.serviceWorker.addEventListener&&navigator.serviceWorker.addEventListener("message",function(a){(navigator.serviceWorker&&navigator.serviceWorker.controller&&a.target&&a.target.controller&&a.target.controller===navigator.serviceWorker.controller||new RegExp("^"+window.location.protocol+"//"+window.location.host+"$").test(a.origin))&&i(a)})}};e.exports=a}),null);
__d("BrowserPushVisibilityChanger",["BrowserPushCommands","ClientServiceWorkerMessage","Visibility"],(function(a,b,c,d,e,f){function g(){new(b("ClientServiceWorkerMessage"))(b("BrowserPushCommands").WINDOW_VISIBLE,null).sendViaController()}a={listenForVisibility:function(){b("Visibility").isHidden()||g(),b("Visibility").addListener(b("Visibility").VISIBLE,g)}};e.exports=a}),null);
__d("MPushPermissionUtil",["BanzaiLogger","gkx"],(function(a,b,c,d,e,f){function a(a){var c=b("gkx")("910664");c&&b("BanzaiLogger").log("ChromePushPermissionEventsLoggerConfig",{event:a})}e.exports={logEvent:a}}),null);
__d("PushRegistrationUtils",[],(function(a,b,c,d,e,f){"use strict";var g={normalizeSubscriptionEndpoint:function(a){var b=a.endpoint;"subscriptionId"in a&&!new RegExp("/"+a.subscriptionId+"$").test(b)&&(b+="/"+a.subscriptionId);return b},setupPushRegistrationData:function(a,b){var c=g.normalizeSubscriptionEndpoint(a),d=null;a.toJSON?d=a.toJSON().keys:a.keys&&(d=a.keys);return{app_id:b,push_endpoint:c,subscription_keys:JSON.stringify(d)}}};e.exports=g}),null);
__d("XAsyncPushMuteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/settings/push/mute/",{appid:{type:"Int",required:!0},push_endpoint:{type:"String",required:!0},mute_for:{type:"Enum",enumType:0}})}),null);
__d("XAsyncPushMuteStateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/settings/push/mute/state/",{appid:{type:"Int",required:!0},push_endpoint:{type:"String",required:!0}})}),null);
__d("PushRegistration",["Promise","BrowserPushMessageHandler","BrowserPushPubKey","BrowserPushVisibilityChanger","MPushPermissionUtil","PushRegistrationUtils","ServiceWorkerRegistration","XAsyncPushMuteController","XAsyncPushMuteStateController","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();var g=window.Notification,h=new Map();a=function(){"use strict";__p&&__p();a.get=function(b,c){if(h.has(c))return h.get(c);b=new a(b,c);h.set(c,b);return b};function a(b,c){this.$3=b,this.appID=c,!a.$1&&!a.$2&&(a.$1=!1,a.$2=!1)}var c=a.prototype;c.getPushSubscription=function(){var c=this;return new(b("Promise"))(function(d,e){a.pushPermissionIsDenied()&&(b("MPushPermissionUtil").logEvent("permission_denied_or_blocked"),e(new Error("No permission or not supported"))),b("ServiceWorkerRegistration").getWorkerRegistration(c.$3).then(function(a){if(!a){d(null);return}a.pushManager.getSubscription().then(function(a){d(a)})["catch"](e)})["catch"](e)})};c.$4=function(a,c,d,e){a=a.getURIBuilder().getURI();c=new c(a);c.setData(b("PushRegistrationUtils").setupPushRegistrationData(d,this.appID));c.setMethod("post");c.setHandler&&c.setHandler(function(a){a.payload&&a.payload.session_change&&e()});c.send()};c.getMutedUntilInServer=function(a){__p&&__p();var c=this;return new(b("Promise"))(function(d,e){__p&&__p();c.getPushSubscription().then(function(f){if(f){f=b("PushRegistrationUtils").normalizeSubscriptionEndpoint(f);f=b("XAsyncPushMuteStateController").getURIBuilder().setString("push_endpoint",f).setInt("appid",c.appID).getURI();f=new a(f);f.listen("done",function(a){d(a.payload.muteUntilTimestampSec)});f.send()}else e("cannot check mute status for unsubscribed endpoint")})["catch"](e)})};c.muteNotifications=function(a,c){__p&&__p();var d=this;return new(b("Promise"))(function(e,f){__p&&__p();d.getPushSubscription().then(function(g){__p&&__p();if(g){g=b("PushRegistrationUtils").normalizeSubscriptionEndpoint(g);g=b("XAsyncPushMuteController").getURIBuilder().setEnum("mute_for",a).setString("push_endpoint",g).setInt("appid",d.appID).getURI();g=new c(g);g.setMethod("POST");g.listen("done",function(b){a!==0&&b.payload.muteUntilTimestampSec===0?f("operation failed in server"):e(b.payload.muteUntilTimestampSec)});g.send()}else f("no subscription found")})["catch"](f)})};c.getSubscription=function(){var a=this;return new(b("Promise"))(function(c,d){a.getPushSubscription().then(function(a){a?c(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(a)):c(null)})["catch"](d)})};c.maybeRegisterPushAgain=function(a,c,d){var e=this;return new(b("Promise"))(function(f,g){e.getPushSubscription().then(function(g){g?(e.$4(a,c,g,d),f(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(g))):f(null)})["catch"](function(){f(null)})})};c.$5=function(c,d,e){__p&&__p();var f=this;return new(b("Promise"))(function(b,g){__p&&__p();if(a.$2&&!e){g(new Error("sending disable info already"));return}a.$2=!0;var h=c.getURIBuilder().getURI();h=new d(h.toString());h.setData({appid:f.appID,from_browser_settings:e});h.setMethod("post");h.listen?(h.listen("finally",b),h.listen("fail",function(){a.$2=!1,g()})):h.setErrorHandler&&h.setHandler?(h.setErrorHandler(function(){a.$2=!1,g()}),h.setHandler(b)):b();h.send()})};c.isPushRegistered=function(c,d,e,f,g,h,i){var j=this;g===void 0&&(g=!1);h===void 0&&(h=b("emptyFunction"));i===void 0&&(i=!1);b("BrowserPushMessageHandler").registerRedirectHandler();return new(b("Promise"))(function(k,l){j.getPushSubscription().then(function(l){k(!!l||c&&!a.pushPermissionIsPending()),l?g?j.$4(d,f,l,h):b("BrowserPushVisibilityChanger").listenForVisibility():!l&&c&&(a.pushPermissionIsOn()?j.registerPush(d,f,h,i)["catch"](function(){}):j.$5(e,f,!1))})["catch"](function(){c&&j.$5(e,f,!1),i&&b("ServiceWorkerRegistration").unregisterControllingWorker(),l()})})};c.$6=function(){return new(b("Promise"))(function(a,b){g.requestPermission(a)})};c.registerPushAndWaitForEndpoint=function(a,c,d,e){var f=this;e===void 0&&(e=!1);return new(b("Promise"))(function(b,g){f.$7(a,c,d,!0,null,e).then(function(a){if(typeof a!=="string"){g(new Error("registerPushImpl did not return an endpoint"));return}b(a)})["catch"](g)})};c.registerPushOnKaiOS=function(a,c,d){var e=this;return new(b("Promise"))(function(f,g){d.waitForKaiOS().done(function(){d.registerPush(function(d){d=JSON.parse(d.get("push_endpoint"));e.$4(a,c,d,b("emptyFunction"));f(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(d))})})})};c.registerPush=function(a,c,d,e,f){d===void 0&&(d=b("emptyFunction"));e===void 0&&(e=!1);f===void 0&&(f=b("emptyFunction"));return this.registerPushWithFinishedCallBack(a,c,d,f,e)};c.registerPushWithFinishedCallBack=function(a,c,d,e,f){var g=this;f===void 0&&(f=!1);return new(b("Promise"))(function(b,h){g.$7(a,c,d,!1,e,f).then(function(a){if(typeof a!=="boolean"){h(new Error("registerPushImpl did not return a boolean"));return}b(a)})["catch"](h)})};c.$7=function(c,d,e,f,g,h){__p&&__p();var i=this;if(a.$1)return new(b("Promise"))(function(a,b){b(new Error("registering already"))});if(!self.PushManager)return b("Promise").reject(new Error("PushManager not found."));a.$1=!0;return new(b("Promise"))(function(j,k){__p&&__p();var l=b("ServiceWorkerRegistration").registerWorkerIfUnregistered(i.$3),m=i.$6();b("Promise").all([l,m]).then(function(l){__p&&__p();var m=l[0];if(!a.pushPermissionIsOn()){h&&m.unregister();throw new Error("Push permission was denied")}f||j(!0);l=b("BrowserPushPubKey").appServerKey;l=l!=null&&l!=""?{userVisibleOnly:!0,applicationServerKey:l}:{userVisibleOnly:!0};m.pushManager.subscribe(l).then(function(a){f&&j(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(a)),i.$4(c,d,a,e),g&&g(),b("BrowserPushVisibilityChanger").listenForVisibility()})["catch"](function(b){a.$1=!1,h&&m.unregister(),k(b)})})["catch"](function(b){a.$1=!1,k(b)})})};c.unregisterPushAndSWOnKaiOS=function(a,c,d,e){var f=this;return new(b("Promise"))(function(b,g){f.$5(a,c,e).then(function(){d.unregisterPush(),b()})["catch"](g)})};c.unregisterPushAndSW=function(a,c){var d=this;return new(b("Promise"))(function(e,f){d.$5(a,c,!0).then(function(){b("promiseDone")(b("ServiceWorkerRegistration").unregisterControllingWorker(),e)})["catch"](f)})};c.unregisterPushOnly=function(a,c){var d=this;return new(b("Promise"))(function(b,e){d.getPushSubscription().then(function(f){f?f.unsubscribe().then(d.$5(a,c,!0)).then(function(){b(!0)})["catch"](e):e()})["catch"](e)})};a.pushPermissionIsPending=function(){return window.Notification&&window.Notification.permission==="default"};a.pushPermissionIsOn=function(){return window.Notification&&window.Notification.permission==="granted"};a.pushPermissionIsDenied=function(){return window.Notification&&window.Notification.permission==="denied"};return a}();e.exports=a}),null);
__d("XBrowserPushDummyPromptActionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/client/push/dummyprompt/action/",{})}),null);
__d("XBrowserWebNotificationsEnableController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/client/web_notifications/enable/",{})}),null);
__d("XPushRegisterServiceWorkerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/push/register/service_worker/",{})}),null);
__d("BrowserPushDirectPromptInstaller",["Promise","Arbiter","AsyncRequest","BanzaiLogger","Bootloader","BrowserPushSessionChange.react","CrossWindowEventEmitter","DOM","NotificationPermissionDummyRequest.react","NotificationPermissionNotice.react","NotificationPermissionRequest.react","NotificationPermissionRequestWithPreview.react","PushRegistration","QE2Logger","React","ReactDOM","XBrowserPushDisabledController","XBrowserPushDummyPromptActionController","XBrowserPushXOutController","XBrowserWebNotificationsEnableController","XPushRegisterServiceWorkerController","incognito","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=window.Notification,h=new(b("CrossWindowEventEmitter"))("BrowserPushInstall"),i={},j,k=!1;function l(a,c,d){d===void 0&&(d="prompt");a=babelHelpers["extends"]({event:a,appid:c,surface:d},i);b("BanzaiLogger").log("BrowserPushLoggerConfig",a)}function m(){i.xout_count===0&&j&&b("QE2Logger").logExposureForUser(j)}function n(a){var c=b("XBrowserPushXOutController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setMethod("POST").send();l("xout",a)}function o(a){var c=b("XBrowserWebNotificationsEnableController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setMethod("POST").send();b("Arbiter").inform("WebNotifications/enabled");h.emitRemote("complete");b("Bootloader").loadModules(["WebNotificationsPresenter"],function(b){b.init(a.toString())},"BrowserPushDirectPromptInstaller")}function p(a){k||(k=!0,b("ReactDOM").unmountComponentAtNode(a))}function q(a,c){var d=b("DOM").insertBefore(a,b("DOM").create("span"));d=d.pop();b("ReactDOM").render(b("React").jsx(b("BrowserPushSessionChange.react"),{onHide:function(){b("ReactDOM").unmountComponentAtNode(a)},push:c}),d)}function r(a,c,d,e,f){var g=b("PushRegistration").get(a,c);l("turn_on",c);return g.registerPushWithFinishedCallBack(b("XPushRegisterServiceWorkerController"),b("AsyncRequest"),function(){q(d,g)},function(){b("Arbiter").inform("BrowserPushInstall/installed")},f).then(function(){p(d),l("install",c)})["catch"](function(a){p(d),b("PushRegistration").pushPermissionIsDenied()?(b("ReactDOM").render(b("React").jsx(b("NotificationPermissionNotice.react"),{onHide:function(){b("ReactDOM").unmountComponentAtNode(d)},browserName:e}),d),l("deny",c)):l("install_ignore",c),n(c)})}a={setLogExtraData:function(a){i=a},setQEUniverseName:function(a){j=a},requestThenInstallWebNotifications:function(a,b,c,d,e,f){m(),this._showRequestPermissions({appID:a,baseElement:b,browserName:c,hasEnoughFriendsToRequestPush:d,sampleNotificationAvatarURI:f,sampleNotificationMessage:e,showSpinnerWhileRequesting:!0,isWebNotifications:!0,onAcceptCallback:this._getOnWebNotificationsDialogAccept({appID:a,callback:function(c){c==="granted"?(l("install",a),h.emitRemote("complete"),p(b),o(a)):(l("deny",a),n(a))}})})},requestThenInstallPush:function(a,c,d,e,f,g,h,i,j,k,l,n,o){__p&&__p();var p=this,s=b("PushRegistration").get(a,c);e=s.isPushRegistered(e,b("XPushRegisterServiceWorkerController"),b("XBrowserPushDisabledController"),b("AsyncRequest"),!!g,function(){q(d,s)},i);b("Promise").all([e,b("incognito")()]).then(function(e){var g=e[0];e=e[1];if(g||e)return;m();b("PushRegistration").pushPermissionIsPending()?p._showRequestPermissions({appID:c,baseElement:d,hasEnoughFriendsToRequestPush:j,isWebNotifications:!1,onAcceptCallback:p._getOnPushNotificationsAccept({appID:c,baseElement:d,browserName:h,path:a,workerIsForPushOnly:i}),sampleNotificationAvatarURI:l,sampleNotificationMessage:k,showSpinnerWhileRequesting:n,wasXOuted:f,hideSecondStep:o}):!f&&b("PushRegistration").pushPermissionIsOn()&&r(a,c,d,h,i)})["catch"](function(){b("PushRegistration").pushPermissionIsDenied()&&m()})},installPush:function(a,c,d,e,f,g,h,i,j,k,n,o){__p&&__p();var s=this;k===void 0&&(k="default");n===void 0&&(n=0);o===void 0&&(o=0);var t=typeof k==="string"&&k!=="default",u=b("PushRegistration").get(a,c);e=u.isPushRegistered(e,b("XPushRegisterServiceWorkerController"),b("XBrowserPushDisabledController"),b("AsyncRequest"),!!g,function(){q(d,u)},i);b("Promise").all([e,b("incognito")()]).then(function(e){__p&&__p();var g=e[0];e=e[1];if(g||e)return;m();if(b("PushRegistration").pushPermissionIsPending()){if(!j||f)return;b("QE2Logger").logExposureForUser("chrome_push_custom_prompt_experiments");t?(b("ReactDOM").render(b("React").jsx(b("NotificationPermissionDummyRequest.react"),{promptTitleIndex:n,promptBodyIndex:o,onNotNow:function(){s._recordUserDummyPromptAction("dummy_prompt_not_now",c),p(d)},onAccept:function(){s._recordUserDummyPromptAction("dummy_prompt_accept",c),s._renderDefaultPushRequest({path:a,appID:c,baseElement:d,browserName:h,workerIsForPushOnly:i})},onIgnore:function(){s._recordUserDummyPromptAction("dummy_prompt_dismissed",c),p(d)},isBinary:k==="binary"}),d),l("dummy_prompt_request",c,"dummy_prompt")):s._renderDefaultPushRequest({path:a,appID:c,baseElement:d,browserName:h,workerIsForPushOnly:i})}else f||r(a,c,d,h,i)})["catch"](function(){b("PushRegistration").pushPermissionIsDenied()&&m()})},_recordUserDummyPromptAction:function(a,c){l(a,c,"dummy_prompt");c=b("XBrowserPushDummyPromptActionController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setData({user_action:a}).setMethod("POST").send()},_renderDefaultPushRequest:function(a){var c=a.path,d=a.appID,e=a.baseElement,f=a.browserName;a=a.workerIsForPushOnly;b("ReactDOM").render(b("React").jsx(b("NotificationPermissionRequest.react"),{onHide:function(){p(e)}}),e);r(c,d,e,f,a)},_showRequestPermissions:function(a){var c=a.appID,d=a.baseElement,e=a.hasEnoughFriendsToRequestPush,f=a.isWebNotifications,g=a.onAcceptCallback,i=a.sampleNotificationAvatarURI,j=a.sampleNotificationMessage,k=a.showSpinnerWhileRequesting,m=a.wasXOuted;a=a.hideSecondStep;h.once("complete",function(a){p(d),l("twostep_suppressed",c)});if(!e||m)return;l("twostep_request",c);b("ReactDOM").render(b("React").jsx(b("NotificationPermissionRequestWithPreview.react"),{isWebNotifications:f,notificationImage:i||void 0,notificationMessage:j||void 0,onAccept:g,onClose:function(){l("twostep_notnow",c),h.emitRemote("complete"),n(c),p(d)},showSpinnerWhileRequesting:k,hideSecondStep:a}),d)},_getOnPushNotificationsAccept:function(a){var c=a.appID,d=a.baseElement,e=a.browserName,f=a.callback,g=a.path,i=a.workerIsForPushOnly;return function(){l("twostep_accept",c),h.emitRemote("complete"),b("promiseDone")(r(g,c,d,e,i).then(f,f))}},_getOnWebNotificationsDialogAccept:function(a){var b=this,c=a.appID,d=a.callback;return function(){l("twostep_accept",c),b._requestWebNotificationsFromBrowser(c,d)}},_requestWebNotificationsFromBrowser:function(a,b){l("turn_on",a),g.requestPermission(b)}};e.exports=a}),null);